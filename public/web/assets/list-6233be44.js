import{U as x,ae as j,af as f,ag as y,R as g,j as e,V as n,X as r,Z as i,g as v,$ as w,H as c,ah as o,P as C}from"./modulepreload-polyfill-ac2ad948.js";import{C as K}from"./cascader-4c2f272d.js";import{P as d}from"./index-952c5e1d.js";import"./index-9069c2b5.js";const P=()=>{const t=x(),{mutate:u}=j(),{mutate:m}=f(),{create:h,edit:b}=y(),p=g.useMemo(()=>[{colKey:"row-select",type:"multiple"},{colKey:"id",sorter:!0,sortType:"all",title:"ID",width:100},{colKey:"title",title:t("content.article.fields.title"),minWidth:200,cell:({row:l})=>{var a;return e.jsxs(n,{size:"small",children:[((a=l.images)==null?void 0:a[0])&&e.jsx(n.Image,{src:l.images}),e.jsx(n.Title,{children:l.title}),e.jsx(n.Desc,{children:l.subtitle})]})}},{colKey:"class_name",title:t("content.article.fields.category"),width:200,cell:({row:l})=>{var a;return(a=l.class_name)==null?void 0:a.join(" > ")}},{colKey:"source",title:t("content.article.fields.source"),width:200},{colKey:"status",title:t("content.article.fields.status"),width:150,filter:{type:"single",list:[{label:t("content.article.tab.published"),value:"1"},{label:t("content.article.tab.unpublished"),value:"2"}]},cell:({row:l})=>e.jsx(e.Fragment,{children:l.status?e.jsx(r,{theme:"warning",variant:"outline",children:t("content.article.tab.published")}):e.jsx(r,{theme:"success",variant:"outline",children:t("content.article.tab.unpublished")})})},{colKey:"created_at",title:t("content.article.fields.createdAt"),sorter:!0,sortType:"all",width:200},{colKey:"link",title:t("table.actions"),fixed:"right",align:"center",width:120,cell:({row:l})=>e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(i,{theme:"primary",onClick:()=>b("content.article",l.id),children:t("buttons.edit")}),e.jsx(d,{content:t("buttons.confirm"),destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default",onConfirm:()=>{u({resource:"content.article",id:l.id})},children:e.jsx(i,{theme:"danger",children:t("buttons.delete")})})]})}],[t]),s=v.useRef(null);return e.jsx(w,{ref:s,columns:p,tabs:[{label:t("content.article.tab.all"),value:"0"},{label:t("content.article.tab.published"),value:"1"},{label:t("content.article.tab.unpublished"),value:"2"}],batchRender:()=>e.jsx(e.Fragment,{children:e.jsx(d,{content:t("buttons.confirm"),destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default",onConfirm:()=>{var l;m({resource:"content.article",ids:((l=s.current)==null?void 0:l.selecteds)||[]})},children:e.jsx(c,{variant:"outline",theme:"danger",icon:e.jsx("div",{className:"i-tabler:trash t-icon"}),children:t("buttons.delete")})})}),actionRender:()=>e.jsx(c,{icon:e.jsx("div",{className:"t-icon i-tabler:plus"}),onClick:()=>{h("content.article")},children:t("buttons.create")}),filterRender:()=>e.jsxs(e.Fragment,{children:[e.jsx(o,{name:"keyword",children:e.jsx(C,{placeholder:t("content.article.validate.title")})}),e.jsx(o,{name:"class_id",children:e.jsx(K,{placeholder:t("content.article.validate.class"),url:"content/category",keys:{label:"name",value:"id"},format:l=>parseInt(l),filterable:!0,clearable:!0})})]})})};export{P as default};
