import{j as s}from"./vendor-map-10JxgbXS.js";import{r as h}from"./vendor-react-CEAiij2-.js";import{m as L,_ as B,$ as M}from"./vendor-refine-D6iU_90Y.js";import{y as P,M as z,G as E,H as g,g as H}from"./modulepreload-polyfill-4Dy0yiAt.js";import"./vendor-echarts-BA2V57Gb.js";import{F as v,B as c,ag as $,ah as A,ai as G,aj as O,O as S,a3 as V}from"./vendor-tdesign-DmncltsQ.js";import"./vendor-tinymce-DBANSpiv.js";import"./vendor-lib-dAQ50EbT.js";const X=({className:t,title:m,children:l,onSubmit:i,onResult:d,back:b,rest:u,headerRender:k,actionRender:F,settingRender:x,formProps:N,form:C,...y})=>{var f;const[e,I]=h.useState(),w=L(),o=B(),{resource:a}=M(),{name:p}=P(),[D,j]=h.useState(!1),[n]=v.useForm(C);return s.jsx(z,{title:m,header:k,icon:(f=a==null?void 0:a.meta)==null?void 0:f.icon,actions:s.jsxs(s.Fragment,{children:[b&&s.jsx(c,{onClick:()=>{w()},variant:"outline",icon:s.jsx($,{}),children:o("buttons.back")}),u&&s.jsx(c,{onClick:()=>{n.reset()},variant:"outline",icon:s.jsx(A,{}),loading:!!(e!=null&&e.formLoading),children:o("buttons.rest")}),F,x&&s.jsx(c,{variant:"outline",theme:"primary",icon:s.jsx(G,{}),onClick:()=>j(!0),children:o("buttons.setting")}),s.jsx(c,{onClick:()=>{n.submit()},loading:!!(e!=null&&e.formLoading),icon:s.jsx(O,{}),children:o("buttons.save")})]}),children:s.jsx(S,{className:t,children:s.jsxs(E,{form:n,onResult:r=>{d==null||d(r),I(r)},onSubmit:async r=>{await(i==null?void 0:i(r))},formProps:{labelAlign:"left",className:"divide-y divide-gray-2 dark:divide-gray-10",...N},...y,children:[l,s.jsx(g.Render,{mark:[p,a==null?void 0:a.name,"form"]}),x&&s.jsxs(V,{sizeDraggable:!0,size:"450px",confirmBtn:o("buttons.save"),onConfirm:()=>{j(!1),n.submit()},header:o("buttons.setting"),visible:D,onClose:()=>j(!1),children:[x,s.jsx(g.Render,{mark:[p,a==null?void 0:a.name,"form","setting"]})]})]})})})},Y=({label:t,help:m,requiredMark:l,...i})=>s.jsxs("div",{className:"grid grid-cols-1 mb-4 gap-4 pt-4 md:grid-cols-5",children:[t&&s.jsxs("div",{className:"col-span-2 xl:col-span-1",children:[s.jsxs("div",{className:"relative",children:[l&&s.jsx("span",{className:"absolute text-error -left-3",children:"*"}),t]}),s.jsx("div",{className:"mt-1 text-sm text-placeholder",children:m})]}),s.jsx("div",{className:H([t?"flex items-center col-span-3 xl:col-span-4":"col-span-5"]),children:s.jsx(v.FormItem,{...i,className:"w-full"})})]});export{X as F,Y as a};
