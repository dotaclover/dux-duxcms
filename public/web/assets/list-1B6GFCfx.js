function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/group-CziEfOG-.js","assets/modulepreload-polyfill-DkiKXnSB.js","assets/upload-aVvIvfiW.js","assets/uploadFile-pTi1aoYj.js","assets/useUpload-DH6oH64-.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as l}from"./index-CInEZ-VQ.js";import{X as j,g as v,s as w,j as e,a2 as b,a7 as g,P as _,S as N}from"./modulepreload-polyfill-DkiKXnSB.js";import{B as a,c as y}from"./button-D0ULnvDG.js";import{D}from"./link-JNlAaly3.js";import{u as I}from"./useSelect-Bn3A9Gfh.js";import"./action-BYcpOc6q.js";import"./index-BEGpCFfB.js";const E=({mime:t})=>{switch(!0){case/^image\//.test(t):return e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded p-2 text-white bg-brand",children:e.jsx("div",{className:"i-tabler:photo h-6 w-6"})});case/^video\//.test(t):return e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded p-2 text-white bg-success",children:e.jsx("div",{className:"i-tabler:video h-6 w-6"})});case/^audio\//.test(t):return e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded p-2 text-white bg-warning",children:e.jsx("div",{className:"i-tabler:audio h-6 w-6"})});case/^application\/pdf$/.test(t):return e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded p-2 text-white bg-error",children:e.jsx("div",{className:"i-tabler:file-pdf h-6 w-6"})});case/^application\/vnd\.openxmlformats-officedocument\.wordprocessingml\.document$/.test(t):case/^application\/msword$/.test(t):return e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded p-2 text-white bg-brand",children:e.jsx("div",{className:"i-tabler:file-word h-6 w-6"})});case/^application\/vnd\.openxmlformats-officedocument\.spreadsheetml\.sheet$/.test(t):case/^application\/vnd\.ms-excel$/.test(t):return e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded p-2 text-white bg-brand",children:e.jsx("div",{className:"i-tabler:file-excel h-6 w-6"})});case/^application\/zip$/.test(t):case/^application\/x-rar-compressed$/.test(t):case/^application\/x-7z-compressed$/.test(t):return e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded p-2 text-white bg-brand",children:e.jsx("div",{className:"i-tabler:file-zip h-6 w-6"})});default:return e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded p-2 text-white bg-brand",children:e.jsx("div",{className:"i-tabler:file-unknown h-6 w-6"})})}},z=()=>{var d,n;const t=j(),s=v.useRef(null),{options:r,onSearch:f,queryResult:u}=I({resource:"tools.fileDir",optionLabel:"name",optionValue:"id"}),h=w.useMemo(()=>[{colKey:"name",title:t("tools.file.fields.name"),minWidth:300,cell:({row:i})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{children:e.jsx(E,{mime:i.mime})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{children:i.name}),e.jsx("div",{className:"text-sm text-gray",children:i.mime})]})]})},{colKey:"dir_name",title:t("tools.file.fields.dir"),width:150},{colKey:"size",title:t("tools.file.fields.size"),width:150},{colKey:"driver",title:t("tools.file.fields.driver"),width:150},{colKey:"time",title:t("tools.file.fields.time"),width:200},{colKey:"link",title:t("table.actions"),fixed:"right",align:"center",width:160,cell:({row:i})=>e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(b,{theme:"primary",href:i.url,target:"_block",children:t("buttons.show")}),e.jsx(D,{rowId:i.id})]})}],[t]),p=(n=(d=s.current)==null?void 0:d.filters)==null?void 0:n.dir_id;return e.jsx(e.Fragment,{children:e.jsx(g,{ref:s,columns:h,table:{rowKey:"id"},filterRender:()=>{var i,c,o,m,x;return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx(a,{resource:"tools.fileDir",action:"create",variant:"outline",theme:"default",title:t("tools.file.fields.addDir"),icon:e.jsx("div",{className:"i-tabler:plus"}),component:()=>l(()=>import("./group-CziEfOG-.js"),__vite__mapDeps([0,1])),children:e.jsx(e.Fragment,{})})}),e.jsx(_.FormItem,{name:"dir_id",initialData:(i=r==null?void 0:r[0])==null?void 0:i.value,children:e.jsx(N,{filterable:!0,clearable:!0,onSearch:f,options:r,placeholder:t("tools.file.placeholder.dir"),loading:u.isLoading})}),((o=(c=s.current)==null?void 0:c.filters)==null?void 0:o.dir_id)&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{resource:"tools.fileDir",action:"edit",variant:"outline",theme:"default",title:t("tools.file.fields.editDir"),icon:e.jsx("div",{className:"i-tabler:edit"}),component:()=>l(()=>import("./group-CziEfOG-.js"),__vite__mapDeps([0,1])),rowId:(m=s.current)==null?void 0:m.filters.dir_id,children:e.jsx(e.Fragment,{})}),e.jsx(y,{resource:"tools.fileDir",variant:"outline",theme:"default",icon:e.jsx("div",{className:"i-tabler:trash"}),rowId:(x=s.current)==null?void 0:x.filters.dir_id,children:e.jsx(e.Fragment,{})})]})]})},actionRender:()=>e.jsx(a,{component:()=>l(()=>import("./upload-aVvIvfiW.js"),__vite__mapDeps([2,1,3,4])),action:"upload",title:t("tools.file.fields.upload"),icon:e.jsx("div",{className:"t-icon i-tabler:plus"}),rowId:p})})})};export{z as default};
