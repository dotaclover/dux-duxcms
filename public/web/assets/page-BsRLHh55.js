import{j as e}from"./vendor-map-xrlPGoMd.js";import{_ as F,W as I,ar as v}from"./vendor-refine-BPS4QmKj.js";import{y,T as k}from"./modulepreload-polyfill-FQPaZMP9.js";import{r as u}from"./vendor-react-CEAiij2-.js";import"./vendor-echarts-BA2V57Gb.js";import{F as a,I as p,R as s,$ as E,aj as M,a7 as R,Z as w,ad as C}from"./vendor-tdesign-CDUa2Lvz.js";import{F as P,a as o}from"./page-BZ0b5xrd.js";import{U as _}from"./uploadImageManage-DhvZtqhU.js";import{E as A}from"./tinymce-iCxC44fp.js";import"./vendor-lib-DkJHNO_p.js";import{u as x}from"./useSelect-CHkdsRnl.js";import"./index-O7P1qK8T.js";import{M as D}from"./form-Cv1CfpHl.js";import"./vendor-tinymce-DBANSpiv.js";import"./vendor-markdown-DKT2DIHL.js";import"./manage-B3i6o4zW.js";import"./useUpload-BbSe5Hcu.js";import"./cascader-5lOqLYKR.js";import"./uploadImage-BDM88I0H.js";import"./uploadFile-DxEqfc2Y.js";const ee=()=>{const t=F(),{id:h}=I(),{data:n,isLoading:j}=v({resource:"content.category"}),f=(n==null?void 0:n.data)||[],[m]=a.useForm(),l=a.useWatch("class_id",m),{request:g}=y(),[r,d]=u.useState();u.useEffect(()=>{if(!l){d(void 0);return}g(`content/category/${l}/magic`,"get").then(c=>{d((c==null?void 0:c.data)||{})})},[l]);const{options:b}=x({resource:"content.source",optionLabel:"name",optionValue:"id"}),{options:i}=x({resource:"content.attr",optionLabel:"name",optionValue:"id"});return e.jsxs(P,{formProps:{labelAlign:"top"},back:!0,form:m,id:h,settingRender:e.jsxs(e.Fragment,{children:[e.jsx(a.FormItem,{label:t("content.article.fields.subtitle"),name:"subtitle",children:e.jsx(p,{})}),e.jsx(a.FormItem,{label:t("content.article.fields.image"),name:"images",children:e.jsx(_,{accept:"image/*",multiple:!0})}),e.jsx(a.FormItem,{label:t("content.article.fields.imagesAuto"),name:"images_auto",initialData:!0,children:e.jsxs(s.Group,{children:[e.jsx(s,{value:!0,children:t("content.article.fields.auto")}),e.jsx(s,{value:!1,children:t("content.article.fields.manual")})]})}),(i==null?void 0:i.length)>0&&e.jsx(a.FormItem,{label:t("content.article.fields.attrs"),name:"attrs",children:e.jsx(E.Group,{options:i})}),e.jsx(a.FormItem,{label:t("content.article.fields.source"),name:"source",children:e.jsx(M,{options:b,highlightKeyword:!0,filterable:!1,clearable:!0})}),(r==null?void 0:r.fields)&&e.jsx(D,{fields:r==null?void 0:r.fields,prefix:"extend"}),e.jsx(a.FormItem,{label:t("content.article.fields.status"),name:"status",initialData:!0,children:e.jsxs(s.Group,{children:[e.jsx(s,{value:!0,children:t("content.article.tab.published")}),e.jsx(s,{value:!1,children:t("content.article.tab.unpublished")})]})})]}),children:[e.jsx(o,{name:"class_id",children:e.jsx(R,{loading:j,options:f,keys:{label:"name",value:"id"},clearable:!0,checkStrictly:!0,placeholder:t("content.article.validate.class")})}),e.jsx(o,{name:"title",children:e.jsx(p,{placeholder:t("content.article.validate.title")})}),e.jsx(o,{name:"content",children:e.jsx(k,{})}),e.jsx(o,{name:"content2",children:e.jsx(A,{})}),e.jsx(o,{name:"keywords",children:e.jsx(w,{placeholder:t("content.article.validate.keywords")})}),e.jsx(o,{name:"descriptions",initialData:"",children:e.jsx(C,{placeholder:t("content.article.validate.descriptions")})})]})};export{ee as default};
