import{j as s}from"./vendor-map-xrlPGoMd.js";import{w as F,x as O,M as L,g as v}from"./modulepreload-polyfill-DuwZr_J0.js";import{r as j}from"./vendor-react-CEAiij2-.js";import{_ as u,aq as _,ar as R,z as $}from"./vendor-refine-BPS4QmKj.js";import{E as q}from"./vendor-echarts-BA2V57Gb.js";import{O as x,b as m,x as G}from"./vendor-tdesign-CDUa2Lvz.js";import"./vendor-tinymce-DBANSpiv.js";import"./vendor-lib-DkJHNO_p.js";import"./vendor-markdown-BG3k-yNs.js";const S=({single:e,options:a,min:c})=>{const l=F(i=>i.dark),d=j.useMemo(()=>{const i=a||[];let t={grid:{top:30,right:30,left:30,bottom:30}};return c&&(t={grid:{top:5,right:5,bottom:5,left:5,show:!1},xAxis:{show:!1},yAxis:{show:!1}}),O.all([t,...i])},[c,a]);return s.jsx(q,{option:d,theme:l?e?"dark-single":"dark":e?"light-single":"light",style:{height:"100%",width:"100%"},opts:{renderer:"svg"}})},B=({labels:e,data:a,legend:c,min:l,options:d})=>{const i=j.useMemo(()=>{const t={xAxis:{type:"category",data:e},yAxis:{type:"value"},series:a==null?void 0:a.map(n=>({name:n.name,data:n.data,type:"bar",barMaxWidth:40})),tooltip:{trigger:"axis"}};return c&&(t.legend={show:!0}),t},[a,e,c]);return s.jsx(S,{options:[i,d||{}],min:l})},E=({labels:e,data:a,min:c,legend:l,options:d})=>{const i=j.useMemo(()=>{const t={xAxis:{type:"category",data:e,boundaryGap:!1},yAxis:{type:"value"},series:a==null?void 0:a.map(n=>({name:n.name,data:n.data,type:"line",smooth:!0})),tooltip:{trigger:"axis"}};return l&&(t.legend={show:!0}),t},[a,e,l]);return s.jsx(S,{options:[i,d||{}],min:c})},H="data:image/svg+xml,%3csvg%20t='1696861059912'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='26759'%20width='200'%20height='200'%3e%3cpath%20d='M755.54%20586.163h236.063c1.824-16.384%202.56-33.088%202.56-50.208%200-80.224-21.536-155.455-59.136-220.255%2038.88-103.296%2037.504-190.975-14.56-243.391-49.504-49.28-182.303-41.28-332.414%2025.184-11.104-0.832-22.304-1.28-33.632-1.28-206.047%200-378.91%20141.791-426.718%20332.862%2064.64-82.752%20132.639-142.751%20223.487-186.431-8.256%207.744-56.448%2055.648-64.576%2063.776-239.551%20239.487-315.103%20552.317-233.791%20633.597%2061.792%2061.76%20173.759%2051.328%20302.367-11.648%2059.808%2030.464%20127.487%2047.616%20199.231%2047.616%20193.119%200%20356.798-124.319%20416.094-297.439h-237.855c-32.736%2060.384-96.736%20101.472-170.207%20101.472s-137.471-41.088-170.207-101.472c-14.56-27.264-22.912-58.56-22.912-91.648v-0.736h386.27zM369.622%20470.131c5.472-97.12%2086.208-174.591%20184.767-174.591s179.327%2077.472%20184.767%20174.591h-369.534zM918.291%20121.141c33.536%2033.888%2032.672%2096.224%204%20174.015-49.12-74.912-120.511-133.951-204.799-167.647%2090.112-38.624%20163.391-43.744%20200.767-6.368zM114.807%20924.593c-42.784-42.784-29.888-132.607%2025.216-240.831%2034.304%2096.256%20101.152%20177.087%20187.327%20229.151-95.424%2043.328-173.535%2050.688-212.575%2011.68z'%20fill='%231296db'%20p-id='26760'%3e%3c/path%3e%3c/svg%3e",W="data:image/svg+xml,%3csvg%20t='1696861032739'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='23011'%20width='200'%20height='200'%3e%3cpath%20d='M923.69886%20761.758375a328.212997%20328.212997%200%200%201-41.986312%2018.793873%20408.90669%20408.90669%200%200%201-143.553199%2025.991526c-189.138338%200-353.884628-129.957632-353.884629-297.10314a125.479092%20125.479092%200%200%201%2065.578621-109.16441c-171.144204%207.197653-215.129864%20185.539511-215.129865%20289.905486%200%20295.503661%20272.311222%20325.493884%20331.092059%20325.493884%2031.589701%200%2079.174188-9.197002%20107.964802-18.394003l5.198305-1.599479a511.833134%20511.833134%200%200%200%20266.313178-211.131168%2015.994785%2015.994785%200%200%200-4.798436-21.99283%2016.834512%2016.834512%200%200%200-16.794524-0.799739z'%20fill='%230F5197'%20p-id='23012'%3e%3c/path%3e%3cpath%20d='M422.662206%20965.29202A317.816387%20317.816387%200%200%201%20331.891798%20880.119787a322.734783%20322.734783%200%200%201%20117.961543-479.843563%20132.47681%20132.47681%200%200%201%2061.979793-15.994786%20130.317514%20130.317514%200%200%201%20102.766497%2051.983053%20128.79801%20128.79801%200%200%201%2025.591657%2074.775622c0-0.799739%2097.968061-318.29623-319.895709-318.296231-175.54277%200-319.895709%20166.745638-319.895709%20312.698056a521.50998%20521.50998%200%200%200%2048.384226%20223.926996%20512.113043%20512.113043%200%200%200%20625.396111%20268.312526%20303.02121%20303.02121%200%200%201-251.518001-32.38944z'%20fill='%230C88DA'%20p-id='23013'%3e%3c/path%3e%3cpath%20d='M609.001456%20595.412606c-3.198957%203.998696-13.195698%209.996741-13.195698%2022.792569%200%2010.396611%206.797784%2020.393351%2018.793873%2028.790614%2057.581228%2039.986964%20165.945899%2034.788658%20166.345769%2034.788659a238.922108%20238.922108%200%200%200%20121.160499-33.18918%20245.120087%20245.120087%200%200%200%20121.56037-211.531038c1.199609-89.570799-31.989571-149.151374-45.185269-175.54277a440.496391%20440.496391%200%200%200-83.732702-113.842886%20493.639066%20493.639066%200%200%200-142.673486-97.088347A582.530086%20582.530086%200%200%200%20511.833134%200.006718%20511.833134%20511.833134%200%200%200%200%20504.642199c1.999348-145.952417%20147.152026-263.91396%20319.895709-263.91396%2013.995437%200%2093.969365%201.199609%20167.945247%2040.386833%2065.178751%2034.388789%2099.567539%2075.575361%20123.159848%20116.761934%2024.791917%2042.786051%2029.190483%2096.368582%2029.190484%20117.961543s-10.79648%2053.182662-31.189832%2079.574057z'%20fill='%232CC3D5'%20p-id='23014'%3e%3c/path%3e%3cpath%20d='M649.548237%2015.12179s372.638514%20385.154434-48.544174%20593.246592c0%200-27.231122%2045.225256%20102.846471%2068.61763%200%200%20215.489747%2046.824734%20302.461393-142.513538%2017.51429-59.380641%2033.109206-151.390644-13.195698-253.797259a427.860511%20427.860511%200%200%200-76.974905-113.682937%20546.381871%20546.381871%200%200%200-113.083134-94.68913c-68.457682-34.988593-153.509953-57.181358-153.509953-57.181358z'%20fill='%2349D668'%20p-id='23015'%3e%3c/path%3e%3c/svg%3e",J="data:image/svg+xml,%3csvg%20t='1696861017786'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20895'%20width='200'%20height='200'%3e%3cpath%20d='M123.648%20178.346667C361.642667-98.602667%20802.986667-43.946667%20967.936%20279.68h-396.501333c-71.424%200-117.546667-1.621333-167.509334%2024.661333-58.709333%2030.933333-102.997333%2088.234667-118.485333%20155.52L123.648%20178.389333z'%20fill='%23EA4335'%20p-id='20896'%3e%3c/path%3e%3cpath%20d='M341.674667%20512c0%2093.866667%2076.330667%20170.24%20170.154666%20170.24%2093.866667%200%20170.154667-76.373333%20170.154667-170.24s-76.330667-170.24-170.154667-170.24c-93.866667%200-170.154667%2076.373333-170.154666%20170.24z'%20fill='%234285F4'%20p-id='20897'%3e%3c/path%3e%3cpath%20d='M577.877333%20734.848c-95.530667%2028.373333-207.274667-3.114667-268.501333-108.8-46.762667-80.64-170.24-295.765333-226.346667-393.557333-196.565333%20301.226667-27.136%20711.808%20329.685334%20781.866666l165.12-279.509333z'%20fill='%2334A853'%20p-id='20898'%3e%3c/path%3e%3cpath%20d='M669.866667%20341.76a233.130667%20233.130667%200%200%201%2043.008%20286.634667c-40.576%2069.973333-170.154667%20288.682667-232.96%20394.581333%20367.658667%2022.656%20635.733333-337.664%20514.645333-681.258667H669.866667z'%20fill='%23FBBC05'%20p-id='20899'%3e%3c/path%3e%3c/svg%3e",K="/web/assets/firefox-D0nloSrv.svg",P="data:image/svg+xml,%3csvg%20t='1696861071136'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='27741'%20width='200'%20height='200'%3e%3cpath%20d='M533.504%200C254.506667%200%2042.666667%20194.005333%2042.666667%20507.136%2042.666667%20777.642667%20238.933333%201024%20533.333333%201024%20827.818667%201024%201024%20777.642667%201024%20507.136%201024%20194.389333%20812.458667%200%20533.504%200z%20m0%2085.333333C692.906667%2085.333333%20725.333333%20294.528%20725.333333%20484.48%20725.333333%20660.437333%20707.285333%20896%20535.424%20896S341.333333%20658.133333%20341.333333%20482.176C341.333333%20292.266667%20374.016%2085.333333%20533.461333%2085.333333z'%20fill='%23D00003'%20p-id='27742'%3e%3c/path%3e%3c/svg%3e",Q="/web/assets/safari-DkpbD7z_.svg",T="/web/assets/other-D5d1xaxp.svg",d2=()=>{var b,w,N,y,C,M,z,I,k,A;const e=u(),{data:a}=_({method:"get",url:"cms/stats/index"}),{data:c}=R({resource:"content.article",meta:{params:{pageSize:5}}}),l=(b=a==null?void 0:a.data)==null?void 0:b.nums,d=(w=a==null?void 0:a.data)==null?void 0:w.views,i=(N=a==null?void 0:a.data)==null?void 0:N.push,t=(y=a==null?void 0:a.data)==null?void 0:y.class,n=(C=a==null?void 0:a.data)==null?void 0:C.spider,o=(M=a==null?void 0:a.data)==null?void 0:M.browsers,h=(z=a==null?void 0:a.data)==null?void 0:z.ips;return s.jsxs(L,{title:e("cms.dashboard.name"),icon:"i-tabler:home",children:[s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row",children:[s.jsxs("div",{className:"grid grid-cols-2 flex-none gap-4",children:[s.jsx(p,{color:"brand",title:e("cms.dashboard.nums.article"),num:l==null?void 0:l.article,icon:"i-tabler:article"}),s.jsx(p,{color:"success",title:e("cms.dashboard.nums.pv"),num:l==null?void 0:l.pv,icon:"i-tabler:eye"}),s.jsx(p,{color:"error",title:e("cms.dashboard.nums.uv"),num:l==null?void 0:l.uv,icon:"i-tabler:user"}),s.jsx(p,{color:"warning",title:e("cms.dashboard.nums.spider"),num:l==null?void 0:l.spider,icon:"i-tabler:spider"})]}),s.jsxs("div",{className:"grid-colos-1 grid gap-4 lg:grid-cols-2 lg:w-0 lg:flex-1",children:[s.jsx(x,{title:e("cms.dashboard.views.name"),children:s.jsx("div",{className:"h-61 w-full",children:s.jsx(E,{labels:d==null?void 0:d.labels,data:[{name:e("cms.dashboard.views.pv"),data:(d==null?void 0:d.pvs)||[]},{name:e("cms.dashboard.views.uv"),data:(d==null?void 0:d.uvs)||[]}],legend:!0})})}),s.jsx(x,{title:e("cms.dashboard.spider"),children:s.jsx("div",{className:"h-61 w-full",children:s.jsx(E,{labels:n==null?void 0:n.labels,data:n==null?void 0:n.data,legend:!0})})})]})]}),s.jsxs("div",{className:"mt-4 flex flex-col gap-4 gap-4 lg:flex-row",children:[s.jsxs("div",{className:"lg:w-84",children:[s.jsx(x,{title:e("cms.dashboard.source"),headerBordered:!0,children:s.jsx("div",{className:"w-full flex flex-col gap-4",children:s.jsx(m,{theme:"paragraph",loading:!o,children:o&&o.length>0&&((I=o==null?void 0:o.map)==null?void 0:I.call(o,(r,g)=>s.jsx(V,{name:r==null?void 0:r.browser,num:r==null?void 0:r.num},g)))||s.jsx(f,{})})})}),s.jsx(x,{title:e("cms.dashboard.area"),className:"mt-4",headerBordered:!0,children:s.jsx("div",{className:"w-full flex flex-col gap-4",children:s.jsx(m,{theme:"paragraph",loading:!h,children:h&&h.length>0&&h.length>0&&(h==null?void 0:h.map((r,g)=>s.jsx(U,{city:(r==null?void 0:r.city)||e("cms.dashboard.unknown"),num:r==null?void 0:r.num},g)))||s.jsx(f,{})})})})]}),s.jsxs("div",{className:"flex-grow",children:[s.jsx(x,{title:e("cms.dashboard.article.name"),headerBordered:!0,className:"mb-4",children:s.jsx("div",{className:"flex flex-col -my-3 divide-y divide-gray-3 dark:divide-gray-9",children:s.jsx(m,{theme:"paragraph",loading:!(c!=null&&c.data),className:"my-3",children:(c==null?void 0:c.data)&&((k=c==null?void 0:c.data)==null?void 0:k.length)>0&&((A=c==null?void 0:c.data)==null?void 0:A.map((r,g)=>s.jsx(X,{title:r==null?void 0:r.title,id:r==null?void 0:r.id,time:r==null?void 0:r.created_at,view:r==null?void 0:r.view},g)))||s.jsx(f,{})})})}),s.jsxs("div",{className:"grid-colos-1 grid gap-4 lg:grid-cols-2",children:[s.jsx(x,{title:e("cms.dashboard.push.name"),children:s.jsx("div",{className:"h-56 w-full",children:s.jsx(B,{labels:i==null?void 0:i.labels,data:[{name:e("cms.dashboard.push.num"),data:i==null?void 0:i.nums}]})})}),s.jsx(x,{title:e("cms.dashboard.class.name"),children:s.jsx("div",{className:"h-56 w-full",children:s.jsx(B,{labels:t==null?void 0:t.labels,data:[{name:e("cms.dashboard.class.num"),data:t==null?void 0:t.nums}]})})})]})]})]})]})},f=()=>{const e=u();return s.jsx("div",{className:"h-40 flex items-center justify-center text-secondary",children:e("cms.dashboard.noData")})},U=({city:e,num:a})=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:e}),s.jsx("div",{children:a||0})]}),V=({name:e,num:a})=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:v(["block h-4 w-4"]),children:[e==="Ie"&&s.jsx("img",{src:H}),e==="Chrome"&&s.jsx("img",{src:J}),e==="Edge"&&s.jsx("img",{src:W}),e==="Firefox"&&s.jsx("img",{src:K}),e==="Opera"&&s.jsx("img",{src:P}),e==="Safari"&&s.jsx("img",{src:Q}),e!="Ie"&&e!="Chrome"&&e!="Edge"&&e!="Firefox"&&e!="Opera"&&e!="Safari"&&s.jsx("img",{src:T})]}),e]}),s.jsx("div",{children:a||0})]}),X=({id:e,title:a,time:c,view:l})=>{const d=u(),i=$();return s.jsxs("div",{className:"flex flex-col gap-1 py-4",children:[s.jsx("div",{children:s.jsx(G,{className:"font-bold",onClick:()=>{i({to:`/admin/content/article/page/${e}`})},children:a})}),s.jsxs("div",{className:"flex gap-2 text-xs text-secondary",children:[s.jsxs("div",{children:[d("cms.dashboard.article.pv")," ",l]}),s.jsxs("div",{children:[d("cms.dashboard.article.date")," ",c]})]})]})},p=({title:e,num:a,icon:c,color:l="brand"})=>{const d={warning:["bg-warning-1","text-warning"],brand:["bg-brand-1","text-brand"],success:["bg-success-1","text-success"],error:["bg-error-1","text-error"]};return s.jsxs(x,{className:"min-w-40",children:[s.jsx("div",{className:"mt-4 flex flex-col items-center",children:s.jsx("div",{className:v(["flex items-center justify-center rounded p-2",...d[l]]),children:s.jsx("div",{className:v(["text-2xl",c])})})}),s.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[s.jsx("div",{className:"text-xs text-gray-400",children:e||s.jsx(m,{children:" "})}),s.jsx("div",{className:"mt-1 text-xl",children:a||0})]})]})};export{d2 as default};
