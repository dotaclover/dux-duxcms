import{j as e}from"./vendor-map-DjDVTs0N.js";import{G as I,A as k,aq as v}from"./vendor-refine-BK41FXO6.js";import{u as y,E,a as P}from"./modulepreload-polyfill-D6ThnDFs.js";import{r as p}from"./vendor-react-BlTfyhut.js";import"./vendor-echarts-JHGMnnew.js";import{F as a,I as d,R as o,$ as R,ab as A,a3 as C,ae as M,Z as D,ah as G}from"./vendor-tdesign-BxQoi5Mo.js";import{F as _,a as s}from"./page-BDoLOl6q.js";import{U as w}from"./uploadImageManage-HbmYZfmq.js";import"./vendor-tinymce-lUkVC9Da.js";import"./vendor-lib-CKVa3D7Q.js";import{u as x}from"./useSelect-BorzI4ID.js";import"./index-BvKTTDD6.js";import{M as L}from"./form-Cq0eFcsN.js";import{E as S}from"./editor-3FTnDpaY.js";import"./vendor-markdown-CL7ixDl-.js";import"./manage-bOx1Sh-_.js";import"./useUpload-BsrPC7ib.js";import"./editor-CvkLeIgN.js";import"./select-aCzHF-Sz.js";import"./cascader-C1UbdXvF.js";import"./uploadFile-DJwHGSth.js";import"./tinymce-BiIqtVCw.js";const se=()=>{const t=I(),{id:h}=k(),{data:l,isLoading:j}=v({resource:"content.category"}),f=(l==null?void 0:l.data)||[],[n]=a.useForm(),c=a.useWatch("class_id",n),{request:b}=y(),[r,u]=p.useState(),{name:g}=E();p.useEffect(()=>{if(!c){u(void 0);return}b(`content/category/${c}/magic`,"get").then(m=>{u((m==null?void 0:m.data)||{})})},[c]);const{options:F}=x({resource:"content.source",optionLabel:"name",optionValue:"id"}),{options:i}=x({resource:"content.attr",optionLabel:"name",optionValue:"id"});return e.jsxs(_,{formProps:{labelAlign:"top"},back:!0,form:n,id:h,settingRender:e.jsxs(e.Fragment,{children:[e.jsx(a.FormItem,{label:t("content.article.fields.subtitle"),name:"subtitle",children:e.jsx(d,{})}),e.jsx(a.FormItem,{label:t("content.article.fields.image"),name:"images",children:e.jsx(w,{accept:"image/*",multiple:!0})}),e.jsx(a.FormItem,{label:t("content.article.fields.imagesAuto"),name:"images_auto",initialData:!0,children:e.jsxs(o.Group,{children:[e.jsx(o,{value:!0,children:t("content.article.fields.auto")}),e.jsx(o,{value:!1,children:t("content.article.fields.manual")})]})}),(i==null?void 0:i.length)>0&&e.jsx(a.FormItem,{label:t("content.article.fields.attrs"),name:"attrs",children:e.jsx(R.Group,{options:i})}),e.jsx(a.FormItem,{label:t("content.article.fields.source"),name:"source",children:e.jsx(A,{options:F,highlightKeyword:!0,filterable:!1,clearable:!0})}),e.jsx(a.FormItem,{label:t("content.article.fields.url"),name:"url",children:e.jsx(d,{})}),e.jsx(a.FormItem,{label:t("content.article.fields.pushAt"),name:"push_at",children:e.jsx(C,{enableTimePicker:!0})}),(r==null?void 0:r.fields)&&e.jsx(L,{fields:r==null?void 0:r.fields,prefix:"extend"}),e.jsx(a.FormItem,{label:t("content.article.fields.status"),name:"status",initialData:!0,children:e.jsxs(o.Group,{children:[e.jsx(o,{value:!0,children:t("content.article.tab.published")}),e.jsx(o,{value:!1,children:t("content.article.tab.unpublished")})]})})]}),children:[e.jsx(s,{name:"class_id",children:e.jsx(M,{loading:j,options:f,keys:{label:"name",value:"id"},clearable:!0,checkStrictly:!0,placeholder:t("content.article.validate.class")})}),e.jsx(s,{name:"title",children:e.jsx(d,{placeholder:t("content.article.validate.title")})}),e.jsx(P.Render,{mark:[g,"content","article","form","helper"],option:{form:n}}),e.jsx(s,{name:"content",children:e.jsx(S,{})}),e.jsx(s,{name:"keywords",children:e.jsx(D,{placeholder:t("content.article.validate.keywords")})}),e.jsx(s,{name:"descriptions",initialData:"",children:e.jsx(G,{placeholder:t("content.article.validate.descriptions")})})]})};export{se as default};
