import{j as e}from"./vendor-map-DEYI1At9.js";import{u as g,a4 as k,J as S}from"./modulepreload-polyfill-qjA-9dc5.js";import{r as a}from"./vendor-react-BlTfyhut.js";import{_ as w}from"./vendor-refine-N0YDYeEW.js";import"./vendor-echarts-YtT1A1hM.js";import{I as x,c as C,a1 as h,y as N,B as j}from"./vendor-tdesign-6RiSygsd.js";import"./vendor-tinymce-DkQhX6vO.js";import"./vendor-lib-DKIH9BQe.js";import"./vendor-markdown-B4Wj7HZg.js";const z=n=>{const s=w(),{request:p}=g(),{onClose:i}=k(),[o,v]=a.useState([]),[d,r]=a.useState(!0),[c,m]=a.useState([]),[l,f]=a.useState(),[u,y]=a.useState("");return a.useEffect(()=>{r(!0),p("system/total/speed","get").then(t=>{v(t.data||[]),m(t.data||[]),f(t.meta||[])}).finally(()=>{r(!1)})},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:s("system.total.speed.domain")}),e.jsx("div",{children:e.jsx(x,{disabled:!0,value:window.location.hostname})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:s("system.total.speed.line")}),d?e.jsx(C,{loading:!0,text:s("system.total.speed.loading"),size:"small"}):e.jsx(h.Group,{value:c,onChange:t=>m(t),children:o==null?void 0:o.map((t,b)=>e.jsx(h,{value:t,children:t},b))})]}),l&&!(l!=null&&l.token)&&e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:s("system.total.speed.token")}),e.jsx("div",{children:e.jsx(x,{value:u,onChange:t=>y(t)})}),e.jsxs("div",{className:"mt-2 text-placeholder",children:[s("system.total.speed.tokenDesc")," ",e.jsx(N,{theme:"primary",href:"https://www.cesu.net/user/index",target:"_blank",children:s("system.total.speed.tokenUrl")})]})]})]}),e.jsxs(S.Footer,{children:[e.jsx(j,{type:"button",variant:"outline",onClick:i,children:s("buttons.cancel")}),e.jsx(j,{type:"button",theme:"primary",loading:d,onClick:()=>{var t;i==null||i(),(t=n==null?void 0:n.onSpeedTest)==null||t.call(n,c,u)},children:s("buttons.submit")})]})]})};export{z as default};
