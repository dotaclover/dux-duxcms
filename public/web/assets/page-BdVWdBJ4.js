import{g as s,I as se,_ as le,i as H,y as x,bo as $,bp as Me,p as $e,h as Ae,m as He,C as Fe,u as We,s as u,t as Z,bq as Ye,w as ee,J as N,br as Ge,X as Xe,am as qe,aK as Je,P as ie,j as c,$ as Qe,bs as Ue,bt as Ze,a0 as et,bu as tt,bv as te,O as nt}from"./modulepreload-polyfill-DkiKXnSB.js";function ne(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(t,d).enumerable})),e.push.apply(e,r)}return e}function re(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?ne(Object(e),!0).forEach(function(r){le(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ne(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var rt={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M11 1h1A11 11 0 111 12v-1h2v1a9 9 0 109-9h-1V1z"}}]},ue=s.forwardRef(function(t,n){return s.createElement(se,re(re({},t),{},{id:"load",ref:n,icon:rt}))});ue.displayName="LoadIcon";const at=ue;function ae(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(t,d).enumerable})),e.push.apply(e,r)}return e}function oe(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?ae(Object(e),!0).forEach(function(r){le(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ae(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var ot={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h14.41L22 7.59V22H2V2zm2 2v16h2v-6h12v6h2V8.41L15.59 4H13v4H6V4H4zm4 0v2h3V4H8zm8 16v-4H8v4h8z"}}]},de=s.forwardRef(function(t,n){return s.createElement(se,oe(oe({},t),{},{id:"save",ref:n,icon:ot}))});de.displayName="SaveIcon";const ct=de;/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var st={closeOnEscKeydown:void 0,closeOnOverlayClick:void 0,destroyOnClose:!1,closeBtn:!0,footer:!0,header:!0,mode:"overlay",placement:"right",preventScrollThrough:!0,showInAttachedElement:!1,showOverlay:!0,size:void 0,sizeDraggable:!1,visible:!1};/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var lt=function(n,e){var r=s.useState(null),d=H(r,2),f=d[0],g=d[1],h=function(a){var l=a.x,C=a.y;e&&(n==="right"&&g("".concat(document.documentElement.clientWidth-l+8,"px")),n==="left"&&g("".concat(l+8,"px")),n==="top"&&g("".concat(C+8,"px")),n==="bottom"&&g("".concat(document.documentElement.clientHeight-C+8,"px")))},v=function m(){document.removeEventListener("mouseup",m,!0),document.removeEventListener("mousemove",h,!0)},i=s.useMemo(function(){var m=["right","left"].includes(n),a={left:"right",right:"left",top:"bottom",bottom:"top"};return x(x(x(x({zIndex:1,position:"absolute",background:"transparent"},a[n],0),"width",m?"16px":"100%"),"height",m?"100%":"16px"),"cursor",m?"col-resize":"row-resize")},[n]),b=function(){document.addEventListener("mouseup",v,!0),document.addEventListener("mousemove",h,!0)};return{dragSizeValue:f,enableDrag:b,draggableLineStyles:i}};/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var it=1;function ut(t){var n=t.preventScrollThrough,e=t.mode,r=t.visible,d=t.showInAttachedElement,f=t.placement,g=t.sizeValue,h=t.drawerWrapper,v=s.useRef(null),i=s.useRef(null),b=s.useCallback(function(){clearTimeout(i.current),i.current=setTimeout(function(){var a,l;(a=v.current.parentNode)===null||a===void 0||(l=a.removeChild)===null||l===void 0||l.call(a,v.current)},150)},[]),m=s.useMemo(function(){return{top:"margin: ".concat(g," 0 0 0"),left:"margin: 0 0 0 ".concat(g),right:"margin: 0 0 0 -".concat(g),bottom:"margin: -".concat(g," 0 0 0")}[f]},[f,g]);$(function(){if(!(typeof document>"u")){v.current||(v.current=document.createElement("style"));var a=document.documentElement.scrollHeight>document.documentElement.clientHeight,l=a?Me():0;v.current.dataset.id="td_drawer_".concat(+new Date,"_").concat(it+=1),v.current.innerHTML=`
      html body {
        overflow-y: hidden;
        transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;
        `.concat(e==="push"?"":"width: calc(100% - ".concat(l,"px);"),`
      }
    `)}},[e]),$(function(){h&&e==="push"&&(r?h.parentNode.style.cssText+=` 
            transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;
            `.concat(m,`;}
          `):h.parentNode.style.cssText=h.parentNode.style.cssText.replace(/margin:.+;/,""))},[e,m,h,r]),$(function(){typeof document>"u"||!n||d||(r?document.head.appendChild(v.current):b())},[n,r,d,b]),s.useEffect(function(){return b},[b])}/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */function ce(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(t,d).enumerable})),e.push.apply(e,r)}return e}function A(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?ce(Object(e),!0).forEach(function(r){x(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ce(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var B={CLICK_OVERLAY:"overlay",CLICK_CLOSE_BTN:"close-btn",CLICK_CANCEL_BTN:"cancel",KEYDOWN_ESC:"esc"},me=s.forwardRef(function(t,n){var e=$e(t,st),r=e.className,d=e.style,f=e.visible,g=e.attach,h=e.showOverlay,v=e.size,i=e.placement,b=e.onCancel,m=e.onConfirm,a=e.onClose,l=e.onCloseBtnClick,C=e.onOverlayClick,I=e.onEscKeydown,O=e.showInAttachedElement,y=e.closeOnOverlayClick,E=e.closeOnEscKeydown,R=e.children,j=e.header,_=e.body,S=e.footer,w=e.closeBtn,k=e.cancelBtn,D=e.confirmBtn,fe=e.zIndex,ve=e.destroyOnClose,F=e.sizeDraggable,pe=Ae("drawer"),W=H(pe,2),P=W[0],Y=W[1],ge=He({CloseIcon:Fe}),he=ge.CloseIcon,V=v??P.size,ye=Y(P.confirm),be=Y(P.cancel),Ce=We(),Oe=Ce.classPrefix,G=s.useRef(),K=s.useRef(),T=s.useRef(),p="".concat(Oe,"-drawer"),we=u.isValidElement(w)?w:u.createElement(he,null),M=lt(i,F),X=M.dragSizeValue,xe=M.enableDrag,Ee=M.draggableLineStyles,je=s.useState(f),q=H(je,2),J=q[0],Q=q[1],L=s.useMemo(function(){var o={small:"300px",medium:"500px",large:"760px"};return X||o[V]||V},[X,V]);ut(A(A({},e),{},{sizeValue:L,drawerWrapper:T.current})),s.useImperativeHandle(n,function(){return K.current}),s.useEffect(function(){var o,z;f&&((o=K.current)===null||o===void 0||(z=o.focus)===null||z===void 0||z.call(o))},[f]);function _e(o){C==null||C({e:o}),(y??P.closeOnOverlayClick)&&(a==null||a({e:o,trigger:B.CLICK_OVERLAY}))}function Se(o){l==null||l({e:o}),a==null||a({e:o,trigger:B.CLICK_CLOSE_BTN})}function ke(o){o.key==="Escape"&&(I==null||I({e:o}),(E??P.closeOnEscKeydown)&&(a==null||a({e:o,trigger:B.KEYDOWN_ESC})))}function De(o){b==null||b({e:o}),a==null||a({e:o,trigger:B.CLICK_CANCEL_BTN})}function Ne(o){m==null||m({e:o})}var Ie=s.useMemo(function(){return{transform:f&&J?"translateX(0)":void 0,width:["left","right"].includes(i)?L:"",height:["top","bottom"].includes(i)?L:""}},[f,i,L,J]);function Pe(){if(S!==!0)return S;var o=u.createElement(N,{theme:"default",onClick:De,className:"".concat(p,"__cancel")},k&&typeof k=="string"?k:be),z=u.createElement(N,{theme:"primary",onClick:Ne,className:"".concat(p,"__confirm")},D&&typeof D=="string"?D:ye),Ke=k&&u.isValidElement(k)?k:o,U=D&&u.isValidElement(D)?D:z,Te={display:"flex",justifyContent:i==="right"?"flex-start":"flex-end"};return u.createElement("div",{style:Te},i==="right"&&U,Ke,i!=="right"&&U)}var ze=h&&u.createElement(Z,{in:f,timeout:200,classNames:"".concat(p,"-fade"),nodeRef:G},u.createElement("div",{ref:G,className:"".concat(p,"__mask"),onClick:_e})),Le=w&&u.createElement("div",{onClick:Se,className:"".concat(p,"__close-btn")},we),Be=j&&u.createElement("div",{className:"".concat(p,"__header")},j),Re=u.createElement("div",{className:"".concat(p,"__body")},_||R),Ve=S&&u.createElement("div",{className:"".concat(p,"__footer")},Pe());return u.createElement(Z,{in:f,nodeRef:T,unmountOnExit:ve,timeout:{appear:10,enter:10,exit:300},onEntered:function(){return Q(!0)},onExited:function(){return Q(!1)}},u.createElement(Ye,{attach:g,ref:T},u.createElement("div",{ref:K,className:ee(p,r,"".concat(p,"--").concat(i),x(x(x({},"".concat(p,"--open"),f),"".concat(p,"--attach"),O),"".concat(p,"--without-mask"),!h)),style:A({zIndex:fe},d),tabIndex:-1,onKeyDown:ke},ze,u.createElement("div",{className:ee("".concat(p,"__content-wrapper"),"".concat(p,"__content-wrapper--").concat(i)),style:Ie},Le,Be,Re,Ve,F&&u.createElement("div",{style:Ee,onMouseDown:xe})))))});me.displayName="Drawer";/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var dt=me;const ft=({className:t,title:n,children:e,onSubmit:r,onResult:d,back:f,rest:g,headerRender:h,actionRender:v,settingRender:i,formProps:b,form:m,...a})=>{var S;const[l,C]=s.useState(),I=Ge(),O=Xe(),{resource:y}=qe(),{name:E}=Je(),[R,j]=s.useState(!1),[_]=ie.useForm(m);return c.jsx(Qe,{title:n,header:h,icon:(S=y==null?void 0:y.meta)==null?void 0:S.icon,actions:c.jsxs(c.Fragment,{children:[f&&c.jsx(N,{onClick:()=>{I()},variant:"outline",icon:c.jsx(Ue,{}),children:O("buttons.back")}),g&&c.jsx(N,{onClick:()=>{_.reset()},variant:"outline",icon:c.jsx(at,{}),loading:!!(l!=null&&l.formLoading),children:O("buttons.rest")}),v,i&&c.jsx(N,{variant:"outline",theme:"primary",icon:c.jsx(Ze,{}),onClick:()=>j(!0),children:O("buttons.setting")}),c.jsx(N,{onClick:()=>{_.submit()},loading:!!(l!=null&&l.formLoading),icon:c.jsx(ct,{}),children:O("buttons.save")})]}),children:c.jsx(et,{className:t,children:c.jsxs(tt,{form:_,onResult:w=>{d==null||d(w),C(w)},onSubmit:async w=>{await(r==null?void 0:r(w))},formProps:{labelAlign:"left",className:"divide-y divide-gray-2 dark:divide-gray-10",...b},...a,children:[e,c.jsx(te.Render,{mark:[E,y==null?void 0:y.name,"form"]}),i&&c.jsxs(dt,{sizeDraggable:!0,size:"450px",confirmBtn:O("buttons.save"),onConfirm:()=>{j(!1),_.submit()},header:O("buttons.setting"),visible:R,onClose:()=>j(!1),children:[i,c.jsx(te.Render,{mark:[E,y==null?void 0:y.name,"form","setting"]})]})]})})})},vt=({label:t,help:n,requiredMark:e,...r})=>c.jsxs("div",{className:"grid grid-cols-1 mb-4 gap-4 pt-4 md:grid-cols-5",children:[t&&c.jsxs("div",{className:"col-span-2 xl:col-span-1",children:[c.jsxs("div",{className:"relative",children:[e&&c.jsx("span",{className:"absolute text-error -left-3",children:"*"}),t]}),c.jsx("div",{className:"mt-1 text-sm text-placeholder",children:n})]}),c.jsx("div",{className:nt([t?"flex items-center col-span-3 xl:col-span-4":"col-span-5"]),children:c.jsx(ie.FormItem,{...r,className:"w-full"})})]});export{dt as D,ft as F,vt as a};
