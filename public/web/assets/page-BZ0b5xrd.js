import{j as s}from"./vendor-map-xrlPGoMd.js";import{r as h}from"./vendor-react-CEAiij2-.js";import{I as L,_ as B,W as M}from"./vendor-refine-BPS4QmKj.js";import{H as P,M as z,Q as E,R as g,g as H}from"./modulepreload-polyfill-FQPaZMP9.js";import"./vendor-echarts-BA2V57Gb.js";import{F as v,B as c,ae as A,af as O,ag as Q,ah as S,O as V,ai as W}from"./vendor-tdesign-CDUa2Lvz.js";import"./vendor-tinymce-DBANSpiv.js";import"./vendor-lib-DkJHNO_p.js";const U=({className:t,title:l,children:m,onSubmit:i,onResult:d,back:b,rest:u,headerRender:k,actionRender:F,settingRender:x,formProps:N,form:C,...I})=>{var j;const[e,w]=h.useState(),y=L(),o=B(),{resource:a}=M(),{name:f}=P(),[D,p]=h.useState(!1),[n]=v.useForm(C);return s.jsx(z,{title:l,header:k,icon:(j=a==null?void 0:a.meta)==null?void 0:j.icon,actions:s.jsxs(s.Fragment,{children:[b&&s.jsx(c,{onClick:()=>{y()},variant:"outline",icon:s.jsx(A,{}),children:o("buttons.back")}),u&&s.jsx(c,{onClick:()=>{n.reset()},variant:"outline",icon:s.jsx(O,{}),loading:!!(e!=null&&e.formLoading),children:o("buttons.rest")}),F,x&&s.jsx(c,{variant:"outline",theme:"primary",icon:s.jsx(Q,{}),onClick:()=>p(!0),children:o("buttons.setting")}),s.jsx(c,{onClick:()=>{n.submit()},loading:!!(e!=null&&e.formLoading),icon:s.jsx(S,{}),children:o("buttons.save")})]}),children:s.jsx(V,{className:t,children:s.jsxs(E,{form:n,onResult:r=>{d==null||d(r),w(r)},onSubmit:async r=>{await(i==null?void 0:i(r))},formProps:{labelAlign:"left",className:"divide-y divide-gray-2 dark:divide-gray-10",...N},...I,children:[m,s.jsx(g.Render,{mark:[f,a==null?void 0:a.name,"form"]}),x&&s.jsxs(W,{sizeDraggable:!0,size:"450px",confirmBtn:o("buttons.save"),onConfirm:()=>{p(!1),n.submit()},header:o("buttons.setting"),visible:D,onClose:()=>p(!1),children:[x,s.jsx(g.Render,{mark:[f,a==null?void 0:a.name,"form","setting"]})]})]})})})},X=({label:t,help:l,requiredMark:m,...i})=>s.jsxs("div",{className:"grid grid-cols-1 mb-4 gap-4 pt-4 md:grid-cols-5",children:[t&&s.jsxs("div",{className:"col-span-2 xl:col-span-1",children:[s.jsxs("div",{className:"relative",children:[m&&s.jsx("span",{className:"absolute text-error -left-3",children:"*"}),t]}),s.jsx("div",{className:"mt-1 text-sm text-placeholder",children:l})]}),s.jsx("div",{className:H([t?"flex items-center col-span-3 xl:col-span-4":"col-span-5"]),children:s.jsx(v.FormItem,{...i,className:"w-full"})})]});export{U as F,X as a};
