import{U as x,g as t,ap as m,bG as h,j as s,P as j,Y as f,H as b,Q as v}from"./modulepreload-polyfill-39569a5f.js";const C=({name:c})=>{const a=x(),[o,d]=t.useState(""),i=m(),[u,l]=t.useState(!1),[n,p]=t.useState(""),g=t.useCallback(()=>{l(!0),i.request("cloud/apps/delete","post",{data:{name:c,password:o}}).then(e=>{var r;if(e.code!==200){h.error(e.message);return}p((r=e==null?void 0:e.data)==null?void 0:r.content)}).finally(()=>{l(!1)})},[]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"mb-2 text-error",children:a("cloud.apps.tips.uninstall")}),s.jsx(j,{type:"password",value:o,disabled:!!n,onChange:e=>{d(()=>e)}})]}),n?s.jsx("div",{className:"p-4",children:s.jsx("pre",{className:"overflow-auto rounded-lg p-4 bg-component",children:n})}):s.jsx(f.Footer,{children:s.jsx(b,{onClick:()=>{g()},children:a("cloud.apps.action.uninstall")})}),s.jsx(v,{loading:u,fullscreen:!0,preventScrollThrough:!0,text:a("cloud.apps.tips.loading")})]})};export{C as default};
