import{j as t}from"./vendor-map-xrlPGoMd.js";import{r as e}from"./vendor-react-CEAiij2-.js";import{_ as g}from"./vendor-refine-BPS4QmKj.js";import{y as x,B as f}from"./modulepreload-polyfill-FQPaZMP9.js";import"./vendor-echarts-BA2V57Gb.js";import{G as h,I as j,B as v,c as b}from"./vendor-tdesign-CDUa2Lvz.js";import"./vendor-tinymce-DBANSpiv.js";import"./vendor-lib-DkJHNO_p.js";import"./vendor-markdown-DKT2DIHL.js";const I=()=>{const a=g(),[r,c]=e.useState(""),u=x(),[d,n]=e.useState(!1),[o,p]=e.useState(""),m=e.useCallback(l=>{n(!0),u.request("cloud/apps/install","post",{data:{url:l}}).then(s=>{var i;if(s.code!==200){h.error(s.message);return}p((i=s==null?void 0:s.data)==null?void 0:i.content)}).finally(()=>{n(!1)})},[]);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"mb-2",children:a("cloud.apps.validator.url")}),t.jsx(j,{value:r,placeholder:"dux://",disabled:!!o,onChange:l=>{c(()=>l)}})]}),o?t.jsx("div",{className:"p-4",children:t.jsx("pre",{className:"overflow-auto rounded-lg p-4 bg-component",children:o})}):t.jsx(f.Footer,{children:t.jsx(v,{onClick:()=>{m(r)},children:a("cloud.apps.action.install")})}),t.jsx(b,{loading:d,fullscreen:!0,preventScrollThrough:!0,text:a("cloud.apps.tips.loading")})]})};export{I as default};
