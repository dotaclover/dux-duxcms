import{j as t}from"./vendor-map-Dmo-f729.js";import{r as e}from"./vendor-react-CEAiij2-.js";import{_ as g}from"./vendor-refine-DSrLypaZ.js";import{y as x,B as f}from"./modulepreload-polyfill-BJI5hq6_.js";import"./vendor-echarts-BA2V57Gb.js";import{G as h,I as j,B as v,c as b}from"./vendor-tdesign-Bh4nsAtR.js";import"./vendor-tinymce-DBANSpiv.js";import"./vendor-lib-BfwGYCz4.js";import"./vendor-markdown-B5GQD1Nb.js";const E=({name:i})=>{const o=g(),[r,c]=e.useState(""),p=x(),[d,n]=e.useState(!1),[a,u]=e.useState(""),m=e.useCallback(()=>{n(!0),p.request("cloud/apps/delete","post",{data:{name:i,password:r}}).then(s=>{var l;if(s.code!==200){h.error(s.message);return}u((l=s==null?void 0:s.data)==null?void 0:l.content)}).finally(()=>{n(!1)})},[]);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"mb-2 text-error",children:o("cloud.apps.tips.uninstall")}),t.jsx(j,{type:"password",value:r,disabled:!!a,onChange:s=>{c(()=>s)}})]}),a?t.jsx("div",{className:"p-4",children:t.jsx("pre",{className:"overflow-auto rounded-lg p-4 bg-component",children:a})}):t.jsx(f.Footer,{children:t.jsx(v,{onClick:()=>{m()},children:o("cloud.apps.action.uninstall")})}),t.jsx(b,{loading:d,fullscreen:!0,preventScrollThrough:!0,text:o("cloud.apps.tips.loading")})]})};export{E as default};
