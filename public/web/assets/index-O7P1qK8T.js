import{j as t}from"./vendor-map-xrlPGoMd.js";import{w as re,g as ae,F as v,y as ie,B as H,C as B,E as ce}from"./modulepreload-polyfill-FQPaZMP9.js";import{r as R}from"./vendor-react-CEAiij2-.js";import{_ as d}from"./vendor-refine-BPS4QmKj.js";import"./vendor-echarts-BA2V57Gb.js";import{S,U as oe,F as i,x as F,I as h,W as k,X as de,n as T,B as $,R as _,Y as N,Z as L,$ as U,a0 as G,a1 as q,a2 as A,a3 as X,a4 as D,a5 as J,a6 as me,a7 as C,a8 as E,N as z,a9 as ue,L as Y,O as W}from"./vendor-tdesign-CDUa2Lvz.js";import"./vendor-tinymce-DBANSpiv.js";import{_ as xe}from"./vendor-lib-DkJHNO_p.js";import{u as ge}from"./useSelect-CHkdsRnl.js";import{C as O}from"./cascader-5lOqLYKR.js";import{U as Z}from"./uploadImage-BDM88I0H.js";import{U as Q}from"./uploadFile-DxEqfc2Y.js";import{E as be}from"./tinymce-iCxC44fp.js";const V=({onChange:e,value:n,defaultValue:l,type:s="json",className:r,...a})=>{const c=re(m=>m.dark);return t.jsx("div",{className:ae(["border border-component w-full rounded-sm",r]),children:t.jsx(xe,{defaultValue:l,value:n||"",width:"100%",fontSize:"14px",theme:c?"tomorrow_night":"tomorrow",mode:s,onChange:m=>e==null?void 0:e(m),className:"rounded-sm",setOptions:{useWorker:!1},...a})})},K=({url:e,query:n,pagination:l,optionValue:s="id",optionLabel:r="title",optionRender:a,format:c,...m})=>{var P;const[g,x]=R.useState(1),{queryResult:u,onSearch:b}=ge({resource:e,optionLabel:r,optionValue:s,defaultValue:m.value||m.defaultValue,meta:{params:n},pagination:{mode:l?"server":"off",current:g,pageSize:20}}),I=R.useMemo(()=>{var y,f;return Math.ceil(((f=(y=u==null?void 0:u.data)==null?void 0:y.meta)==null?void 0:f.total)/20)},[u]),w=R.useMemo(()=>{var y;return Array.from(new Set(((y=u==null?void 0:u.data)==null?void 0:y.data)||[])).map(f=>({content:a==null?void 0:a(f),label:f[r],value:f[s],row:f}))},[r,a,s,(P=u==null?void 0:u.data)==null?void 0:P.data]);return t.jsx(S,{options:w,onSearch:b,loading:u.isLoading,defaultValue:(c==null?void 0:c(m.defaultValue))||m.defaultValue,value:(c==null?void 0:c(m.value))||m.value,panelBottomContent:l?t.jsx("div",{className:"flex justify-center pb-2",children:t.jsx(oe,{size:"small",onChange:({trigger:y})=>{y=="next"&&g<I&&x(f=>f+1),y=="prev"&&g>1&&x(f=>f-1),y=="current"&&x(f=>f)}})}):void 0,...m})},j=()=>{const e=d();return t.jsx(t.Fragment,{children:t.jsx(i.FormItem,{label:e("magic.rule.name",{ns:"extend"}),name:"rules",help:t.jsxs("div",{children:[e("magic.rule.help",{ns:"extend"}),t.jsxs(F,{className:"mx-2",href:"https://tdesign.tencent.com/react/components/form?tab=api#formrule",target:"_blank",children:["[",e("magic.rule.docs",{ns:"extend"}),"]"]})]}),children:t.jsx(V,{})})})},o=e=>(Array.isArray(e)?e[0]:e)+"",he=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(h,{})}),t.jsx(j,{})]})},je=e=>{var n,l,s;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(h,{maxlength:(s=e.setting)==null?void 0:s.maxlength})})},fe=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"input",showConfirmAndReset:!0},cell:({row:n})=>n[o(e.name)]||"-"}),Re=({data:e})=>e||"-",ye=()=>({name:"text",label:d()("magic.text",{ns:"extend"}),ParamsRender:he,FormRender:je,TableRender:fe,ShowRender:Re}),Fe=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.size.min",{ns:"extend"}),name:"min",initialData:0,children:t.jsx(k,{theme:"column"})}),t.jsx(i.FormItem,{label:e("magic.size.max",{ns:"extend"}),name:"max",initialData:0,children:t.jsx(k,{theme:"column"})}),t.jsx(i.FormItem,{label:e("magic.size.decimal",{ns:"extend"}),name:"decimal",initialData:0,children:t.jsx(k,{theme:"column"})}),t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(k,{})}),t.jsx(j,{})]})},ve=e=>{var n,l,s,r,a;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(k,{max:(s=e.setting)==null?void 0:s.max,min:(r=e.setting)==null?void 0:r.mix,decimalPlaces:(a=e.setting)==null?void 0:a.decimal})})},$e=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>n[o(e.name)]||"-"}),ke=e=>{const n=d();return t.jsx(v,{name:e.name,children:t.jsx(de,{className:"w-full",placeholder:`${n("magic.placeholder.input",{ns:"extend"})}${e.label}`})})},Ie=({data:e})=>e===void 0?"-":e,Ne=()=>({name:"number",label:d()("magic.number",{ns:"extend"}),ParamsRender:Fe,TableRender:$e,FormRender:ve,FilterRender:ke,ShowRender:Ie}),Se=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.options.name",{ns:"extend"}),children:t.jsx("div",{className:"w-full flex flex-col gap-4",children:t.jsx(i.FormList,{name:"options",children:(n,{add:l,remove:s})=>t.jsxs(t.Fragment,{children:[n.map(({key:r,name:a,...c})=>t.jsxs("div",{className:"flex",children:[t.jsx(i.FormItem,{...c,name:[a,"label"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.label",{ns:"extend"})})}),t.jsx(i.FormItem,{...c,name:[a,"value"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.value",{ns:"extend"})})}),t.jsx(i.FormItem,{className:"flex-none",children:t.jsx(T,{name:"minus-rectangle",size:"20px",style:{cursor:"pointer"},onClick:()=>s(a)})})]},r)),t.jsx(i.FormItem,{children:t.jsx($,{theme:"default",variant:"dashed",onClick:()=>l({province:"bj",area:"tzmax"}),children:e("magic.options.add",{ns:"extend"})})})]})})})}),t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(h,{})}),t.jsx(j,{})]})},we=e=>{var l,s,r;const n=(l=e.setting)==null?void 0:l.options;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(s=e.setting)==null?void 0:s.default,rules:((r=e.setting)==null?void 0:r.rules)||[],children:t.jsx(_.Group,{children:n==null?void 0:n.map((a,c)=>t.jsx(_,{value:a.value,children:a.label},c))})})},_e=e=>{var n,l;return{colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:((l=(n=e.setting)==null?void 0:n.options)==null?void 0:l.map(s=>({label:s.label,value:s.value})))||[],showConfirmAndReset:!0},cell:({row:s})=>{var c;const r=((c=e.setting)==null?void 0:c.keys_label)||"label",a=s[o(e.name)];return a?t.jsx(N,{theme:"primary",variant:"outline",children:a[r]}):"-"}}},Pe=({field:e,data:n})=>{var s;const l=((s=e.setting)==null?void 0:s.keys_label)||"label";return n[l]||"-"},Te=()=>({name:"radio",label:d()("magic.radio",{ns:"extend"}),ParamsRender:Se,TableRender:_e,FormRender:we,ShowRender:Pe}),Ae=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.options.name",{ns:"extend"}),children:t.jsx("div",{className:"w-full flex flex-col gap-4",children:t.jsx(i.FormList,{name:"options",children:(n,{add:l,remove:s})=>t.jsxs(t.Fragment,{children:[n.map(({key:r,name:a,...c})=>t.jsxs("div",{className:"flex",children:[t.jsx(i.FormItem,{...c,name:[a,"label"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.label",{ns:"extend"})})}),t.jsx(i.FormItem,{...c,name:[a,"value"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.value",{ns:"extend"})})}),t.jsx(i.FormItem,{className:"flex-none",children:t.jsx(T,{name:"minus-rectangle",size:"20px",style:{cursor:"pointer"},onClick:()=>s(a)})})]},r)),t.jsx(i.FormItem,{children:t.jsx($,{theme:"default",variant:"dashed",onClick:()=>l({province:"bj",area:"tzmax"}),children:e("magic.options.add",{ns:"extend"})})})]})})})}),t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(L,{})}),t.jsx(j,{})]})},De=e=>{var l,s,r;const n=(l=e.setting)==null?void 0:l.options;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(s=e.setting)==null?void 0:s.default,rules:((r=e.setting)==null?void 0:r.rules)||[],children:t.jsx(U.Group,{children:n==null?void 0:n.map((a,c)=>t.jsx(U,{value:a.value,children:a.label},c))})})},Ce=e=>{var n,l;return{colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:((l=(n=e.setting)==null?void 0:n.options)==null?void 0:l.map(s=>({label:s.label,value:s.value})))||[],showConfirmAndReset:!0},cell:({row:s})=>{var c,m;const r=((c=e.setting)==null?void 0:c.keys_label)||"label",a=s[o(e.name)];return((m=a==null?void 0:a.map)==null?void 0:m.call(a,(g,x)=>t.jsx(N,{theme:"primary",variant:"outline",children:g[r]},x)))||"-"}}},Ee=({field:e,data:n})=>{var s;const l=((s=e.setting)==null?void 0:s.keys_label)||"label";return(n==null?void 0:n.map(r=>r[l]).join(","))||"-"},ze=()=>({name:"checkbox",label:d()("magic.checkbox",{ns:"extend"}),ParamsRender:Ae,TableRender:Ce,FormRender:De,ShowRender:Ee}),M=()=>{const{request:e,isLoading:n}=ie(),[l,s]=R.useState([]),r=d();return R.useEffect(()=>{e("tools/magic/source").then(a=>{s((a==null?void 0:a.data)||[])})},[]),t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:r("magic.source.name",{ns:"extend"}),name:"source",children:t.jsx(S,{clearable:!0,filterable:!0,options:l,loading:n,loadingText:r("loading")})}),t.jsx(i.FormItem,{label:r("magic.source.keyLabel",{ns:"extend"}),name:"keys_label",children:t.jsx(h,{})}),t.jsx(i.FormItem,{label:r("magic.source.keyValue",{ns:"extend"}),name:"keys_value",children:t.jsx(h,{})})]})},Oe=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.options.name",{ns:"extend"}),children:t.jsx("div",{className:"w-full flex flex-col gap-4",children:t.jsx(i.FormList,{name:"options",children:(n,{add:l,remove:s})=>t.jsxs(t.Fragment,{children:[n.map(({key:r,name:a,...c})=>t.jsxs("div",{className:"flex",children:[t.jsx(i.FormItem,{...c,name:[a,"label"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.label",{ns:"extend"})})}),t.jsx(i.FormItem,{...c,name:[a,"value"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.value",{ns:"extend"})})}),t.jsx(i.FormItem,{className:"flex-none",children:t.jsx(T,{name:"minus-rectangle",size:"20px",style:{cursor:"pointer"},onClick:()=>s(a)})})]},r)),t.jsx(i.FormItem,{children:t.jsx($,{theme:"default",variant:"dashed",onClick:()=>l({province:"bj",area:"tzmax"}),children:e("magic.options.add",{ns:"extend"})})})]})})})}),t.jsx(M,{}),t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(h,{})}),t.jsx(j,{})]})},Ke=e=>{var n,l,s,r,a,c,m,g,x,u,b;return console.log("params.setting",e.setting),t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:(s=e.setting)!=null&&s.source?t.jsx(K,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,optionLabel:((u=e.setting)==null?void 0:u.keys_label)||"label",optionValue:((b=e.setting)==null?void 0:b.keys_value)||"value"}):t.jsx(S,{options:Array.isArray((r=e.setting)==null?void 0:r.options)?(a=e.setting)==null?void 0:a.options:typeof((c=e.setting)==null?void 0:c.options)=="string"?JSON.parse((m=e.setting)==null?void 0:m.options):void 0,clearable:!0,filterable:!0,keys:{label:((g=e.setting)==null?void 0:g.keys_label)||"label",value:((x=e.setting)==null?void 0:x.keys_value)||"value"}})})},Me=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>{var r;const l=((r=e.setting)==null?void 0:r.keys_label)||"label",s=n[o(e.name)];return s?t.jsx(N,{theme:"primary",variant:"outline",children:s[l]}):"-"}}),pe=({field:e,data:n})=>{var s;const l=((s=e.setting)==null?void 0:s.keys_label)||"label";return n[l]||"-"},Le=e=>{var l,s,r,a,c,m,g,x,u;const n=d();return t.jsx(v,{name:e.name,children:(l=e.setting)!=null&&l.source?t.jsx(K,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,optionLabel:((x=e.setting)==null?void 0:x.keys_label)||"label",optionValue:((u=e.setting)==null?void 0:u.keys_value)||"value",placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`}):t.jsx(S,{options:Array.isArray((s=e.setting)==null?void 0:s.options)?(r=e.setting)==null?void 0:r.options:typeof((a=e.setting)==null?void 0:a.options)=="string"?JSON.parse((c=e.setting)==null?void 0:c.options):void 0,clearable:!0,filterable:!0,keys:{label:((m=e.setting)==null?void 0:m.keys_label)||"label",value:((g=e.setting)==null?void 0:g.keys_value)||"value"},placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},Je=()=>({name:"select",label:d()("magic.select",{ns:"extend"}),ParamsRender:Oe,TableRender:Me,FormRender:Ke,FilterRender:Le,ShowRender:pe}),Ve=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(G,{})}),t.jsx(j,{})]})},Be=e=>{var n,l;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(G,{})})},Ue=(e,n)=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:[{label:n("magic.status.open",{ns:"extend"}),value:1},{label:n("magic.status.close",{ns:"extend"}),value:0}],showConfirmAndReset:!0},cell:({row:l})=>l[o(e.name)]?t.jsx(N,{theme:"success",variant:"outline",children:n("magic.status.open",{ns:"extend"})}):t.jsx(N,{theme:"danger",variant:"outline",children:n("magic.status.close",{ns:"extend"})})}),Ye=({data:e,t:n})=>e?n("magic.status.open",{ns:"extend"}):n("magic.status.close",{ns:"extend"}),He=()=>({name:"switch",label:d()("magic.switch",{ns:"extend"}),ParamsRender:Ve,TableRender:Ue,FormRender:Be,ShowRender:Ye}),Ge=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(h,{})}),t.jsx(j,{})]})},qe=e=>{var n,l;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(h,{})})},Xe=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"input",showConfirmAndReset:!0},cell:({row:n})=>n[o(e.name)]||"-"}),We=({data:e})=>e||"-",Ze=()=>({name:"textarea",label:d()("magic.textarea",{ns:"extend"}),ParamsRender:Ge,FormRender:qe,TableRender:Xe,ShowRender:We}),Qe=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.date.format",{ns:"extend"}),name:"format",initialData:"HH:mm:ss",children:t.jsx(h,{})}),t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(q,{className:"w-full"})}),t.jsx(j,{})]})},et=e=>{var n,l,s;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(q,{format:(s=e.setting)==null?void 0:s.format})})},tt=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>(n==null?void 0:n[o(e.name)])||"-"}),nt=e=>{const n=d();return t.jsx(v,{name:e.name,children:t.jsx(A,{className:"w-full",placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},lt=({data:e})=>e||"-",st=()=>({name:"time",label:d()("magic.time",{ns:"extend"}),ParamsRender:Qe,TableRender:tt,FormRender:et,FilterRender:nt,ShowRender:lt}),rt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.date.format",{ns:"extend"}),name:"format",initialData:"HH:mm:ss",children:t.jsx(h,{})}),t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(A,{className:"w-full"})}),t.jsx(j,{})]})},at=e=>{var n,l,s;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(A,{format:(s=e.setting)==null?void 0:s.format})})},it=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>{var l;return((l=n==null?void 0:n[o(e.name)])==null?void 0:l.join(" ~ "))||"-"}}),ct=e=>{const n=d();return t.jsx(v,{name:e.name,children:t.jsx(A,{className:"w-full",placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},ot=({data:e})=>(e==null?void 0:e.join(" ~ "))||"-",dt=()=>({name:"timeRange",label:d()("magic.timeRange",{ns:"extend"}),ParamsRender:rt,TableRender:it,FormRender:at,FilterRender:ct,ShowRender:ot}),mt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.date.format",{ns:"extend"}),name:"format",initialData:"YYYY-MM-DD",children:t.jsx(h,{})}),t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(X,{className:"w-full"})}),t.jsx(j,{})]})},ut=e=>{var n,l,s;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(X,{format:(s=e.setting)==null?void 0:s.format})})},xt=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>(n==null?void 0:n[o(e.name)])||"-"}),gt=e=>{const n=d();return t.jsx(v,{name:e.name,children:t.jsx(D,{className:"w-full",placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},bt=({data:e})=>e||"-",ht=()=>({name:"date",label:d()("magic.date.name",{ns:"extend"}),ParamsRender:mt,TableRender:xt,FormRender:ut,FilterRender:gt,ShowRender:bt}),jt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.date.format",{ns:"extend"}),name:"format",initialData:"YYYY-MM-DD",children:t.jsx(h,{})}),t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(D,{className:"w-full"})}),t.jsx(j,{})]})},ft=e=>{var n,l,s;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(D,{format:(s=e.setting)==null?void 0:s.format})})},Rt=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>{var l;return((l=n==null?void 0:n[o(e.name)])==null?void 0:l.join(" ~ "))||"-"}}),yt=e=>{const n=d();return t.jsx(v,{name:e.name,children:t.jsx(D,{className:"w-full",placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},Ft=({data:e})=>(e==null?void 0:e.join(" ~ "))||"-",vt=()=>({name:"dateRange",label:d()("magic.dateRange",{ns:"extend"}),ParamsRender:jt,TableRender:Rt,FormRender:ft,FilterRender:yt,ShowRender:Ft}),$t=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(J,{className:"w-full",format:"HEX"})}),t.jsx(j,{})]})},kt=e=>{var n,l;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(J,{})})},It=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{component:J,props:{format:"HEX"},showConfirmAndReset:!0},cell:({row:n})=>t.jsx(t.Fragment,{children:n!=null&&n[o(e.name)]?t.jsx(me,{content:n[o(e.name)],children:t.jsx("div",{className:"h-5 w-5 flex-none rounded-full",style:{backgroundColor:n[o(e.name)]}})}):"-"})}),Nt=({data:e})=>e||"-",St=()=>({name:"color",label:d()("magic.color",{ns:"extend"}),ParamsRender:$t,TableRender:It,FormRender:kt,ShowRender:Nt}),wt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.options.name",{ns:"extend"}),name:"options",help:t.jsxs("div",{children:[e("magic.rule.help",{ns:"extend"}),t.jsxs(F,{className:"mx-2",href:"https://tdesign.tencent.com/react/components/cascader",target:"_blank",children:["[",e("magic.rule.docs",{ns:"extend"}),"]"]})]}),children:t.jsx(V,{})}),t.jsx(M,{}),t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(h,{})}),t.jsx(j,{})]})},_t=e=>{var n,l,s,r,a,c,m,g,x,u,b;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:(s=e.setting)!=null&&s.source?t.jsx(O,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,checkStrictly:!0,keys:{label:((u=e.setting)==null?void 0:u.keys_label)||"label",value:((b=e.setting)==null?void 0:b.keys_value)||"value"}}):t.jsx(C,{options:Array.isArray((r=e.setting)==null?void 0:r.options)?(a=e.setting)==null?void 0:a.options:typeof((c=e.setting)==null?void 0:c.options)=="string"?JSON.parse((m=e.setting)==null?void 0:m.options):void 0,clearable:!0,filterable:!0,checkStrictly:!0,keys:{label:((g=e.setting)==null?void 0:g.keys_label)||"label",value:((x=e.setting)==null?void 0:x.keys_value)||"value"}})})},Pt=e=>{var l,s,r,a,c,m,g,x,u;const n=d();return t.jsx(v,{name:e.name,children:(l=e.setting)!=null&&l.source?t.jsx(O,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,checkStrictly:!0,keys:{label:((x=e.setting)==null?void 0:x.keys_label)||"label",value:((u=e.setting)==null?void 0:u.keys_value)||"value"},placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`}):t.jsx(C,{options:Array.isArray((s=e.setting)==null?void 0:s.options)?(r=e.setting)==null?void 0:r.options:typeof((a=e.setting)==null?void 0:a.options)=="string"?JSON.parse((c=e.setting)==null?void 0:c.options):void 0,clearable:!0,filterable:!0,checkStrictly:!0,keys:{label:((m=e.setting)==null?void 0:m.keys_label)||"label",value:((g=e.setting)==null?void 0:g.keys_value)||"value"},placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},Tt=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>{var r;const l=((r=e.setting)==null?void 0:r.keys_label)||"label",s=n[o(e.name)];return s==null?void 0:s.map(a=>a[l]).join(" > ")}}),At=({field:e,data:n})=>{var s;const l=((s=e.setting)==null?void 0:s.keys_label)||"label";return t.jsx("div",{className:"w-full border border-rounded border-component divide-y divide-gray-9 px-4 py-2",children:n==null?void 0:n.map(r=>r[l]).join(" > ")})},Dt=()=>({name:"cascader",label:d()("magic.cascader",{ns:"extend"}),ParamsRender:wt,FormRender:_t,TableRender:Tt,FilterRender:Pt,ShowRender:At}),Ct=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.options.name",{ns:"extend"}),name:"options",help:t.jsxs("div",{children:[e("magic.rule.help",{ns:"extend"}),t.jsxs(F,{className:"mx-2",href:"https://tdesign.tencent.com/react/components/cascader",target:"_blank",children:["[",e("magic.rule.docs",{ns:"extend"}),"]"]})]}),children:t.jsx(V,{})}),t.jsx(M,{}),t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(L,{})}),t.jsx(j,{})]})},Et=e=>{var n,l,s,r,a,c,m,g,x,u,b;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:(s=e.setting)!=null&&s.source?t.jsx(O,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,multiple:!0,keys:{label:((u=e.setting)==null?void 0:u.keys_label)||"label",value:((b=e.setting)==null?void 0:b.keys_value)||"value"}}):t.jsx(C,{options:Array.isArray((r=e.setting)==null?void 0:r.options)?(a=e.setting)==null?void 0:a.options:typeof((c=e.setting)==null?void 0:c.options)=="string"?JSON.parse((m=e.setting)==null?void 0:m.options):void 0,clearable:!0,filterable:!0,multiple:!0,keys:{label:((g=e.setting)==null?void 0:g.keys_label)||"label",value:((x=e.setting)==null?void 0:x.keys_value)||"value"}})})},zt=e=>{var l,s,r,a,c;const n=d();return t.jsx(v,{name:e.name,children:(l=e.setting)!=null&&l.source?t.jsx(O,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,multiple:!0,checkStrictly:!0,keys:{label:((a=e.setting)==null?void 0:a.keys_label)||"label",value:((c=e.setting)==null?void 0:c.keys_value)||"value"},placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`}):t.jsx(C,{clearable:!0,filterable:!0,multiple:!0,checkStrictly:!0,keys:{label:((s=e.setting)==null?void 0:s.keys_label)||"label",value:((r=e.setting)==null?void 0:r.keys_value)||"value"},placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},Ot=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>{var r;const l=((r=e.setting)==null?void 0:r.keys_label)||"label",s=n[o(e.name)];return s==null?void 0:s.map((a,c)=>t.jsx("div",{children:a.map(m=>m[l]).join(" > ")},c))}}),Kt=({field:e,data:n})=>{var s;const l=((s=e.setting)==null?void 0:s.keys_label)||"label";return t.jsx("div",{className:"w-full border border-rounded border-component divide-y divide-gray-9",children:n==null?void 0:n.map((r,a)=>t.jsx("div",{className:"px-4 py-2",children:r==null?void 0:r.map(c=>c[l]).join(" > ")},a))})},Mt=()=>({name:"cascader-multi",label:d()("magic.cascaderMulti",{ns:"extend"}),ParamsRender:Ct,FormRender:Et,TableRender:Ot,FilterRender:zt,ShowRender:Kt}),pt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.options.name",{ns:"extend"}),children:t.jsx("div",{className:"w-full flex flex-col gap-4",children:t.jsx(i.FormList,{name:"options",children:(n,{add:l,remove:s})=>t.jsxs(t.Fragment,{children:[n.map(({key:r,name:a,...c})=>t.jsxs("div",{className:"flex",children:[t.jsx(i.FormItem,{...c,name:[a,"label"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.label",{ns:"extend"})})}),t.jsx(i.FormItem,{...c,name:[a,"value"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.value",{ns:"extend"})})}),t.jsx(i.FormItem,{className:"flex-none",children:t.jsx(T,{name:"minus-rectangle",size:"20px",style:{cursor:"pointer"},onClick:()=>s(a)})})]},r)),t.jsx(i.FormItem,{children:t.jsx($,{theme:"default",variant:"dashed",onClick:()=>l({province:"bj",area:"tzmax"}),children:e("magic.options.add",{ns:"extend"})})})]})})})}),t.jsx(M,{}),t.jsx(i.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(L,{})}),t.jsx(j,{})]})},Lt=e=>{var n,l,s,r,a,c,m,g,x,u,b;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:(s=e.setting)!=null&&s.source?t.jsx(K,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,multiple:!0,keys:{label:((u=e.setting)==null?void 0:u.keys_label)||"label",value:((b=e.setting)==null?void 0:b.keys_value)||"value"}}):t.jsx(S,{options:Array.isArray((r=e.setting)==null?void 0:r.options)?(a=e.setting)==null?void 0:a.options:typeof((c=e.setting)==null?void 0:c.options)=="string"?JSON.parse((m=e.setting)==null?void 0:m.options):void 0,clearable:!0,filterable:!0,multiple:!0,keys:{label:((g=e.setting)==null?void 0:g.keys_label)||"label",value:((x=e.setting)==null?void 0:x.keys_value)||"value"}})})},Jt=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>{var r,a;const l=((r=e.setting)==null?void 0:r.keys_label)||"label",s=n[o(e.name)];return((a=s==null?void 0:s.map)==null?void 0:a.call(s,(c,m)=>t.jsx(N,{theme:"primary",variant:"outline",children:c[l]},m)))||"-"}}),Vt=({field:e,data:n})=>{var s;const l=((s=e.setting)==null?void 0:s.keys_label)||"label";return(n==null?void 0:n.map(r=>r[l]).join(","))||"-"},Bt=e=>{var l,s,r,a,c,m,g,x,u;const n=d();return t.jsx(v,{name:e.name,children:(l=e.setting)!=null&&l.source?t.jsx(K,{url:"tools/magic/sourceData",clearable:!0,filterable:!0,optionLabel:((x=e.setting)==null?void 0:x.keys_label)||"label",optionValue:((u=e.setting)==null?void 0:u.keys_value)||"value",placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`}):t.jsx(S,{options:Array.isArray((s=e.setting)==null?void 0:s.options)?(r=e.setting)==null?void 0:r.options:typeof((a=e.setting)==null?void 0:a.options)=="string"?JSON.parse((c=e.setting)==null?void 0:c.options):void 0,clearable:!0,filterable:!0,keys:{label:((m=e.setting)==null?void 0:m.keys_label)||"label",value:((g=e.setting)==null?void 0:g.keys_value)||"value"},placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},Ut=()=>({name:"select-multi",label:d()("magic.selectMulti",{ns:"extend"}),ParamsRender:pt,TableRender:Jt,FormRender:Lt,FilterRender:Bt,ShowRender:Vt}),Yt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.size.list",{ns:"extend"}),name:"size",initialData:100,children:t.jsx(k,{theme:"column"})}),t.jsx(j,{})]})},Ht=e=>{var n,l;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(Z,{className:"w-full"})})},Gt=(e,n)=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:[{label:n("magic.upload.uploaded",{ns:"extend"}),value:1},{label:n("magic.upload.notUploaded",{ns:"extend"}),value:0}],showConfirmAndReset:!0},cell:({row:l})=>l!=null&&l[o(e.name)]?t.jsx(E,{trigger:({open:s})=>{var r,a;return t.jsx(z,{src:l[o(e.name)],style:{width:((r=e==null?void 0:e.setting)==null?void 0:r.size)||100,height:((a=e==null?void 0:e.setting)==null?void 0:a.size)||100,border:"4px solid var(--td-bg-color-secondarycontainer)",borderRadius:"var(--td-radius-medium)",backgroundColor:"var(--td-bg-color-container)"},fit:"contain",overlayContent:t.jsx("div",{style:{background:"rgba(0,0,0,.6)",color:"#fff",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},onClick:s,children:t.jsx("span",{children:t.jsx(ue,{size:"16px"})})}),overlayTrigger:"hover"})},images:[l[o(e.name)]]}):"-"}),qt=({data:e,field:n})=>e?t.jsx(E,{trigger:({open:l})=>{var s,r;return t.jsx(z,{src:e,style:{width:((s=n==null?void 0:n.setting)==null?void 0:s.size)||100,height:((r=n==null?void 0:n.setting)==null?void 0:r.size)||100},fit:"contain",onClick:l,className:"cursor-pointer"})},images:[e]}):"-",Xt=()=>({name:"image",label:d()("magic.image",{ns:"extend"}),ParamsRender:Yt,TableRender:Gt,FormRender:Ht,ShowRender:qt}),Wt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.size.list",{ns:"extend"}),name:"size",initialData:100,children:t.jsx(k,{theme:"column"})}),t.jsx(j,{})]})},Zt=e=>{var n,l;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(Z,{className:"w-full",multiple:!0})})},Qt=(e,n)=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:[{label:n("magic.upload.uploaded",{ns:"extend"}),value:1},{label:n("magic.upload.notUploaded",{ns:"extend"}),value:0}],showConfirmAndReset:!0},cell:({row:l})=>Array.isArray(l==null?void 0:l[o(e.name)])&&l[o(e.name)].length>0?t.jsx(E,{trigger:({open:s})=>{var r,a;return t.jsx(z,{src:l[o(e.name)][0],style:{width:((r=e==null?void 0:e.setting)==null?void 0:r.size)||100,height:((a=e==null?void 0:e.setting)==null?void 0:a.size)||100},gallery:!0,fit:"contain",onClick:s,className:"cursor-pointer"})},images:l[o(e.name)]}):"-"}),en=({data:e,field:n})=>t.jsx("div",{className:"flex flex-wrap gap-4",children:Array.isArray(e)?e==null?void 0:e.map((l,s)=>t.jsx(E,{trigger:({open:r})=>{var a,c;return t.jsx(z,{src:l,style:{width:((a=n==null?void 0:n.setting)==null?void 0:a.size)||100,height:((c=n==null?void 0:n.setting)==null?void 0:c.size)||100},fit:"contain",onClick:r,className:"cursor-pointer"})},images:e},s)):"-"}),tn=()=>({name:"images",label:d()("magic.images",{ns:"extend"}),ParamsRender:Wt,TableRender:Qt,FormRender:Zt,ShowRender:en}),nn=()=>t.jsx(t.Fragment,{children:t.jsx(j,{})}),ln=e=>{var n,l;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(Q,{className:"w-full",draggable:!0})})},sn=(e,n)=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:[{label:n("magic.upload.uploaded",{ns:"extend"}),value:1},{label:n("magic.upload.notUploaded",{ns:"extend"}),value:0}],showConfirmAndReset:!0},cell:({row:l})=>{var s;return l!=null&&l[o(e.name)]?t.jsx(F,{theme:"primary",href:(s=l[o(e.name)])==null?void 0:s.url,target:"_block",children:n("magic.upload.download",{ns:"extend"})}):"-"}}),rn=({data:e,t:n})=>e?t.jsx("div",{className:"w-full border border-rounded border-component divide-y divide-gray-9 px-4 py-2",children:t.jsx(F,{theme:"primary",href:e==null?void 0:e.url,target:"_block",children:n("magic.upload.download",{ns:"extend"})})}):"-",an=()=>({name:"file",label:d()("magic.file",{ns:"extend"}),ParamsRender:nn,TableRender:sn,FormRender:ln,ShowRender:rn}),cn=()=>t.jsx(t.Fragment,{children:t.jsx(j,{})}),on=e=>{var n,l;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(Q,{className:"w-full",draggable:!0,multiple:!0,theme:"file-flow"})})},dn=(e,n)=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:[{label:n("magic.upload.uploaded",{ns:"extend"}),value:1},{label:n("magic.upload.notUploaded",{ns:"extend"}),value:0}],showConfirmAndReset:!0},cell:({row:l})=>Array.isArray(l==null?void 0:l[o(e.name)])&&l[o(e.name)].length>0?t.jsx(H,{trigger:t.jsx(F,{theme:"primary",children:n("magic.upload.view",{ns:"extend"})}),width:600,title:n("magic.upload.view",{ns:"extend"}),children:t.jsx("div",{className:"p-4",children:t.jsx(Y,{children:l[o(e.name)].map((s,r)=>t.jsx(Y.ListItem,{action:t.jsx(F,{theme:"primary",hover:"color",href:s.url,target:"_block",children:n("magic.upload.download",{ns:"extend"})}),children:s.name},r))})})}):"-"}),mn=({data:e,t:n})=>Array.isArray(e)?t.jsx("div",{className:"w-full border border-rounded border-component divide-y divide-gray-9",children:e==null?void 0:e.map((l,s)=>t.jsxs("div",{className:"px-4 py-2 flex justify-between",children:[l.name,t.jsx(F,{theme:"primary",hover:"color",href:l.url,target:"_block",children:n("magic.upload.download",{ns:"extend"})})]},s))}):"-",un=()=>({name:"files",label:d()("magic.files",{ns:"extend"}),ParamsRender:cn,TableRender:dn,FormRender:on,ShowRender:mn}),xn=()=>t.jsx(t.Fragment,{children:t.jsx(j,{})}),gn=e=>{var n,l;return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(be,{})})},bn=(e,n)=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"input",showConfirmAndReset:!0},cell:({row:l})=>l!=null&&l[o(e.name)]?t.jsx(H,{trigger:t.jsx(F,{theme:"primary",children:n("magic.editor.view",{ns:"extend"})}),width:600,title:n("magic.editor.view",{ns:"extend"}),children:t.jsx("div",{dangerouslySetInnerHTML:{__html:l[o(e.name)]},className:"p-4 text-sm prose"})}):"-"}),hn=({data:e})=>t.jsx("div",{dangerouslySetInnerHTML:{__html:e},className:"w-full border border-rounded bg-component border-component px-4 py-2 text-sm prose max-h-4xl overflow-auto"}),jn=()=>({name:"editor",label:d()("magic.editor.name",{ns:"extend"}),ParamsRender:xn,TableRender:bn,FormRender:gn,ShowRender:hn}),p=R.createContext({default:!0,name:void 0,arrayNames:[]}),ee=()=>R.useContext(p),fn=()=>null,Rn=({children:e,name:n})=>t.jsx(p.Provider,{value:{name:n},children:e}),yn=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>null}),Fn=()=>({name:"object",label:d()("magic.object",{ns:"extend"}),ParamsRender:fn,FormRender:Rn,TableRender:yn,child:!0}),vn=()=>null,$n=({name:e,label:n,setting:l,child:s})=>{const r=ee(),a=le([...r.arrayNames||[],...Array.isArray(e)?e:[e]]),{itemsIndex:c}=se();return t.jsx(i.FormList,{name:a,children:(m,{add:g,remove:x})=>t.jsx(i.FormItem,{label:t.jsxs("div",{className:"flex gap-1 items-center mb-2",children:[t.jsx("span",{children:n}),t.jsx($,{variant:"text",shape:"circle",theme:"default",icon:t.jsx("div",{className:"i-tabler:plus t-icon"}),onClick:()=>{var u,b;return g(((b=(u=s==null?void 0:s[0])==null?void 0:u.setting)==null?void 0:b.default)||"")}})]}),initialData:l==null?void 0:l.default,rules:(l==null?void 0:l.rules)||[],children:t.jsx("div",{className:"gap-3 flex flex-wrap",children:m.map((u,b)=>t.jsxs(W,{children:[typeof s<"u"&&s.map((I,w)=>{const P=c[I.type];return t.jsx(p.Provider,{value:{arrayNames:a},children:t.jsx(P.FormRender,{...I,name:""+b})},w)}),t.jsx($,{variant:"text",shape:"circle",theme:"default",icon:t.jsx("div",{className:"i-tabler:x t-icon"}),onClick:()=>x(b),className:"absolute right-0.5 top-0.5"})]},b))})})})},kn=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>null}),In=()=>({name:"array",label:d()("magic.array",{ns:"extend"}),ParamsRender:vn,FormRender:$n,TableRender:kn,child:{max:1}}),Nn=()=>null,te=R.createContext({}),Sn=({name:e,label:n,setting:l,child:s})=>{const r=ee(),a=le([...r.arrayNames||[],...Array.isArray(e)?e:[e]]);return t.jsx(te.Provider,{value:{label:n,names:a,setting:l,child:s},children:t.jsx(i.FormList,{name:a,children:(c,{add:m,remove:g})=>t.jsx(wn,{fields:c,add:m,remove:g})})})},wn=({fields:e,add:n,remove:l})=>{const{label:s,names:r,setting:a,child:c}=R.useContext(te),{itemsIndex:m}=se();return t.jsx(i.FormItem,{label:t.jsxs("div",{className:"flex gap-1 items-center mb-2",children:[t.jsx("span",{children:s}),t.jsx($,{variant:"text",shape:"circle",theme:"default",icon:t.jsx("div",{className:"i-tabler:plus t-icon"}),onClick:()=>{n(Object.fromEntries((c==null?void 0:c.map(g=>{var x;return[g.name,(x=g.setting)==null?void 0:x.default]}))||[]))}})]}),initialData:a==null?void 0:a.default,rules:(a==null?void 0:a.rules)||[],children:t.jsx("div",{className:"gap-3 flex flex-wrap",children:e.map((g,x)=>t.jsx(W,{header:t.jsxs("div",{className:"flex justify-between items-center w-full",children:[t.jsxs("span",{children:["项目",x+1]}),t.jsx($,{variant:"text",shape:"circle",theme:"default",icon:t.jsx("div",{className:"i-tabler:x t-icon"}),onClick:()=>l(x),className:"absolute right-2"})]}),children:t.jsx("div",{className:"gap-3 flex flex-col magic-form",children:typeof c<"u"&&c.map((u,b)=>{const I=m[u.type],w=[""+x,o(u.name)];return t.jsx(p.Provider,{value:{arrayNames:r},children:t.jsx(I.FormRender,{...u,name:w})},b)})})},x))})})},_n=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>null}),Pn=()=>({name:"arrayObject",label:d()("magic.arrayObject",{ns:"extend"}),ParamsRender:Nn,FormRender:Sn,TableRender:_n,child:!0}),ne=(e,n)=>{if(e===n)return!0;if(e!==null&&n!==null&&(typeof e!="object"||typeof n!="object"))return!1;const l=[Object.keys(e),Object.keys(n)];return l[0].length!==l[1].length?!1:l[0].every(s=>{const r=[e[s],n[s]];return r[0]===r[1]?!0:r[0]&&typeof r[0]=="object"&&r[1]&&typeof r[1]=="object"?ne(...r):!1})},le=e=>{const n=R.useRef(e);return R.useMemo(()=>(ne(n.current,e)||(n.current=e),n.current),[e])},Tn=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(i.FormItem,{label:e("magic.mapAddress.coordomates",{ns:"extend"}),name:"coordomates",children:t.jsxs(_.Group,{children:[t.jsxs(_,{value:"GCJ02",children:["GCJ02(",e("magic.mapAddress.amap",{ns:"extend"}),")"]}),t.jsxs(_,{value:"BD09",children:["BD09(",e("magic.mapAddress.baidu",{ns:"extend"}),")"]})]})}),t.jsx(j,{})]})},An=e=>{var l,s,r;const n=R.useMemo(()=>{var a;switch((a=e.setting)==null?void 0:a.coordomates){case"BD09":return B.BD09;default:return B.GCJ02}},[(l=e.setting)==null?void 0:l.coordomates]);return t.jsx(i.FormItem,{label:e.label,name:e.name,initialData:(s=e.setting)==null?void 0:s.default,rules:((r=e.setting)==null?void 0:r.rules)||[],children:t.jsx(ce,{type:n})})},Dn=e=>({colKey:o(e.name),title:e.label}),Cn=()=>({name:"map-address",label:d()("magic.mapAddress.name",{ns:"extend"}),ParamsRender:Tn,TableRender:Dn,FormRender:An}),se=()=>{const e=[ye(),Ze(),Ne(),Te(),ze(),Je(),Ut(),He(),st(),dt(),ht(),vt(),St(),Dt(),Mt(),Xt(),tn(),an(),un(),jn(),In(),Pn(),Fn(),Cn()],n=Object.fromEntries(e.map(l=>[l.name,l]));return{items:e,itemsIndex:n}};export{ee as a,ye as b,Ze as c,Ne as d,Te as e,ze as f,Je as g,Ut as h,He as i,st as j,dt as k,ht as l,vt as m,St as n,Dt as o,Mt as p,Xt as q,tn as r,an as s,un as t,se as u,jn as v,Cn as w,o as x};
