function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/show-CT7JTUy3.js","assets/modulepreload-polyfill-DkiKXnSB.js","assets/index-V7eSIHbg.js","assets/useSelect-Bn3A9Gfh.js","assets/index-BL_4kOPz.js","assets/index-BO3kD13t.js","assets/uploadImage-Dzshn1MY.js","assets/useUpload-DH6oH64-.js","assets/cascader-DGRZgSrA.js","assets/index-94D9uViR.js","assets/uploadFile-pTi1aoYj.js","assets/tinymce-BUv0ADRy.js","assets/manage-Bom0epIq.js","assets/index-BEGpCFfB.js","assets/modal-AUZxkbCy.js","assets/form-B_AO_KlY.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as j}from"./index-CInEZ-VQ.js";import{X as v,aw as C,ax as T,s as y,j as o,a6 as _,a2 as x,ay as E,Y as F,am as M,g as P,a7 as k,J as R}from"./modulepreload-polyfill-DkiKXnSB.js";import{F as A}from"./page-BdVWdBJ4.js";import{a as w,b as I,c as L,d as D,e as O,f as N,g as q,h as S,i as K,j as V,k as B,l as H,m as J,n as X,o as Y,p as $,q as z,r as G,s as Q,t as U,v as W}from"./index-V7eSIHbg.js";import{M as Z}from"./form-B_AO_KlY.js";import{P as ee}from"./index-BEGpCFfB.js";import"./useSelect-Bn3A9Gfh.js";import"./index-BL_4kOPz.js";import"./index-BO3kD13t.js";import"./uploadImage-Dzshn1MY.js";import"./useUpload-DH6oH64-.js";import"./cascader-DGRZgSrA.js";import"./index-94D9uViR.js";import"./uploadFile-pTi1aoYj.js";import"./tinymce-BUv0ADRy.js";import"./manage-Bom0epIq.js";const te=({magic:e,editResource:t,fields:s,componentEdit:l,componentShow:c})=>{const m=[w(),I(),L(),D(),O(),N(),q(),S(),K(),V(),B(),H(),J(),X(),Y(),$(),z(),G(),Q(),U(),W()],n=v(),{mutate:b}=C(),{edit:g}=T(),h=y.useMemo(()=>{const a=[];s==null||s.map(r=>{m.map(d=>{!d||!r.list||d.name!=r.type||a.push(d.TableRender(r,n))})});const u=[{colKey:"link",title:n("table.actions"),fixed:"right",align:"center",width:160,cell:({row:r})=>o.jsxs("div",{className:"flex justify-center gap-4",children:[o.jsx(_,{title:n("buttons.show"),trigger:o.jsx(x,{theme:"primary",children:n("buttons.show")}),component:c,componentProps:{id:r.id,magic:e}}),t?o.jsx(x,{theme:"primary",onClick:()=>g(t,r.id),children:n("buttons.edit")}):o.jsx(_,{title:n("buttons.edit"),trigger:o.jsx(x,{theme:"primary",children:n("buttons.edit")}),component:l,componentProps:{id:r.id,magic:e}}),o.jsx(ee,{content:n("buttons.confirm"),destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default",onConfirm:()=>{b({resource:"tools.data",id:r.id,meta:{params:{magic:e}}})},children:o.jsx(x,{theme:"danger",children:n("buttons.delete")})})]})}];return[...a,...u]},[s]),i=y.useMemo(()=>{var u;const a=(u=s==null?void 0:s.map((r,d)=>{if(!(r!=null&&r.search))return;const f=m.find(p=>p&&p.name==r.type&&(p==null?void 0:p.FilterRender));if(!(!f||!f.FilterRender))return o.jsx(f.FilterRender,{...r},d)}))==null?void 0:u.filter(r=>r!=null);return a&&a.length>0?o.jsx(o.Fragment,{children:a}):void 0},[s]);return{columns:h,filters:i}},oe=({data:e})=>{var g,h;const{params:t}=E(),s=v(),{create:l}=T(),{resource:c}=M(),{columns:m,filters:n}=te({fields:(g=e==null?void 0:e.data)==null?void 0:g.fields,magic:t==null?void 0:t.name,editResource:(h=e==null?void 0:e.data)!=null&&h.page?"tools.data":void 0,componentShow:()=>j(()=>import("./show-CT7JTUy3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13])),componentEdit:()=>j(()=>import("./modal-AUZxkbCy.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,8,9,10,11,12,13,15]))});P.useEffect(()=>{var i;c!=null&&c.meta&&(c.meta.label=(i=e==null?void 0:e.data)==null?void 0:i.label)},[e]);const b=P.useMemo(()=>{var a,u;const i={rowKey:"id"};return((a=e==null?void 0:e.data)==null?void 0:a.type)=="common"&&(i.pagination=void 0),((u=e==null?void 0:e.data)==null?void 0:u.type)=="tree"&&(i.tree={childrenKey:"children",treeNodeColumnIndex:0,defaultExpandAll:!0},i.pagination=void 0),i},[e]);return o.jsx(k,{columns:m,tableHook:{meta:{params:{magic:t==null?void 0:t.name,action:"show"}}},table:b,actionRender:()=>{var i;return(i=e==null?void 0:e.data)!=null&&i.page?o.jsx(R,{icon:o.jsx("div",{className:"t-icon i-tabler:plus"}),onClick:()=>{l("tools.data")},children:s("buttons.create")}):o.jsx(_,{title:s("buttons.create"),trigger:o.jsx(R,{icon:o.jsx("div",{className:"t-icon i-tabler:plus"}),children:s("buttons.create")}),component:()=>j(()=>import("./modal-AUZxkbCy.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,8,9,10,11,12,13,15])),componentProps:{magic:t==null?void 0:t.name}})},filterRender:n?()=>n:void 0})},se=()=>{var l,c,m;const{params:e}=E(),{resource:t}=M(),{data:s}=F({url:"tools/magic/config",method:"get",meta:{params:{magic:e==null?void 0:e.name}},queryOptions:{cacheTime:0}});return t!=null&&t.meta&&(t.meta.label=(l=s==null?void 0:s.data)==null?void 0:l.label),o.jsx(A,{formProps:{labelAlign:"top"},resource:"tools.dataPage",back:!0,id:0,action:"edit",useFormProps:{meta:{mode:"page"},queryOptions:{cacheTime:0}},queryParams:{magic:e==null?void 0:e.name},children:o.jsx("div",{children:((c=s==null?void 0:s.data)==null?void 0:c.fields)&&o.jsx(Z,{fields:(m=s==null?void 0:s.data)==null?void 0:m.fields})})})},re=()=>{const{params:e}=E(),{data:t}=F({url:"tools/magic/config",method:"get",meta:{params:{magic:e==null?void 0:e.name}}});return(t==null?void 0:t.code)!==200?null:t.data.type==="page"?o.jsx(se,{}):o.jsx(oe,{data:t})},_e=()=>{const{params:e}=E();return o.jsx(re,{},e==null?void 0:e.name)};export{_e as default};
