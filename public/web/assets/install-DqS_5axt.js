import{g as d,I as k,_ as F,u as q,h as Fe,i as U,m as ge,C as je,n as He,o as $e,E as ze,p as Q,q as Be,s as c,t as Me,v as Ue,w as A,x as re,y as x,B as Ve,F as We,G as Ke,H,j as n,S as C,J as L,K as X,L as V,M as J,O as Ge,P as S,Q as _,R as Ye,e as Je,z as qe,a as Qe,b as Xe,k as Ze,r as et,d as tt,D as nt,f as ae,T as rt}from"./modulepreload-polyfill-DkiKXnSB.js";import{L as B}from"./index-V7eSIHbg.js";import"./useSelect-Bn3A9Gfh.js";import"./index-BL_4kOPz.js";import"./index-BO3kD13t.js";import"./uploadImage-Dzshn1MY.js";import"./useUpload-DH6oH64-.js";import"./cascader-DGRZgSrA.js";import"./index-94D9uViR.js";import"./uploadFile-pTi1aoYj.js";import"./tinymce-BUv0ADRy.js";import"./manage-Bom0epIq.js";import"./index-BEGpCFfB.js";function se(r,a){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,t)}return e}function oe(r){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?se(Object(e),!0).forEach(function(t){F(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):se(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}var at={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 4a1 1 0 100 2 1 1 0 000-2zM5.17 4a3 3 0 015.66 0H22v2H10.83a3 3 0 01-5.66 0H2V4h3.17zm8 7a3 3 0 015.66 0H22v2h-3.17a3 3 0 01-5.66 0H2v-2h11.17zM16 11a1 1 0 100 2 1 1 0 000-2zm-8 7a1 1 0 100 2 1 1 0 000-2zm-2.83 0a3 3 0 015.66 0H22v2H10.83a3 3 0 01-5.66 0H2v-2h3.17z"}}]},xe=d.forwardRef(function(r,a){return d.createElement(k,oe(oe({},r),{},{id:"adjustment",ref:a,icon:at}))});xe.displayName="AdjustmentIcon";const st=xe;function le(r,a){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,t)}return e}function ce(r){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?le(Object(e),!0).forEach(function(t){F(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):le(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}var ot={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h20v2h-2v18.08l-1.62-1.3-1.85-1.47-1.62 1.44-.66.59-.66-.6-1.59-1.4-1.59 1.4-.66.6-.66-.6-1.62-1.43-1.85 1.47L4 22.08V4H2V2zm4 2v13.92l.88-.7.65-.53.63.56 1.59 1.41 1.59-1.4.66-.6.66.6 1.59 1.4 1.59-1.4.63-.57.65.53.88.7V4H6zm2 3h8v2H8V7zm2 4H9v2h6v-2h-5z"}}]},Oe=d.forwardRef(function(r,a){return d.createElement(k,ce(ce({},r),{},{id:"bill",ref:a,icon:ot}))});Oe.displayName="BillIcon";const lt=Oe;function ie(r,a){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,t)}return e}function ue(r){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?ie(Object(e),!0).forEach(function(t){F(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):ie(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}var ct={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M20.99 7.38l-10.61 10.6L4 11.63l1.42-1.41 4.95 4.95 9.2-9.2 1.4 1.42z"}}]},be=d.forwardRef(function(r,a){return d.createElement(k,ue(ue({},r),{},{id:"check",ref:a,icon:ct}))});be.displayName="CheckIcon";const it=be;function de(r,a){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,t)}return e}function pe(r){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?de(Object(e),!0).forEach(function(t){F(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):de(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}var ut={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M20 2v4.66l1.53-1.47 1.38 1.45L19 10.38l-3.91-3.74 1.38-1.45L18 6.66V2h2zM1 3h13v2H3v11h18v-4h2v6H1V3zm4 17h14v2H5v-2z"}}]},ye=d.forwardRef(function(r,a){return d.createElement(k,pe(pe({},r),{},{id:"install-desktop",ref:a,icon:ut}))});ye.displayName="InstallDesktopIcon";const dt=ye;function me(r,a){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,t)}return e}function fe(r){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?me(Object(e),!0).forEach(function(t){F(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):me(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}var pt={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M1 1h22v22H1V1zm2 8.67V21h18V9.67H3zm18-2V3H3v4.67h18zM5 4h2v2H5V4zm1 8h12v2H6v-2zm0 4h6v2H6v-2z"}}]},Ee=d.forwardRef(function(r,a){return d.createElement(k,fe(fe({},r),{},{id:"system-log",ref:a,icon:pt}))});Ee.displayName="SystemLogIcon";const mt=Ee;/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var ft={close:!1,maxLine:0,theme:"info"};/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var ht=["message","title","operation","theme","icon","close","maxLine","onClose","className","onClosed"];function he(r,a){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,t)}return e}function vt(r){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?he(Object(e),!0).forEach(function(t){x(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):he(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}var gt=200,Ie=d.forwardRef(function(r,a){var e=q(),t=e.classPrefix,s=Fe("alert"),v=U(s,2),p=v[0],o=v[1],u=ge({CloseIcon:je,InfoCircleFilledIcon:He,CheckCircleFilledIcon:$e,ErrorCircleFilledIcon:ze}),i=u.CloseIcon,l=u.InfoCircleFilledIcon,m=u.CheckCircleFilledIcon,b=u.ErrorCircleFilledIcon,g=Q(r,ft),N=g.message,y=g.title,R=g.operation,h=g.theme,P=g.icon,D=g.close,j=g.maxLine,f=g.onClose,E=g.className,O=g.onClosed,I=O===void 0?Ve:O,w=Be(g,ht),K=c.useState(!1),Z=U(K,2),Pe=Z[0],Se=Z[1],De=c.useState(!1),ee=U(De,2),G=ee[0],Re=ee[1],te={success:m,info:l,error:b,warning:b},_e=function(z){Se(!0),f==null||f({e:z})},Te=function(){Re(!G)},Le=function(){return c.isValidElement(P)?P:c.createElement(te[h]||te.info)},Ae=function(){return+j>0&&Array.isArray(N)?c.createElement("div",{className:"".concat(t,"-alert__description")},N.map(function(z,Y){return G?c.createElement("div",{key:Y},z):Y<j?c.createElement("div",{key:Y},z):!0}),+j>0?c.createElement("div",{className:"".concat(t,"-alert__collapse"),onClick:Te},o(G?p.collapseText:p.expandText)):null):c.createElement("div",{className:"".concat(t,"-alert__description")},N)},ke=function(){return c.createElement("div",{className:"".concat(t,"-alert__close"),onClick:_e},typeof D=="boolean"?c.createElement(i,null):re(D))},ne=d.useRef();return c.createElement(Me,{in:!Pe,unmountOnExit:!0,classNames:{exitActive:"".concat(t,"-alert--closing")},nodeRef:ne,timeout:gt,onExited:I},c.createElement("div",vt({ref:Ue(a,ne),className:A("".concat(t,"-alert"),"".concat(t,"-alert--").concat(h),E)},w),c.createElement("div",{className:"".concat(t,"-alert__icon")},Le()),c.createElement("div",{className:"".concat(t,"-alert__content")},y?c.createElement("div",{className:"".concat(t,"-alert__title")},y):null,c.createElement("div",{className:"".concat(t,"-alert__message")},Ae(),R?c.createElement("div",{className:"".concat(t,"-alert__operation")},re(R)):null)),D?ke():null))});Ie.displayName="Alert";/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var Ce=Ie;/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var we=c.createContext({current:0,theme:"default",readonly:!1,onChange:null});/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var jt={icon:!0,status:"default"},xt={layout:"horizontal",readonly:!1,separator:"line",sequence:"positive",theme:"default"};/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var T=function(a){var e=Q(a,jt),t=e.index,s=e.icon,v=e.title,p=e.content,o=e.value,u=e.children,i=e.style,l=e.status,m=d.useContext(we),b=m.current,g=m.theme,N=m.onChange,y=m.readonly,R=q(),h=R.classPrefix,P=R.steps,D=ge({CloseIcon:je,CheckIcon:it}),j=D.CloseIcon,f=D.CheckIcon,E=l!=="process"&&!y,O=c.useMemo(function(){if(!s)return null;var w="".concat(h,"-steps-item__icon--number");return s&&s!==!0?c.createElement("span",{className:w},s):g!=="default"?null:l==="error"?c.createElement("span",{className:w},P.errorIcon||c.createElement(j,null)):l==="finish"?c.createElement("span",{className:w},P.checkIcon||c.createElement(f,null)):c.createElement("span",{className:w},Number(t)+1)},[s,h,g,l,P,t,j,f]);function I(w){if(E){var K=o??t;N(K,b,{e:w})}}return c.createElement("div",{style:i,className:A(x(x(x(x(x(x({},"".concat(h,"-steps-item"),!0),"".concat(h,"-steps-item--wait"),l==="default"),"".concat(h,"-steps-item--error"),l==="error"),"".concat(h,"-steps-item--finish"),l==="finish"),"".concat(h,"-steps-item--process"),l==="process"),e.className,!!e.className))},c.createElement("div",{className:A("".concat(h,"-steps-item__inner"),x({},"".concat(h,"-steps-item--clickable"),E)),onClick:I},c.createElement("div",{className:A("".concat(h,"-steps-item__icon"),x({},"".concat(h,"-steps-item-").concat(l),l))},O),c.createElement("div",{className:"".concat(h,"-steps-item__content")},c.createElement("div",{className:"".concat(h,"-steps-item__title")},v),c.createElement("div",{className:"".concat(h,"-steps-item__description")},p),u?c.createElement("div",{className:"".concat(h,"-steps-item__extra")},u):null)))};T.displayName="StepItem";/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */function ve(r,a){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),e.push.apply(e,t)}return e}function M(r){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?ve(Object(e),!0).forEach(function(t){x(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):ve(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}var Ne=We(function(r,a){var e=Q(r,xt),t=e.style,s=e.readonly,v=e.layout,p=e.theme,o=e.sequence,u=e.separator,i=e.children,l=e.options,m=q(),b=m.classPrefix,g=Ke(e,"current",e.onChange),N=U(g,2),y=N[0],R=N[1],h=d.useMemo(function(){var j={};return l?l.forEach(function(f,E){f.value!==void 0&&(j[f.value]=E)}):c.Children.forEach(i,function(f,E){c.isValidElement(f)&&f.props.value!==void 0&&(j[f.props.value]=E)}),j},[l,i]),P=d.useCallback(function(j,f){var E;if(y==="FINISH")return"finish";if(j.status&&j.status!=="default")return j.status;if(j.value===void 0&&(o==="positive"&&typeof y=="number"&&f<y||o==="reverse"&&typeof y=="number"&&f>y))return"finish";if(j.value!==void 0){var O=h[y];if(O===void 0)return console.warn("TDesign Steps Warn: The current `value` is not exist."),"default";if(o==="positive"&&f<O||o==="reverse"&&f>O)return"finish"}var I=(E=j.value)!==null&&E!==void 0?E:f;return I===y?"process":"default"},[y,o,h]),D=d.useMemo(function(){if(l){var j=o==="reverse"?l.reverse():l;return l.map(function(O,I){var w=o==="reverse"?j.length-I-1:I;return c.createElement(T,M(M({key:I},O),{},{index:w,status:P(O,I)}))})}var f=c.Children.toArray(i),E=o==="reverse"?f.reverse():f;return f.map(function(O,I){var w=o==="reverse"?E.length-I-1:I;return c.cloneElement(O,M(M({},O.props),{},{index:w,status:P(O.props,I)}))})},[l,i,o,P]);return c.createElement(we.Provider,{value:{current:y,theme:p,readonly:s,onChange:R}},c.createElement("div",{ref:a,style:t,className:A(x(x(x(x(x(x({},"".concat(b,"-steps"),!0),"".concat(b,"-steps--").concat(p,"-anchor"),p),"".concat(b,"-steps--").concat(v),v),"".concat(b,"-steps--").concat(o),o),"".concat(b,"-steps--").concat(u,"-separator"),u),e.className,!!e.className))},D))},{StepItem:T});Ne.displayName="Steps";/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var Ot=Ne;const bt=({setTab:r})=>{const{t:a,i18n:e}=H(),t=e.language;return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-component p-4 pt-1",children:n.jsxs("div",{className:"max-w-full prose",children:[n.jsx("p",{className:"text-center text-lg font-bold",children:"MIT License Copyright (c) 2023 duxweb"}),n.jsx("p",{children:'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'}),n.jsx("p",{children:"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),n.jsx("p",{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'})]})}),n.jsxs(W,{children:[n.jsx("div",{children:n.jsxs(C,{value:t,onChange:s=>{e.changeLanguage(s)},children:[n.jsx(C.Option,{value:"en-US",children:"English"}),n.jsx(C.Option,{value:"zh-CN",children:"简体中文"}),n.jsx(C.Option,{value:"zh-TW",children:"繁体中文"}),n.jsx(C.Option,{value:"ja-JP",children:"日本語"}),n.jsx(C.Option,{value:"ko-KR",children:"한국어"}),n.jsx(C.Option,{value:"ru-RU",children:"русск"})]})}),n.jsx(L,{theme:"default",onClick:()=>{window.alert(a("install.close",{ns:"extend"}))},children:a("install.disagree",{ns:"extend"})}),n.jsx(L,{onClick:()=>{r(1)},children:a("install.agree",{ns:"extend"})})]})]})},yt=({setTab:r,config:a,path:e})=>{const{t}=H(),[s,v]=d.useState({});d.useEffect(()=>{X.get((a.apiUrl||"")+e).then(i=>{var l;v((l=i==null?void 0:i.data)==null?void 0:l.data)})},[]);const p=s==null?void 0:s.ext,o=s==null?void 0:s.packages,u=(s==null?void 0:s.status)||!1;return n.jsxs(n.Fragment,{children:[n.jsx(V,{align:"center",layout:"horizontal",children:t("install.pakcage",{ns:"extend"})}),n.jsx(J,{loading:!o||!(o!=null&&o.length),theme:"paragraph",children:n.jsx(B,{children:o==null?void 0:o.map((i,l)=>n.jsx(B.ListItem,{action:n.jsx("div",{className:"text-gray-6",children:i==null?void 0:i.ver}),children:i==null?void 0:i.name},l))})}),n.jsx(V,{align:"center",layout:"horizontal",children:t("install.extend",{ns:"extend"})}),n.jsx(J,{loading:!p||!(p!=null&&p.length),theme:"paragraph",children:n.jsx(B,{children:p==null?void 0:p.map((i,l)=>n.jsx(B.ListItem,{action:n.jsx("div",{className:Ge(["h-4 w-4 flex items-center justify-center rounded-full p-1 text-white ",i!=null&&i.status?"bg-success":"bg-error"]),children:i!=null&&i.status?n.jsx("div",{className:"i-tabler:check"}):n.jsx("div",{className:"i-tabler:x"})}),children:i==null?void 0:i.name},l))})}),n.jsxs(W,{children:[n.jsx(L,{theme:"default",onClick:()=>{r(0)},children:t("install.prev",{ns:"extend"})}),n.jsx(L,{disabled:!u,onClick:()=>{r(2)},children:t("install.next",{ns:"extend"})})]})]})},Et=({setTab:r,setData:a,config:e,path:t})=>{const{t:s,i18n:v}=H(),p=v.language,[o,u]=d.useState({}),i=l=>{X.post((e.apiUrl||"")+t,l.fields).then(m=>{var g,N;u((g=m==null?void 0:m.data)==null?void 0:g.data);const b=(N=m==null?void 0:m.data)==null?void 0:N.data;b!=null&&b.error||(r(3),a(l.fields))}).catch(m=>{console.log(m),u({error:!0,message:(m==null?void 0:m.message)||"Unknown"})})};return n.jsx(n.Fragment,{children:n.jsxs(S,{onSubmit:i,children:[n.jsx(V,{align:"center",layout:"horizontal",children:s("install.system",{ns:"extend"})}),n.jsx(S.FormItem,{initialData:p,label:s("install.systemLang",{ns:"extend"}),name:["use","lang"],children:n.jsxs(C,{children:[n.jsx(C.Option,{value:"en-US",children:"English"}),n.jsx(C.Option,{value:"zh-CN",children:"简体中文"}),n.jsx(C.Option,{value:"zh-TW",children:"繁体中文"}),n.jsx(C.Option,{value:"ja-JP",children:"日本語"}),n.jsx(C.Option,{value:"ko-KR",children:"한국어"}),n.jsx(C.Option,{value:"ru-RU",children:"русск"})]})}),n.jsx(S.FormItem,{initialData:"Dux",label:s("install.systemName",{ns:"extend"}),name:["use","name"],children:n.jsx(_,{})}),n.jsx(S.FormItem,{initialData:"http://localhost",label:s("install.systemDomain",{ns:"extend"}),name:["use","domain"],children:n.jsx(_,{})}),n.jsx(V,{align:"center",layout:"horizontal",children:s("install.database",{ns:"extend"})}),(o==null?void 0:o.error)&&n.jsx("div",{className:"mb-6",children:n.jsx(Ce,{theme:"error",message:o==null?void 0:o.message})}),n.jsx(S.FormItem,{initialData:"localhost",label:s("install.databaseHost",{ns:"extend"}),name:["database","host"],children:n.jsx(_,{})}),n.jsx(S.FormItem,{initialData:"dux",label:s("install.databaseName",{ns:"extend"}),name:["database","name"],children:n.jsx(_,{})}),n.jsx(S.FormItem,{initialData:"root",label:s("install.databaseUsername",{ns:"extend"}),name:["database","username"],children:n.jsx(_,{})}),n.jsx(S.FormItem,{initialData:"",label:s("install.databasePassword",{ns:"extend"}),name:["database","password"],children:n.jsx(_,{})}),n.jsx(S.FormItem,{initialData:"3306",label:s("install.databasePort",{ns:"extend"}),name:["database","port"],children:n.jsx(_,{})}),n.jsxs(W,{children:[n.jsx(L,{theme:"default",onClick:()=>{r(1)},children:s("install.prev",{ns:"extend"})}),n.jsx(L,{type:"submit",children:s("install.next",{ns:"extend"})})]})]})})},It=({config:r,data:a,path:e})=>{const[t,s]=d.useState(!0),[v,p]=d.useState(!1),[o,u]=d.useState({}),{t:i}=H();return d.useEffect(()=>{X.post((r.apiUrl||"")+e,a).then(l=>{var m;u((m=l.data)==null?void 0:m.data),s(!1),p(!0)}).catch(l=>{console.log(l),u({error:!0,message:(l==null?void 0:l.message)||"Unknown"})})},[]),n.jsxs(n.Fragment,{children:[n.jsx(Ye,{size:"small",loading:t,showOverlay:!0,text:i("install.loading",{ns:"extend"}),children:n.jsx("div",{className:"",children:n.jsx(J,{theme:"paragraph",animation:"flashed",loading:t,children:o!=null&&o.error?n.jsx(Ce,{theme:"error",message:o==null?void 0:o.message}):n.jsx("div",{className:"bg-component p-4",children:n.jsx("pre",{children:o.logs})})})})}),v&&n.jsx(W,{children:n.jsx(L,{onClick:()=>{window.location.href="/manage"},children:i("install.login",{ns:"extend"})})})]})},Ct="/web/assets/background-DLLzPY35.svg",wt=({config:r,logo:a,pathDetection:e,pathConfig:t,pathComplete:s})=>{const[v,p]=d.useState(0),{t:o,i18n:u}=H(),[i,l]=d.useState({});return d.useEffect(()=>{u.addResourceBundle("en-US","extend",Je),u.addResourceBundle("zh-CN","extend",qe),u.addResourceBundle("zh-TW","extend",Qe),u.addResourceBundle("ja-JP","extend",Xe),u.addResourceBundle("ko-KR","extend",Ze),u.addResourceBundle("ru-RU","extend",et),u.changeLanguage(u.language)},[]),n.jsx("div",{className:"h-screen w-screen overflow-x-hidden overflow-y-auto flex justify-center bg-repeat bg-page",style:{backgroundImage:`url(${Ct})`},children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"mt-8",children:a}),n.jsxs("div",{className:"m-8 max-w-full w-200 rounded-lg p-10 shadow bg-container",children:[n.jsxs(Ot,{current:v,children:[n.jsx(T,{icon:n.jsx(lt,{}),title:o("install.agreement",{ns:"extend"}),content:o("install.agreementDesc",{ns:"extend"})}),n.jsx(T,{icon:n.jsx(mt,{}),title:o("install.detection",{ns:"extend"}),content:o("install.detectionDesc",{ns:"extend"})}),n.jsx(T,{icon:n.jsx(st,{}),title:o("install.config",{ns:"extend"}),content:o("install.configDesc",{ns:"extend"})}),n.jsx(T,{icon:n.jsx(dt,{}),title:o("install.complete",{ns:"extend"}),content:o("install.completeDesc",{ns:"extend"})})]}),n.jsx("div",{className:"mt-10",children:n.jsxs("div",{children:[v===0&&n.jsx(bt,{setTab:p}),v===1&&n.jsx(yt,{setTab:p,config:r,path:e}),v===2&&n.jsx(Et,{setTab:p,config:r,setData:l,path:t}),v===3&&n.jsx(It,{setTab:p,config:r,data:i,path:s})]})})]})]})})},W=({children:r})=>n.jsx("div",{className:"mt-4 flex flex justify-end gap-2",children:r}),Nt=document.getElementById("root"),Pt=tt(Nt);Pt.render(n.jsx(nt,{config:ae,children:n.jsx(wt,{config:ae,pathDetection:"/install/detection",pathConfig:"/install/config",pathComplete:"/install/complete",logo:n.jsx(rt,{className:"h-10"})})}));
