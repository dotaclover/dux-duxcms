const __vite__fileDeps=["assets/save-EJaUoZRy.js","assets/vendor-map-DjDVTs0N.js","assets/vendor-react-BlTfyhut.js","assets/vendor-tdesign-BxQoi5Mo.js","assets/vendor-refine-BK41FXO6.js","assets/modulepreload-polyfill-D6ThnDFs.js","assets/vendor-echarts-JHGMnnew.js","assets/vendor-tinymce-lUkVC9Da.js","assets/vendor-markdown-CL7ixDl-.js","assets/vendor-lib-CKVa3D7Q.js","assets/uploadImageManage-HbmYZfmq.js","assets/manage-bOx1Sh-_.js","assets/useUpload-BsrPC7ib.js","assets/group-ClRIeId8.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as u}from"./vendor-markdown-CL7ixDl-.js";import{j as e}from"./vendor-map-DjDVTs0N.js";import{r as m,R as I}from"./vendor-react-BlTfyhut.js";import{G as v,at as R}from"./vendor-refine-BK41FXO6.js";import{Z as y,T as L}from"./modulepreload-polyfill-D6ThnDFs.js";import"./vendor-echarts-JHGMnnew.js";import{F as l,S as T}from"./vendor-tdesign-BxQoi5Mo.js";import{B as g,c as V,b as C}from"./button-VrESTZal.js";import{a as D,D as P}from"./link-NY0bYu7g.js";import"./vendor-tinymce-lUkVC9Da.js";import"./vendor-lib-CKVa3D7Q.js";import"./action-CcBf9P9h.js";const K=({form:t,field:i,title:r,resource:o,component:n,optionLabel:F,optionValue:b,defaultSelect:p})=>{const x=v(),[h,j]=m.useState(!1),{options:s,onSearch:f,queryResult:E}=R({resource:o,optionLabel:F||"name",optionValue:b||"id"}),c=m.useContext(y);m.useEffect(()=>{var a,_;!p||!s.length||!c||h||(j(()=>!0),t==null||t.setFieldsValue({[i]:(a=s[0])==null?void 0:a.value}),c.setFilters({[i]:(_=s[0])==null?void 0:_.value}))},[p,i,t,h,s,c]);const d=l.useWatch(i,t);return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx(g,{resource:o,action:"create",variant:"outline",theme:"default",title:x("buttons.create"),icon:e.jsx("div",{className:"i-tabler:plus"}),component:n,children:e.jsx(e.Fragment,{})})}),e.jsx(l.FormItem,{name:i,children:e.jsx(T,{clearable:!0,onSearch:f,options:s,placeholder:r,loading:E.isLoading})}),d&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(g,{resource:o,action:"edit",variant:"outline",theme:"default",title:x("tools.magic.fields.editGroup"),icon:e.jsx("div",{className:"i-tabler:edit"}),component:n,rowId:d,children:e.jsx(e.Fragment,{})}),e.jsx(V,{resource:o,variant:"outline",theme:"default",icon:e.jsx("div",{className:"i-tabler:trash"}),rowId:d,onConfirm:()=>{setTimeout(()=>{var a;t.getFieldValue(i)&&(t==null||t.setFieldsValue({[i]:(a=s[0])==null?void 0:a.value}))},0),j(!1)},children:e.jsx(e.Fragment,{})})]})]})},z=()=>{const t=v(),[i]=l.useForm(),r=l.useWatch("menu_id",i),o=I.useMemo(()=>[{colKey:"id",sorter:!0,sortType:"all",title:"ID",width:150},{colKey:"title",title:t("content.menu.fields.title"),ellipsis:!0},{colKey:"url",title:t("content.menu.fields.url"),ellipsis:!0},{colKey:"link",title:t("table.actions"),fixed:"right",align:"center",width:160,cell:({row:n})=>e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(D,{rowId:n.id,component:()=>u(()=>import("./save-EJaUoZRy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])),componentProps:{menu_id:n.menu_id}}),e.jsx(P,{rowId:n.id,params:{menu_id:n.menu_id}})]})}],[t]);return e.jsx(e.Fragment,{children:e.jsx(L,{columns:o,filterForm:i,table:{rowKey:"id",tree:{childrenKey:"children",treeNodeColumnIndex:1,defaultExpandAll:!0},pagination:void 0},actionRender:()=>e.jsx(e.Fragment,{children:r&&e.jsx(C,{title:t("buttons.create"),component:()=>u(()=>import("./save-EJaUoZRy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])),componentProps:{menu_id:r}})}),filterRender:()=>e.jsx(e.Fragment,{children:e.jsx(K,{title:t("content.menu.placeholder.group"),resource:"content.menu",form:i,field:"menu_id",defaultSelect:!0,optionLabel:"name",optionValue:"id",component:()=>u(()=>import("./group-ClRIeId8.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,8,9]))})})})})};export{z as default};
