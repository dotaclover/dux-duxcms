import{g as d,I as k,_ as F,u as q,h as ke,i as U,m as ge,C as je,n as Fe,o as He,E as $e,p as ze,q as Be,R as c,s as Me,t as Ue,v as A,w as ae,x,y as Ve,B as We,F as Ke,G as H,j as n,S as E,H as L,J as Q,K as V,L as J,M as Ge,O as S,P as T,Q as Ye,e as Je,z as qe,a as Qe,b as Xe,k as Ze,r as et,d as tt,D as nt,f as re,T as at}from"./modulepreload-polyfill-ac150c65.js";import{L as B}from"./index-fad5c14d.js";import"./select-79560333.js";import"./index-c55b5791.js";import"./index-5f5e664f.js";import"./cascader-482e42f6.js";import"./index-00aa768a.js";import"./uploadImage-0a68a97f.js";import"./useUpload-c49e3844.js";import"./tinymce-42857ea9.js";function se(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,t)}return a}function le(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?se(Object(a),!0).forEach(function(t){F(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var rt={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M8 4a1 1 0 100 2 1 1 0 000-2zM5.17 4a3 3 0 015.66 0H22v2H10.83a3 3 0 01-5.66 0H2V4h3.17zm8 7a3 3 0 015.66 0H22v2h-3.17a3 3 0 01-5.66 0H2v-2h11.17zM16 11a1 1 0 100 2 1 1 0 000-2zm-8 7a1 1 0 100 2 1 1 0 000-2zm-2.83 0a3 3 0 015.66 0H22v2H10.83a3 3 0 01-5.66 0H2v-2h3.17z"}}]},xe=d.forwardRef(function(e,r){return d.createElement(k,le(le({},e),{},{id:"adjustment",ref:r,icon:rt}))});xe.displayName="AdjustmentIcon";const st=xe;function oe(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,t)}return a}function ce(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?oe(Object(a),!0).forEach(function(t){F(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var lt={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h20v2h-2v18.08l-1.62-1.3-1.85-1.47-1.62 1.44-.66.59-.66-.6-1.59-1.4-1.59 1.4-.66.6-.66-.6-1.62-1.43-1.85 1.47L4 22.08V4H2V2zm4 2v13.92l.88-.7.65-.53.63.56 1.59 1.41 1.59-1.4.66-.6.66.6 1.59 1.4 1.59-1.4.63-.57.65.53.88.7V4H6zm2 3h8v2H8V7zm2 4H9v2h6v-2h-5z"}}]},Oe=d.forwardRef(function(e,r){return d.createElement(k,ce(ce({},e),{},{id:"bill",ref:r,icon:lt}))});Oe.displayName="BillIcon";const ot=Oe;function ie(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,t)}return a}function ue(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?ie(Object(a),!0).forEach(function(t){F(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ct={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M20.99 7.38l-10.61 10.6L4 11.63l1.42-1.41 4.95 4.95 9.2-9.2 1.4 1.42z"}}]},be=d.forwardRef(function(e,r){return d.createElement(k,ue(ue({},e),{},{id:"check",ref:r,icon:ct}))});be.displayName="CheckIcon";const it=be;function de(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,t)}return a}function me(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?de(Object(a),!0).forEach(function(t){F(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ut={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M20 2v4.66l1.53-1.47 1.38 1.45L19 10.38l-3.91-3.74 1.38-1.45L18 6.66V2h2zM1 3h13v2H3v11h18v-4h2v6H1V3zm4 17h14v2H5v-2z"}}]},ye=d.forwardRef(function(e,r){return d.createElement(k,me(me({},e),{},{id:"install-desktop",ref:r,icon:ut}))});ye.displayName="InstallDesktopIcon";const dt=ye;function fe(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,t)}return a}function he(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?fe(Object(a),!0).forEach(function(t){F(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var mt={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M1 1h22v22H1V1zm2 8.67V21h18V9.67H3zm18-2V3H3v4.67h18zM5 4h2v2H5V4zm1 8h12v2H6v-2zm0 4h6v2H6v-2z"}}]},Ie=d.forwardRef(function(e,r){return d.createElement(k,he(he({},e),{},{id:"system-log",ref:r,icon:mt}))});Ie.displayName="SystemLogIcon";const ft=Ie;/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */var ht={close:!1,maxLine:0,theme:"info"};/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */var pt=["message","title","operation","theme","icon","close","maxLine","onClose","className","onClosed"];function pe(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,t)}return a}function vt(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?pe(Object(a),!0).forEach(function(t){x(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var gt=200,Ee=d.forwardRef(function(e,r){var a=q(),t=a.classPrefix,s=ke("alert"),v=U(s,2),m=v[0],l=v[1],u=ge({CloseIcon:je,InfoCircleFilledIcon:Fe,CheckCircleFilledIcon:He,ErrorCircleFilledIcon:$e}),i=u.CloseIcon,o=u.InfoCircleFilledIcon,f=u.CheckCircleFilledIcon,b=u.ErrorCircleFilledIcon,g=ze(e,ht),N=g.message,C=g.title,_=g.operation,p=g.theme,P=g.icon,D=g.close,j=g.maxLine,h=g.onClose,y=g.className,O=g.onClosed,I=O===void 0?Ve:O,w=Be(g,pt),K=c.useState(!1),Z=U(K,2),Ne=Z[0],Pe=Z[1],Se=c.useState(!1),ee=U(Se,2),G=ee[0],De=ee[1],te={success:f,info:o,error:b,warning:b},Re=function(z){Pe(!0),h==null||h({e:z})},_e=function(){De(!G)},Te=function(){return c.isValidElement(P)?P:c.createElement(te[p]||te.info)},Le=function(){return+j>0&&Array.isArray(N)?c.createElement("div",{className:"".concat(t,"-alert__description")},N.map(function(z,Y){return G?c.createElement("div",{key:Y},z):Y<j?c.createElement("div",{key:Y},z):!0}),+j>0?c.createElement("div",{className:"".concat(t,"-alert__collapse"),onClick:_e},l(G?m.collapseText:m.expandText)):null):c.createElement("div",{className:"".concat(t,"-alert__description")},N)},Ae=function(){return c.createElement("div",{className:"".concat(t,"-alert__close"),onClick:Re},typeof D=="boolean"?c.createElement(i,null):ae(D))},ne=d.useRef();return c.createElement(Me,{in:!Ne,unmountOnExit:!0,classNames:{exitActive:"".concat(t,"-alert--closing")},nodeRef:ne,timeout:gt,onExited:I},c.createElement("div",vt({ref:Ue(r,ne),className:A("".concat(t,"-alert"),"".concat(t,"-alert--").concat(p),y)},w),c.createElement("div",{className:"".concat(t,"-alert__icon")},Te()),c.createElement("div",{className:"".concat(t,"-alert__content")},C?c.createElement("div",{className:"".concat(t,"-alert__title")},C):null,c.createElement("div",{className:"".concat(t,"-alert__message")},Le(),_?c.createElement("div",{className:"".concat(t,"-alert__operation")},ae(_)):null)),D?Ae():null))});Ee.displayName="Alert";/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */var Ce=Ee;/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */var we=c.createContext({current:0,theme:"default",readonly:!1,onChange:null});/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */var jt={icon:!0,status:"default"},xt={layout:"horizontal",readonly:!1,separator:"line",sequence:"positive",theme:"default"};/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */var R=function(r){var a,t=r.index,s=r.icon,v=r.title,m=r.content,l=r.value,u=r.children,i=r.style,o=r.status,f=d.useContext(we),b=f.current,g=f.theme,N=f.onChange,C=f.readonly,_=q(),p=_.classPrefix,P=_.steps,D=ge({CloseIcon:je,CheckIcon:it}),j=D.CloseIcon,h=D.CheckIcon,y=o!=="process"&&!C;function O(){if(!s)return null;var w="".concat(p,"-steps-item__icon--number");return s&&s!==!0?c.createElement("span",{className:w},s):g!=="default"?null:o==="error"?c.createElement("span",{className:w},P.errorIcon||c.createElement(j,null)):o==="finish"?c.createElement("span",{className:w},P.checkIcon||c.createElement(h,null)):c.createElement("span",{className:w},Number(t)+1)}function I(w){if(y){var K=l??t;N(K,b,{e:w})}}return c.createElement("div",{style:i,className:A((a={},x(a,"".concat(p,"-steps-item"),!0),x(a,"".concat(p,"-steps-item--wait"),o==="default"),x(a,"".concat(p,"-steps-item--error"),o==="error"),x(a,"".concat(p,"-steps-item--finish"),o==="finish"),x(a,"".concat(p,"-steps-item--process"),o==="process"),x(a,r.className,!!r.className),a))},c.createElement("div",{className:A("".concat(p,"-steps-item__inner"),x({},"".concat(p,"-steps-item--clickable"),y)),onClick:I},c.createElement("div",{className:A("".concat(p,"-steps-item__icon"),x({},"".concat(p,"-steps-item-").concat(o),o))},O()),c.createElement("div",{className:"".concat(p,"-steps-item__content")},c.createElement("div",{className:"".concat(p,"-steps-item__title")},v),c.createElement("div",{className:"".concat(p,"-steps-item__description")},m),u?c.createElement("div",{className:"".concat(p,"-steps-item__extra")},u):null)))};R.displayName="StepItem";R.defaultProps=jt;/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */function ve(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,t)}return a}function M(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?ve(Object(a),!0).forEach(function(t){x(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var X=We(function(e,r){var a,t=e.style,s=e.readonly,v=e.layout,m=e.theme,l=e.sequence,u=e.separator,i=e.children,o=e.options,f=q(),b=f.classPrefix,g=Ke(e,"current",e.onChange),N=U(g,2),C=N[0],_=N[1],p=d.useMemo(function(){var j={};return o?o.forEach(function(h,y){h.value!==void 0&&(j[h.value]=y)}):c.Children.forEach(i,function(h,y){c.isValidElement(h)&&h.props.value!==void 0&&(j[h.props.value]=y)}),j},[o,i]),P=d.useCallback(function(j,h){var y;if(C==="FINISH")return"finish";if(j.status&&j.status!=="default")return j.status;if(j.value===void 0&&(l==="positive"&&h<C||l==="reverse"&&h>C))return"finish";if(j.value!==void 0){var O=p[C];if(O===void 0)return console.warn("TDesign Steps Warn: The current `value` is not exist."),"default";if(l==="positive"&&h<O||l==="reverse"&&h>O)return"finish"}var I=(y=j.value)!==null&&y!==void 0?y:h;return I===C?"process":"default"},[C,l,p]),D=d.useMemo(function(){if(o){var j=l==="reverse"?o.reverse():o;return o.map(function(O,I){var w=l==="reverse"?j.length-I-1:I;return c.createElement(R,M(M({key:I},O),{},{index:w,status:P(O,I)}))})}var h=c.Children.toArray(i),y=l==="reverse"?h.reverse():h;return h.map(function(O,I){var w=l==="reverse"?y.length-I-1:I;return c.cloneElement(O,M(M({},O.props),{},{index:w,status:P(O.props,I)}))})},[o,i,l,P]);return c.createElement(we.Provider,{value:{current:C,theme:m,readonly:s,onChange:_}},c.createElement("div",{ref:r,style:t,className:A((a={},x(a,"".concat(b,"-steps"),!0),x(a,"".concat(b,"-steps--").concat(m,"-anchor"),m),x(a,"".concat(b,"-steps--").concat(v),v),x(a,"".concat(b,"-steps--").concat(l),l),x(a,"".concat(b,"-steps--").concat(u,"-separator"),u),x(a,e.className,!!e.className),a))},D))},{StepItem:R});X.displayName="Steps";X.defaultProps=xt;/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */var Ot=X;const bt=({setTab:e})=>{const{t:r,i18n:a}=H(),t=a.language;return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-component p-4 pt-1",children:n.jsxs("div",{className:"max-w-full prose",children:[n.jsx("p",{className:"text-center text-lg font-bold",children:"MIT License Copyright (c) 2023 duxweb"}),n.jsx("p",{children:'Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:'}),n.jsx("p",{children:"The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software."}),n.jsx("p",{children:'THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.'})]})}),n.jsxs(W,{children:[n.jsx("div",{children:n.jsxs(E,{value:t,onChange:s=>{a.changeLanguage(s)},children:[n.jsx(E.Option,{value:"en-US",children:"English"}),n.jsx(E.Option,{value:"zh-CN",children:"简体中文"}),n.jsx(E.Option,{value:"zh-TW",children:"繁体中文"}),n.jsx(E.Option,{value:"ja-JP",children:"日本語"}),n.jsx(E.Option,{value:"ko-KR",children:"한국어"}),n.jsx(E.Option,{value:"ru-RU",children:"русск"})]})}),n.jsx(L,{theme:"default",onClick:()=>{window.alert(r("install.close",{ns:"extend"}))},children:r("install.disagree",{ns:"extend"})}),n.jsx(L,{onClick:()=>{e(1)},children:r("install.agree",{ns:"extend"})})]})]})},yt=({setTab:e,config:r,path:a})=>{const{t}=H(),[s,v]=d.useState({});d.useEffect(()=>{Q.get((r.apiUrl||"")+a).then(i=>{var o;v((o=i==null?void 0:i.data)==null?void 0:o.data)})},[]);const m=s==null?void 0:s.ext,l=s==null?void 0:s.packages,u=(s==null?void 0:s.status)||!1;return n.jsxs(n.Fragment,{children:[n.jsx(V,{align:"center",layout:"horizontal",children:t("install.pakcage",{ns:"extend"})}),n.jsx(J,{loading:!l||!(l!=null&&l.length),theme:"paragraph",children:n.jsx(B,{children:l==null?void 0:l.map((i,o)=>n.jsx(B.ListItem,{action:n.jsx("div",{className:"text-gray-6",children:i==null?void 0:i.ver}),children:i==null?void 0:i.name},o))})}),n.jsx(V,{align:"center",layout:"horizontal",children:t("install.extend",{ns:"extend"})}),n.jsx(J,{loading:!m||!(m!=null&&m.length),theme:"paragraph",children:n.jsx(B,{children:m==null?void 0:m.map((i,o)=>n.jsx(B.ListItem,{action:n.jsx("div",{className:Ge(["h-4 w-4 flex items-center justify-center rounded-full p-1 text-white ",i!=null&&i.status?"bg-success":"bg-error"]),children:i!=null&&i.status?n.jsx("div",{className:"i-tabler:check"}):n.jsx("div",{className:"i-tabler:x"})}),children:i==null?void 0:i.name},o))})}),n.jsxs(W,{children:[n.jsx(L,{theme:"default",onClick:()=>{e(0)},children:t("install.prev",{ns:"extend"})}),n.jsx(L,{disabled:!u,onClick:()=>{e(2)},children:t("install.next",{ns:"extend"})})]})]})},It=({setTab:e,setData:r,config:a,path:t})=>{const{t:s,i18n:v}=H(),m=v.language,[l,u]=d.useState({}),i=o=>{Q.post((a.apiUrl||"")+t,o.fields).then(f=>{var g,N;u((g=f==null?void 0:f.data)==null?void 0:g.data);const b=(N=f==null?void 0:f.data)==null?void 0:N.data;b!=null&&b.error||(e(3),r(o.fields))}).catch(f=>{console.log(f),u({error:!0,message:(f==null?void 0:f.message)||"Unknown"})})};return n.jsx(n.Fragment,{children:n.jsxs(S,{onSubmit:i,children:[n.jsx(V,{align:"center",layout:"horizontal",children:s("install.system",{ns:"extend"})}),n.jsx(S.FormItem,{initialData:m,label:s("install.systemLang",{ns:"extend"}),name:["use","lang"],children:n.jsxs(E,{children:[n.jsx(E.Option,{value:"en-US",children:"English"}),n.jsx(E.Option,{value:"zh-CN",children:"简体中文"}),n.jsx(E.Option,{value:"zh-TW",children:"繁体中文"}),n.jsx(E.Option,{value:"ja-JP",children:"日本語"}),n.jsx(E.Option,{value:"ko-KR",children:"한국어"}),n.jsx(E.Option,{value:"ru-RU",children:"русск"})]})}),n.jsx(S.FormItem,{initialData:"Dux",label:s("install.systemName",{ns:"extend"}),name:["use","name"],children:n.jsx(T,{})}),n.jsx(S.FormItem,{initialData:"http://localhost",label:s("install.systemDomain",{ns:"extend"}),name:["use","domain"],children:n.jsx(T,{})}),n.jsx(V,{align:"center",layout:"horizontal",children:s("install.database",{ns:"extend"})}),(l==null?void 0:l.error)&&n.jsx("div",{className:"mb-6",children:n.jsx(Ce,{theme:"error",message:l==null?void 0:l.message})}),n.jsx(S.FormItem,{initialData:"localhost",label:s("install.databaseHost",{ns:"extend"}),name:["database","host"],children:n.jsx(T,{})}),n.jsx(S.FormItem,{initialData:"dux",label:s("install.databaseName",{ns:"extend"}),name:["database","name"],children:n.jsx(T,{})}),n.jsx(S.FormItem,{initialData:"root",label:s("install.databaseUsername",{ns:"extend"}),name:["database","username"],children:n.jsx(T,{})}),n.jsx(S.FormItem,{initialData:"",label:s("install.databasePassword",{ns:"extend"}),name:["database","password"],children:n.jsx(T,{})}),n.jsx(S.FormItem,{initialData:"3306",label:s("install.databasePort",{ns:"extend"}),name:["database","port"],children:n.jsx(T,{})}),n.jsxs(W,{children:[n.jsx(L,{theme:"default",onClick:()=>{e(1)},children:s("install.prev",{ns:"extend"})}),n.jsx(L,{type:"submit",children:s("install.next",{ns:"extend"})})]})]})})},Et=({config:e,data:r,path:a})=>{const[t,s]=d.useState(!0),[v,m]=d.useState(!1),[l,u]=d.useState({}),{t:i}=H();return d.useEffect(()=>{Q.post((e.apiUrl||"")+a,r).then(o=>{var f;u((f=o.data)==null?void 0:f.data),s(!1),m(!0)}).catch(o=>{console.log(o),u({error:!0,message:(o==null?void 0:o.message)||"Unknown"})})},[]),n.jsxs(n.Fragment,{children:[n.jsx(Ye,{size:"small",loading:t,showOverlay:!0,text:i("install.loading",{ns:"extend"}),children:n.jsx("div",{className:"",children:n.jsx(J,{theme:"paragraph",animation:"flashed",loading:t,children:l!=null&&l.error?n.jsx(Ce,{theme:"error",message:l==null?void 0:l.message}):n.jsx("div",{className:"bg-component p-4",children:n.jsx("pre",{children:l.logs})})})})}),v&&n.jsx(W,{children:n.jsx(L,{onClick:()=>{window.location.href="/manage"},children:i("install.login",{ns:"extend"})})})]})},Ct="/web/assets/background-1bf325e0.svg",wt=({config:e,logo:r,pathDetection:a,pathConfig:t,pathComplete:s})=>{const[v,m]=d.useState(0),{t:l,i18n:u}=H(),[i,o]=d.useState({});return d.useEffect(()=>{u.addResourceBundle("en-US","extend",Je),u.addResourceBundle("zh-CN","extend",qe),u.addResourceBundle("zh-TW","extend",Qe),u.addResourceBundle("ja-JP","extend",Xe),u.addResourceBundle("ko-KR","extend",Ze),u.addResourceBundle("ru-RU","extend",et),u.changeLanguage(u.language)},[]),n.jsx("div",{className:"h-screen w-screen overflow-x-hidden overflow-y-auto flex justify-center bg-repeat bg-page",style:{backgroundImage:`url(${Ct})`},children:n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("div",{className:"mt-8",children:r}),n.jsxs("div",{className:"m-8 max-w-full w-200 rounded-lg p-10 shadow bg-container",children:[n.jsxs(Ot,{current:v,children:[n.jsx(R,{icon:n.jsx(ot,{}),title:l("install.agreement",{ns:"extend"}),content:l("install.agreementDesc",{ns:"extend"})}),n.jsx(R,{icon:n.jsx(ft,{}),title:l("install.detection",{ns:"extend"}),content:l("install.detectionDesc",{ns:"extend"})}),n.jsx(R,{icon:n.jsx(st,{}),title:l("install.config",{ns:"extend"}),content:l("install.configDesc",{ns:"extend"})}),n.jsx(R,{icon:n.jsx(dt,{}),title:l("install.complete",{ns:"extend"}),content:l("install.completeDesc",{ns:"extend"})})]}),n.jsx("div",{className:"mt-10",children:n.jsxs("div",{children:[v===0&&n.jsx(bt,{setTab:m}),v===1&&n.jsx(yt,{setTab:m,config:e,path:a}),v===2&&n.jsx(It,{setTab:m,config:e,setData:o,path:t}),v===3&&n.jsx(Et,{setTab:m,config:e,data:i,path:s})]})})]})]})})},W=({children:e})=>n.jsx("div",{className:"mt-4 flex flex justify-end gap-2",children:e}),Nt=document.getElementById("root"),Pt=tt(Nt);Pt.render(n.jsx(nt,{config:re,children:n.jsx(wt,{config:re,pathDetection:"/install/detection",pathConfig:"/install/config",pathComplete:"/install/complete",logo:n.jsx(at,{className:"h-10"})})}));
