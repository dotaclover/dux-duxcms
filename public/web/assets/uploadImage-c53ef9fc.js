import{g as n,c6 as h,c7 as x,j as R}from"./modulepreload-polyfill-39569a5f.js";import{u as C,U as M}from"./useUpload-9fca8258.js";var P=function(e){return typeof e=="function"},N=!1;const F=N;function S(e){F&&(P(e)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof e)));var r=n.useRef(e);r.current=n.useMemo(function(){return e},[e]);var s=n.useRef();return s.current||(s.current=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return r.current.apply(this,o)}),s.current}var b=function(){var e=h(n.useState({}),2),r=e[1];return n.useCallback(function(){return r({})},[])};const j=b;function z(e,r){e===void 0&&(e={}),r===void 0&&(r={});var s=r.defaultValue,o=r.defaultValuePropName,t=o===void 0?"defaultValue":o,l=r.valuePropName,m=l===void 0?"value":l,u=r.trigger,f=u===void 0?"onChange":u,d=e[m],a=e.hasOwnProperty(m),c=n.useMemo(function(){return a?d:e.hasOwnProperty(t)?e[t]:s},[]),i=n.useRef(c);a&&(i.current=d);var U=j();function V(g){for(var p=[],v=1;v<arguments.length;v++)p[v-1]=arguments[v];var y=P(g)?g(i.current):g;a||(i.current=y,U()),e[f]&&e[f].apply(e,x([y],h(p),!1))}return[i.current,S(V)]}const D=({className:e,value:r,defaultValue:s,onChange:o,multiple:t,...l})=>{const m=C(),[u,f]=z({value:r,defaultValue:s,onChange:o}),d=n.useMemo(()=>u?Array.isArray(u)?u.map(a=>({url:a})):[{url:u}]:[],[u]);return R.jsx(M,{className:e,files:d,theme:"image",accept:"image/*",onChange:a=>{const c=a==null?void 0:a.map(i=>i.url);f(t?c:c==null?void 0:c[0])},multiple:t,...m,...l})};export{D as U,z as u};
