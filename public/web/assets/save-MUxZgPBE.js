import{j as e}from"./vendor-map-Dmo-f729.js";import{r as h}from"./vendor-react-CEAiij2-.js";import{y as p,Y as I}from"./modulepreload-polyfill-BJI5hq6_.js";import{_ as g}from"./vendor-refine-DSrLypaZ.js";import"./vendor-echarts-BA2V57Gb.js";import{ad as u,F as m,ae as y,I as b,n as N,B as E}from"./vendor-tdesign-Bh4nsAtR.js";import"./vendor-tinymce-DBANSpiv.js";import"./vendor-lib-BfwGYCz4.js";import"./vendor-markdown-B5GQD1Nb.js";const k=a=>{const[l,i]=h.useState({}),{request:j}=p();return h.useEffect(()=>{j(`cms/theme/${a==null?void 0:a.id}/config`).then(s=>{i(s==null?void 0:s.data)})},[]),e.jsx(I,{id:a==null?void 0:a.id,padding:!1,children:e.jsx(u,{placement:"top",size:"medium",defaultValue:0,children:Object.entries(l||{}).filter(([s])=>s!="theme").map(([s,r],o)=>{const x=Object.entries((r==null?void 0:r.fields)||{});return e.jsx(u.TabPanel,{value:o,label:r==null?void 0:r.label,destroyOnHide:!1,children:e.jsx("div",{className:"p-5",children:x.map(([n,t],c)=>{if((t==null?void 0:t.type)=="textarea")return e.jsx(m.FormItem,{name:[s,n],label:t==null?void 0:t.label,children:e.jsx(y,{})},c);if((t==null?void 0:t.type)=="text")return e.jsx(m.FormItem,{name:[s,n],label:t==null?void 0:t.label,children:e.jsx(b,{})},c);if((t==null?void 0:t.type)=="list")return e.jsx(O,{name:[s,n],items:t==null?void 0:t.fields},c)})})},o)})})})},O=({name:a,items:l})=>{const i=g();return e.jsx(m.FormList,{name:a,children:(j,{add:s,remove:r})=>e.jsxs(e.Fragment,{children:[j.map(({key:o,name:x,...n})=>e.jsxs("div",{className:"flex gap-4",children:[Object.entries(l||{}).map(([t,c],F)=>h.createElement(m.FormItem,{...n,key:F,name:[x,t],label:c,className:"w-0 flex-1"},e.jsx(b,{className:"w-full"}))),e.jsx(m.FormItem,{label:" ",className:"flex-none",children:e.jsx(N,{size:"20px",name:"delete",style:{cursor:"pointer"},onClick:()=>r(x)})})]},o)),e.jsx(m.FormItem,{children:e.jsx(E,{theme:"default",variant:"dashed",onClick:()=>s({}),children:i("cms.theme.addField")})})]})})};export{k as default};
