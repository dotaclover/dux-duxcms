import{X as x,g as e,an as h,bx as m,j as s,Q as j,a6 as f,J as v,R as b}from"./modulepreload-polyfill-DkiKXnSB.js";const N=()=>{const t=x(),[o,u]=e.useState(""),d=h(),[i,r]=e.useState(!1),[l,p]=e.useState(""),g=e.useCallback(n=>{r(!0),d.request("cloud/apps/install","post",{data:{url:n}}).then(a=>{var c;if(a.code!==200){m.error(a.message);return}p((c=a==null?void 0:a.data)==null?void 0:c.content)}).finally(()=>{r(!1)})},[]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"mb-2",children:t("cloud.apps.validator.url")}),s.jsx(j,{value:o,placeholder:"dux://",disabled:!!l,onChange:n=>{u(()=>n)}})]}),l?s.jsx("div",{className:"p-4",children:s.jsx("pre",{className:"overflow-auto rounded-lg p-4 bg-component",children:l})}):s.jsx(f.Footer,{children:s.jsx(v,{onClick:()=>{g(o)},children:t("cloud.apps.action.install")})}),s.jsx(b,{loading:i,fullscreen:!0,preventScrollThrough:!0,text:t("cloud.apps.tips.loading")})]})};export{N as default};
