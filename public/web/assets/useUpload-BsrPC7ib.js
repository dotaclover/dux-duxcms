import{$ as l,as as B}from"./vendor-refine-BK41FXO6.js";import{E as d}from"./modulepreload-polyfill-D6ThnDFs.js";import"./vendor-react-BlTfyhut.js";import"./vendor-map-DjDVTs0N.js";import"./vendor-echarts-JHGMnnew.js";import"./vendor-tdesign-BxQoi5Mo.js";import"./vendor-tinymce-lUkVC9Da.js";import"./vendor-lib-CKVa3D7Q.js";const E=a=>{const{name:p,config:n}=d(),{data:o}=l();return{action:`${B()}/${p}/${n.apiPath.upload}`,headers:{Accept:"application/json",Authorization:(o==null?void 0:o.token)||""},formatResponse:t=>{var u,e,r,m,c,s;const h=t.XMLHttpRequest;if(h.status!=200){let i={};try{i=JSON.parse(h.response)}catch{}t.error=(i==null?void 0:i.message)||t.statusText}else t.url=(e=(u=t==null?void 0:t.data)==null?void 0:u[0])==null?void 0:e.url,t.name=(m=(r=t==null?void 0:t.data)==null?void 0:r[0])==null?void 0:m.name,t.size=(s=(c=t==null?void 0:t.data)==null?void 0:c[0])==null?void 0:s.size;return t},...a}},F=a=>{if(Math.abs(a)<1024)return a+" B";const n=["KB","MB","GB","TB","PB","EB","ZB","YB"];let o=-1;do a/=1024,++o;while(Math.abs(a)>=1024&&o<n.length-1);return a.toFixed(1)+" "+n[o]};export{F as h,E as u};
