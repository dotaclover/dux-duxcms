import{g as l,I as ce,_ as le,i as T,x as E,ba as U,bb as Me,p as Te,h as $e,m as Ae,C as He,u as Fe,R as d,s as Z,bc as We,v as ee,J as S,bd as Ye,Y as Ge,ai as Je,j as i,a0 as Xe,aW as qe,a$ as Qe,a1 as Ue,be as Ze,O as et,P as tt}from"./modulepreload-polyfill-1cc1042d.js";function te(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter(function(v){return Object.getOwnPropertyDescriptor(t,v).enumerable})),n.push.apply(n,e)}return n}function ne(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?te(Object(n),!0).forEach(function(e){le(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var nt={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M11 1h1A11 11 0 111 12v-1h2v1a9 9 0 109-9h-1V1z"}}]},se=l.forwardRef(function(t,r){return l.createElement(ce,ne(ne({},t),{},{id:"load",ref:r,icon:nt}))});se.displayName="LoadIcon";const rt=se;function re(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter(function(v){return Object.getOwnPropertyDescriptor(t,v).enumerable})),n.push.apply(n,e)}return n}function ae(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?re(Object(n),!0).forEach(function(e){le(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var at={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h14.41L22 7.59V22H2V2zm2 2v16h2v-6h12v6h2V8.41L15.59 4H13v4H6V4H4zm4 0v2h3V4H8zm8 16v-4H8v4h8z"}}]},ie=l.forwardRef(function(t,r){return l.createElement(ce,ae(ae({},t),{},{id:"save",ref:r,icon:at}))});ie.displayName="SaveIcon";const ot=ie;/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */var ct={closeOnEscKeydown:void 0,closeOnOverlayClick:void 0,destroyOnClose:!1,closeBtn:!0,footer:!0,header:!0,mode:"overlay",placement:"right",preventScrollThrough:!0,showInAttachedElement:!1,showOverlay:!0,size:void 0,sizeDraggable:!1,visible:!1};/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */var lt=function(r,n){var e=l.useState(null),v=T(e,2),O=v[0],s=v[1],f=function(u){var c=u.x,C=u.y;n&&(r==="right"&&s("".concat(document.documentElement.clientWidth-c+8,"px")),r==="left"&&s("".concat(c+8,"px")),r==="top"&&s("".concat(C+8,"px")),r==="bottom"&&s("".concat(document.documentElement.clientHeight-C+8,"px")))},b=function a(){document.removeEventListener("mouseup",a,!0),document.removeEventListener("mousemove",f,!0)},p=l.useMemo(function(){var a,u=["right","left"].includes(r),c={left:"right",right:"left",top:"bottom",bottom:"top"};return a={zIndex:1,position:"absolute",background:"transparent"},E(a,c[r],0),E(a,"width",u?"16px":"100%"),E(a,"height",u?"100%":"16px"),E(a,"cursor",u?"col-resize":"row-resize"),a},[r]),m=function(){document.addEventListener("mouseup",b,!0),document.addEventListener("mousemove",f,!0)};return{dragSizeValue:O,enableDrag:m,draggableLineStyles:p}};/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */var st=1;function it(t){var r=t.preventScrollThrough,n=t.mode,e=t.visible,v=t.showInAttachedElement,O=t.placement,s=t.sizeValue,f=l.useRef(null),b=l.useRef(null),p=l.useCallback(function(){clearTimeout(b.current),b.current=setTimeout(function(){var a,u;(a=f.current.parentNode)===null||a===void 0||(u=a.removeChild)===null||u===void 0||u.call(a,f.current)},150)},[]),m=l.useMemo(function(){return{top:"margin: ".concat(s," 0 0 0"),left:"margin: 0 0 0 ".concat(s),right:"margin: 0 0 0 -".concat(s),bottom:"margin: -".concat(s," 0 0 0")}[O]},[O,s]);U(function(){if(!(typeof document>"u")){f.current||(f.current=document.createElement("style"));var a=document.documentElement.scrollHeight>document.documentElement.clientHeight,u=a?Me():0;f.current.dataset.id="td_drawer_".concat(+new Date,"_").concat(st+=1),f.current.innerHTML=`
      html body {
        overflow-y: hidden;
        transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;
        `.concat(n==="push"?m:"width: calc(100% - ".concat(u,"px);"),`
      }
    `)}},[n,m]),U(function(){typeof document>"u"||!r||v||(e?document.head.appendChild(f.current):p())},[r,e,v,p]),l.useEffect(function(){return p},[p])}/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */function oe(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter(function(v){return Object.getOwnPropertyDescriptor(t,v).enumerable})),n.push.apply(n,e)}return n}function M(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?oe(Object(n),!0).forEach(function(e){E(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var L={CLICK_OVERLAY:"overlay",CLICK_CLOSE_BTN:"close-btn",CLICK_CANCEL_BTN:"cancel",KEYDOWN_ESC:"esc"},ue=l.forwardRef(function(t,r){var n,e=Te(t,ct),v=e.className,O=e.style,s=e.visible,f=e.attach,b=e.showOverlay,p=e.size,m=e.placement,a=e.onCancel,u=e.onConfirm,c=e.onClose,C=e.onCloseBtnClick,w=e.onOverlayClick,D=e.onEscKeydown,P=e.showInAttachedElement,x=e.closeOnOverlayClick,g=e.closeOnEscKeydown,y=e.children,$=e.header,de=e.body,z=e.footer,B=e.closeBtn,_=e.cancelBtn,j=e.confirmBtn,fe=e.zIndex,me=e.destroyOnClose,A=e.sizeDraggable,ve=$e("drawer"),H=T(ve,2),I=H[0],F=H[1],pe=Ae({CloseIcon:He}),he=pe.CloseIcon,R=p??I.size,ge=F(I.confirm),ye=F(I.cancel),be=Fe(),Oe=be.classPrefix,W=l.useRef(),V=l.useRef(),Y=l.useRef(),h="".concat(Oe,"-drawer"),Ce=d.isValidElement(B)?B:d.createElement(he,null),K=lt(m,A),G=K.dragSizeValue,Ee=K.enableDrag,we=K.draggableLineStyles,xe=l.useState(s),J=T(xe,2),X=J[0],q=J[1],N=l.useMemo(function(){var o={small:"300px",medium:"500px",large:"760px"};return G||o[R]||R},[G,R]);it(M(M({},e),{},{sizeValue:N})),l.useImperativeHandle(r,function(){return V.current}),l.useEffect(function(){var o,k;s&&((o=V.current)===null||o===void 0||(k=o.focus)===null||k===void 0||k.call(o))},[s]);function _e(o){w==null||w({e:o}),(x??I.closeOnOverlayClick)&&(c==null||c({e:o,trigger:L.CLICK_OVERLAY}))}function je(o){C==null||C({e:o}),c==null||c({e:o,trigger:L.CLICK_CLOSE_BTN})}function Se(o){o.key==="Escape"&&(D==null||D({e:o}),(g??I.closeOnEscKeydown)&&(c==null||c({e:o,trigger:L.KEYDOWN_ESC})))}function De(o){a==null||a({e:o}),c==null||c({e:o,trigger:L.CLICK_CANCEL_BTN})}function Ie(o){u==null||u({e:o})}var ke=l.useMemo(function(){return{transform:s&&X?"translateX(0)":void 0,width:["left","right"].includes(m)?N:"",height:["top","bottom"].includes(m)?N:""}},[s,m,N,X]);function Pe(){if(z!==!0)return z;var o=d.createElement(S,{theme:"default",onClick:De,className:"".concat(h,"__cancel")},_&&typeof _=="string"?_:ye),k=d.createElement(S,{theme:"primary",onClick:Ie,className:"".concat(h,"__confirm")},j&&typeof j=="string"?j:ge),Ve=_&&d.isValidElement(_)?_:o,Q=j&&d.isValidElement(j)?j:k,Ke={display:"flex",justifyContent:m==="right"?"flex-start":"flex-end"};return d.createElement("div",{style:Ke},m==="right"&&Q,Ve,m!=="right"&&Q)}var Ne=b&&d.createElement(Z,{in:s,timeout:200,classNames:"".concat(h,"-fade"),nodeRef:W},d.createElement("div",{ref:W,className:"".concat(h,"__mask"),onClick:_e})),Le=B&&d.createElement("div",{onClick:je,className:"".concat(h,"__close-btn")},Ce),ze=$&&d.createElement("div",{className:"".concat(h,"__header")},$),Be=d.createElement("div",{className:"".concat(h,"__body")},de||y),Re=z&&d.createElement("div",{className:"".concat(h,"__footer")},Pe());return d.createElement(Z,{in:s,nodeRef:Y,unmountOnExit:me,timeout:{appear:10,enter:10,exit:300},onEntered:function(){return q(!0)},onExited:function(){return q(!1)}},d.createElement(We,{attach:f,ref:Y},d.createElement("div",{ref:V,className:ee(h,v,"".concat(h,"--").concat(m),(n={},E(n,"".concat(h,"--open"),s),E(n,"".concat(h,"--attach"),P),E(n,"".concat(h,"--without-mask"),!b),n)),style:M({zIndex:fe},O),tabIndex:-1,onKeyDown:Se},Ne,d.createElement("div",{className:ee("".concat(h,"__content-wrapper"),"".concat(h,"__content-wrapper--").concat(m)),style:ke},Le,ze,Be,Re,A&&d.createElement("div",{style:we,onMouseDown:Ee})))))});ue.displayName="Drawer";/**
 * tdesign v1.3.0
 * (c) 2023 tdesign
 * @license MIT
 */var ut=ue;const ft=({title:t,children:r,onSubmit:n,back:e,rest:v,headerRender:O,actionRender:s,settingRender:f,formProps:b,onRef:p,...m})=>{var x;const a=l.useRef(null),u=Ye(),c=Ge(),C=async g=>{await(n==null?void 0:n(g))};l.useEffect(()=>{p==null||p(a)},[p]);const{resource:w}=Je(),[D,P]=l.useState(!1);return i.jsx(Xe,{title:t,header:O,icon:(x=w==null?void 0:w.meta)==null?void 0:x.icon,actions:i.jsxs(i.Fragment,{children:[e&&i.jsx(S,{onClick:()=>{u()},variant:"outline",icon:i.jsx(qe,{}),children:c("buttons.back")}),v&&i.jsx(S,{onClick:()=>{var g,y;(y=(g=a.current)==null?void 0:g.form)==null||y.reset()},variant:"outline",icon:i.jsx(rt,{}),children:c("buttons.rest")}),s,f&&i.jsx(S,{variant:"outline",theme:"primary",icon:i.jsx(Qe,{}),onClick:()=>P(!0),children:c("buttons.setting")}),i.jsx(S,{onClick:()=>{var g,y;(y=(g=a.current)==null?void 0:g.form)==null||y.submit()},icon:i.jsx(ot,{}),children:c("buttons.save")})]}),children:i.jsx(Ue,{children:i.jsxs(Ze,{ref:a,onSubmit:C,formProps:{labelAlign:"left",className:"divide-y divide-gray-2 dark:divide-gray-10 py-2",...b},...m,children:[r,f&&i.jsx(ut,{confirmBtn:c("buttons.save"),onConfirm:()=>{var g,y;return(y=(g=a.current)==null?void 0:g.form)==null?void 0:y.submit()},header:c("buttons.setting"),visible:D,onClose:()=>P(!1),children:f})]})})})},mt=({label:t,help:r,requiredMark:n,...e})=>i.jsxs("div",{className:"grid grid-cols-1 mb-4 gap-4 pt-4 md:grid-cols-5",children:[t&&i.jsxs("div",{className:"col-span-2 xl:col-span-1",children:[i.jsxs("div",{className:"relative",children:[n&&i.jsx("span",{className:"absolute text-error -left-3",children:"*"}),t]}),i.jsx("div",{className:"mt-1 text-sm text-placeholder",children:r})]}),i.jsx("div",{className:et([t?"flex items-center col-span-3 xl:col-span-4":"col-span-5"]),children:i.jsx(tt.FormItem,{...e,className:"w-full"})})]});export{ut as D,ft as F,mt as a};
