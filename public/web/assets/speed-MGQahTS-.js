import{j as e}from"./vendor-map-DjDVTs0N.js";import{u as g,a1 as k,v as w}from"./modulepreload-polyfill-D6ThnDFs.js";import{r as a}from"./vendor-react-BlTfyhut.js";import{G as S}from"./vendor-refine-BK41FXO6.js";import"./vendor-echarts-JHGMnnew.js";import{I as x,c as C,$ as h,w as N,B as j}from"./vendor-tdesign-BxQoi5Mo.js";import"./vendor-tinymce-lUkVC9Da.js";import"./vendor-lib-CKVa3D7Q.js";import"./vendor-markdown-CL7ixDl-.js";const z=n=>{const s=S(),{request:v}=g(),{onClose:i}=k(),[o,p]=a.useState([]),[d,r]=a.useState(!0),[c,m]=a.useState([]),[l,f]=a.useState(),[u,y]=a.useState("");return a.useEffect(()=>{r(!0),v("system/total/speed","get").then(t=>{p(t.data||[]),m(t.data||[]),f(t.meta||[])}).finally(()=>{r(!1)})},[]),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:s("system.total.speed.domain")}),e.jsx("div",{children:e.jsx(x,{disabled:!0,value:window.location.hostname})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:s("system.total.speed.line")}),d?e.jsx(C,{loading:!0,text:s("system.total.speed.loading"),size:"small"}):e.jsx(h.Group,{value:c,onChange:t=>m(t),children:o==null?void 0:o.map((t,b)=>e.jsx(h,{value:t,children:t},b))})]}),l&&!(l!=null&&l.token)&&e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:s("system.total.speed.token")}),e.jsx("div",{children:e.jsx(x,{value:u,onChange:t=>y(t)})}),e.jsxs("div",{className:"mt-2 text-placeholder",children:[s("system.total.speed.tokenDesc")," ",e.jsx(N,{theme:"primary",href:"https://www.cesu.net/user/index",target:"_blank",children:s("system.total.speed.tokenUrl")})]})]})]}),e.jsxs(w.Footer,{children:[e.jsx(j,{type:"button",variant:"outline",onClick:i,children:s("buttons.cancel")}),e.jsx(j,{type:"button",theme:"primary",loading:d,onClick:()=>{var t;i==null||i(),(t=n==null?void 0:n.onSpeedTest)==null||t.call(n,c,u)},children:s("buttons.submit")})]})]})};export{z as default};
