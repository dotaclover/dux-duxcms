function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/import-B-DvggX-.js","assets/modulepreload-polyfill-DkiKXnSB.js","assets/useUpload-DH6oH64-.js","assets/export-BIbrU29w.js","assets/useSelect-Bn3A9Gfh.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as c}from"./index-CInEZ-VQ.js";import{an as p,g as u,a4 as b,ar as w,X as x,s as y,j as e,a2 as _,a7 as h}from"./modulepreload-polyfill-DkiKXnSB.js";import{B as d}from"./button-D0ULnvDG.js";import{D as j}from"./link-JNlAaly3.js";import"./action-BYcpOc6q.js";import"./index-BEGpCFfB.js";const f=()=>{const{request:t}=p();return{download:u.useCallback((s,a,o,r)=>{t(s,"post",{responseType:"blob",...o},!0).then(n=>{const l=r||n.headers["content-type"],m=a||b().format("YYYYMMDD_HHmmss")+"."+w.getExtension(l);L(n.data,l,m)})},[t])}},L=(t,i,s)=>{const a=new Blob([t],{type:i}),o=document.createElement("a"),n=(window.URL||window.webkitURL).createObjectURL(a);o.href=n,o.download=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n)},U=()=>{const t=x(),{download:i}=f(),s=y.useMemo(()=>[{colKey:"id",sorter:!0,sortType:"all",title:"ID",width:150},{colKey:"name",title:t("tools.backup.fields.name"),ellipsis:!0},{colKey:"created_at",title:t("tools.backup.fields.createdAt"),sorter:!0,sortType:"all",width:200},{colKey:"link",title:t("table.actions"),fixed:"right",align:"center",width:150,cell:({row:a})=>e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(_,{theme:"primary",onClick:()=>{i(`tools/backup/download/${a.id}`)},children:"下载"}),e.jsx(j,{rowId:a.id})]})}],[t]);return e.jsx(h,{columns:s,table:{rowKey:"id"},title:t("tools.area.name"),actionRender:()=>e.jsxs(e.Fragment,{children:[e.jsx(d,{title:t("buttons.import"),component:()=>c(()=>import("./import-B-DvggX-.js"),__vite__mapDeps([0,1,2])),action:"import",icon:e.jsx("div",{className:"t-icon i-tabler:database-import"})}),e.jsx(d,{title:t("buttons.export"),component:()=>c(()=>import("./export-BIbrU29w.js"),__vite__mapDeps([3,1,4])),action:"export",theme:"primary",variant:"outline",icon:e.jsx("div",{className:"t-icon i-tabler:database-export"})})]})})};export{U as default};
