import{g as l,I as le,_ as se,i as A,x as w,bk as H,bl as Me,p as He,h as $e,m as Ae,C as Fe,u as We,R as s,s as Q,bm as Ye,v as ee,H as k,bn as Ge,U as Ue,ap as Xe,bc as Ze,O as ie,j as c,a6 as qe,aZ as Je,b2 as Qe,a7 as et,bo as tt,bp as te,M as nt}from"./modulepreload-polyfill-ac2ad948.js";function ne(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(m){return Object.getOwnPropertyDescriptor(t,m).enumerable})),e.push.apply(e,r)}return e}function re(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?ne(Object(e),!0).forEach(function(r){se(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ne(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var rt={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M11 1h1A11 11 0 111 12v-1h2v1a9 9 0 109-9h-1V1z"}}]},ue=l.forwardRef(function(t,n){return l.createElement(le,re(re({},t),{},{id:"load",ref:n,icon:rt}))});ue.displayName="LoadIcon";const at=ue;function ae(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(m){return Object.getOwnPropertyDescriptor(t,m).enumerable})),e.push.apply(e,r)}return e}function oe(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?ae(Object(e),!0).forEach(function(r){se(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ae(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var ot={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2 2h14.41L22 7.59V22H2V2zm2 2v16h2v-6h12v6h2V8.41L15.59 4H13v4H6V4H4zm4 0v2h3V4H8zm8 16v-4H8v4h8z"}}]},de=l.forwardRef(function(t,n){return l.createElement(le,oe(oe({},t),{},{id:"save",ref:n,icon:ot}))});de.displayName="SaveIcon";const ct=de;/**
 * tdesign v1.4.1
 * (c) 2023 tdesign
 * @license MIT
 */var lt={closeOnEscKeydown:void 0,closeOnOverlayClick:void 0,destroyOnClose:!1,closeBtn:!0,footer:!0,header:!0,mode:"overlay",placement:"right",preventScrollThrough:!0,showInAttachedElement:!1,showOverlay:!0,size:void 0,sizeDraggable:!1,visible:!1};/**
 * tdesign v1.4.1
 * (c) 2023 tdesign
 * @license MIT
 */var st=function(n,e){var r=l.useState(null),m=A(r,2),f=m[0],p=m[1],h=function(a){var g=a.x,O=a.y;e&&(n==="right"&&p("".concat(document.documentElement.clientWidth-g+8,"px")),n==="left"&&p("".concat(g+8,"px")),n==="top"&&p("".concat(O+8,"px")),n==="bottom"&&p("".concat(document.documentElement.clientHeight-O+8,"px")))},i=function d(){document.removeEventListener("mouseup",d,!0),document.removeEventListener("mousemove",h,!0)},u=l.useMemo(function(){var d=["right","left"].includes(n),a={left:"right",right:"left",top:"bottom",bottom:"top"};return w(w(w(w({zIndex:1,position:"absolute",background:"transparent"},a[n],0),"width",d?"16px":"100%"),"height",d?"100%":"16px"),"cursor",d?"col-resize":"row-resize")},[n]),y=function(){document.addEventListener("mouseup",i,!0),document.addEventListener("mousemove",h,!0)};return{dragSizeValue:f,enableDrag:y,draggableLineStyles:u}};/**
 * tdesign v1.4.1
 * (c) 2023 tdesign
 * @license MIT
 */var it=1;function ut(t){var n=t.preventScrollThrough,e=t.mode,r=t.visible,m=t.showInAttachedElement,f=t.placement,p=t.sizeValue,h=t.drawerWrapper,i=l.useRef(null),u=l.useRef(null),y=l.useCallback(function(){clearTimeout(u.current),u.current=setTimeout(function(){var a,g;(a=i.current.parentNode)===null||a===void 0||(g=a.removeChild)===null||g===void 0||g.call(a,i.current)},150)},[]),d=l.useMemo(function(){return{top:"margin: ".concat(p," 0 0 0"),left:"margin: 0 0 0 ".concat(p),right:"margin: 0 0 0 -".concat(p),bottom:"margin: -".concat(p," 0 0 0")}[f]},[f,p]);H(function(){if(!(typeof document>"u")){i.current||(i.current=document.createElement("style"));var a=document.documentElement.scrollHeight>document.documentElement.clientHeight,g=a?Me():0;i.current.dataset.id="td_drawer_".concat(+new Date,"_").concat(it+=1),i.current.innerHTML=`
      html body {
        overflow-y: hidden;
        transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;
        `.concat(e==="push"?"":"width: calc(100% - ".concat(g,"px);"),`
      }
    `)}},[e]),H(function(){h&&e==="push"&&(r?h.parentNode.style.cssText+=` 
            transition: margin 300ms cubic-bezier(0.7, 0.3, 0.1, 1) 0s;
            `.concat(d,`;}
          `):h.parentNode.style.cssText=h.parentNode.style.cssText.replace(/margin:.+;/,""))},[e,d,h,r]),H(function(){typeof document>"u"||!n||m||(r?document.head.appendChild(i.current):y())},[n,r,m,y]),l.useEffect(function(){return y},[y])}/**
 * tdesign v1.4.1
 * (c) 2023 tdesign
 * @license MIT
 */function ce(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(m){return Object.getOwnPropertyDescriptor(t,m).enumerable})),e.push.apply(e,r)}return e}function $(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?ce(Object(e),!0).forEach(function(r){w(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):ce(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}var B={CLICK_OVERLAY:"overlay",CLICK_CLOSE_BTN:"close-btn",CLICK_CANCEL_BTN:"cancel",KEYDOWN_ESC:"esc"},me=l.forwardRef(function(t,n){var e=He(t,lt),r=e.className,m=e.style,f=e.visible,p=e.attach,h=e.showOverlay,i=e.size,u=e.placement,y=e.onCancel,d=e.onConfirm,a=e.onClose,g=e.onCloseBtnClick,O=e.onOverlayClick,C=e.onEscKeydown,b=e.showInAttachedElement,j=e.closeOnOverlayClick,D=e.closeOnEscKeydown,N=e.children,E=e.header,L=e.body,x=e.footer,R=e.closeBtn,_=e.cancelBtn,S=e.confirmBtn,fe=e.zIndex,ve=e.destroyOnClose,F=e.sizeDraggable,pe=$e("drawer"),W=A(pe,2),I=W[0],Y=W[1],ge=Ae({CloseIcon:Fe}),he=ge.CloseIcon,V=i??I.size,ye=Y(I.confirm),be=Y(I.cancel),Ce=We(),Oe=Ce.classPrefix,G=l.useRef(),K=l.useRef(),T=l.useRef(),v="".concat(Oe,"-drawer"),xe=s.isValidElement(R)?R:s.createElement(he,null),M=st(u,F),U=M.dragSizeValue,we=M.enableDrag,Ee=M.draggableLineStyles,je=l.useState(f),X=A(je,2),Z=X[0],q=X[1],P=l.useMemo(function(){var o={small:"300px",medium:"500px",large:"760px"};return U||o[V]||V},[U,V]);ut($($({},e),{},{sizeValue:P,drawerWrapper:T.current})),l.useImperativeHandle(n,function(){return K.current}),l.useEffect(function(){var o,z;f&&((o=K.current)===null||o===void 0||(z=o.focus)===null||z===void 0||z.call(o))},[f]);function _e(o){O==null||O({e:o}),(j??I.closeOnOverlayClick)&&(a==null||a({e:o,trigger:B.CLICK_OVERLAY}))}function Se(o){g==null||g({e:o}),a==null||a({e:o,trigger:B.CLICK_CLOSE_BTN})}function ke(o){o.key==="Escape"&&(C==null||C({e:o}),(D??I.closeOnEscKeydown)&&(a==null||a({e:o,trigger:B.KEYDOWN_ESC})))}function De(o){y==null||y({e:o}),a==null||a({e:o,trigger:B.CLICK_CANCEL_BTN})}function Ne(o){d==null||d({e:o})}var Ie=l.useMemo(function(){return{transform:f&&Z?"translateX(0)":void 0,width:["left","right"].includes(u)?P:"",height:["top","bottom"].includes(u)?P:""}},[f,u,P,Z]);function ze(){if(x!==!0)return x;var o=s.createElement(k,{theme:"default",onClick:De,className:"".concat(v,"__cancel")},_&&typeof _=="string"?_:be),z=s.createElement(k,{theme:"primary",onClick:Ne,className:"".concat(v,"__confirm")},S&&typeof S=="string"?S:ye),Ke=_&&s.isValidElement(_)?_:o,J=S&&s.isValidElement(S)?S:z,Te={display:"flex",justifyContent:u==="right"?"flex-start":"flex-end"};return s.createElement("div",{style:Te},u==="right"&&J,Ke,u!=="right"&&J)}var Le=h&&s.createElement(Q,{in:f,timeout:200,classNames:"".concat(v,"-fade"),nodeRef:G},s.createElement("div",{ref:G,className:"".concat(v,"__mask"),onClick:_e})),Pe=R&&s.createElement("div",{onClick:Se,className:"".concat(v,"__close-btn")},xe),Be=E&&s.createElement("div",{className:"".concat(v,"__header")},E),Re=s.createElement("div",{className:"".concat(v,"__body")},L||N),Ve=x&&s.createElement("div",{className:"".concat(v,"__footer")},ze());return s.createElement(Q,{in:f,nodeRef:T,unmountOnExit:ve,timeout:{appear:10,enter:10,exit:300},onEntered:function(){return q(!0)},onExited:function(){return q(!1)}},s.createElement(Ye,{attach:p,ref:T},s.createElement("div",{ref:K,className:ee(v,r,"".concat(v,"--").concat(u),w(w(w({},"".concat(v,"--open"),f),"".concat(v,"--attach"),b),"".concat(v,"--without-mask"),!h)),style:$({zIndex:fe},m),tabIndex:-1,onKeyDown:ke},Le,s.createElement("div",{className:ee("".concat(v,"__content-wrapper"),"".concat(v,"__content-wrapper--").concat(u)),style:Ie},Pe,Be,Re,Ve,F&&s.createElement("div",{style:Ee,onMouseDown:we})))))});me.displayName="Drawer";/**
 * tdesign v1.4.1
 * (c) 2023 tdesign
 * @license MIT
 */var dt=me;const ft=({title:t,children:n,onSubmit:e,onResult:r,back:m,rest:f,headerRender:p,actionRender:h,settingRender:i,formProps:u,form:y,...d})=>{var L;const[a,g]=l.useState(),O=Ge(),C=Ue(),{resource:b}=Xe(),{name:j}=Ze(),[D,N]=l.useState(!1),[E]=ie.useForm(y);return c.jsx(qe,{title:t,header:p,icon:(L=b==null?void 0:b.meta)==null?void 0:L.icon,actions:c.jsxs(c.Fragment,{children:[m&&c.jsx(k,{onClick:()=>{O()},variant:"outline",icon:c.jsx(Je,{}),children:C("buttons.back")}),f&&c.jsx(k,{onClick:()=>{E.reset()},variant:"outline",icon:c.jsx(at,{}),loading:!!(a!=null&&a.formLoading),children:C("buttons.rest")}),h,i&&c.jsx(k,{variant:"outline",theme:"primary",icon:c.jsx(Qe,{}),onClick:()=>N(!0),children:C("buttons.setting")}),c.jsx(k,{onClick:()=>{E.submit()},loading:!!(a!=null&&a.formLoading),icon:c.jsx(ct,{}),children:C("buttons.save")})]}),children:c.jsx(et,{children:c.jsxs(tt,{form:E,onResult:x=>{r==null||r(x),g(x)},onSubmit:async x=>{await(e==null?void 0:e(x))},formProps:{labelAlign:"left",className:"divide-y divide-gray-2 dark:divide-gray-10 py-2",...u},...d,children:[n,c.jsx(te.Render,{mark:[j,b==null?void 0:b.name,"form"]}),i&&c.jsxs(dt,{sizeDraggable:!0,size:"450px",confirmBtn:C("buttons.save"),onConfirm:()=>{N(!1),E.submit()},header:C("buttons.setting"),visible:D,onClose:()=>N(!1),children:[i,c.jsx(te.Render,{mark:[j,b==null?void 0:b.name,"form","setting"]})]})]})})})},vt=({label:t,help:n,requiredMark:e,...r})=>c.jsxs("div",{className:"grid grid-cols-1 mb-4 gap-4 pt-4 md:grid-cols-5",children:[t&&c.jsxs("div",{className:"col-span-2 xl:col-span-1",children:[c.jsxs("div",{className:"relative",children:[e&&c.jsx("span",{className:"absolute text-error -left-3",children:"*"}),t]}),c.jsx("div",{className:"mt-1 text-sm text-placeholder",children:n})]}),c.jsx("div",{className:nt([t?"flex items-center col-span-3 xl:col-span-4":"col-span-5"]),children:c.jsx(ie.FormItem,{...r,className:"w-full"})})]});export{dt as D,ft as F,vt as a};
