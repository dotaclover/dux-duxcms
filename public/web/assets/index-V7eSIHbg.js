import{g as R,u as Y,s as f,w as D,F as Pe,p as we,h as Te,i as Ae,az as Ce,y as P,R as Ee,B as te,U as De,j as t,O as Le,aA as ze,S as A,aB as pe,X as d,P as c,a2 as k,Q as h,aC as w,ae as N,aD as Me,a8 as L,J as _,ao as C,a5 as T,aq as G,ap as ne,an as Oe,aE as ae,aF as z,ad as Ke,aG as p,ac as M,aH as He,a6 as re,a0 as ie,aI as le,aJ as Je}from"./modulepreload-polyfill-DkiKXnSB.js";import{u as Be}from"./useSelect-Bn3A9Gfh.js";import{S as ce}from"./index-BL_4kOPz.js";import{a as oe,D as O}from"./index-BO3kD13t.js";import{C as q,U as de}from"./uploadImage-Dzshn1MY.js";import{C as K}from"./cascader-DGRZgSrA.js";import{C as H}from"./index-94D9uViR.js";import{U as me}from"./uploadFile-pTi1aoYj.js";import{E as Ve}from"./tinymce-BUv0ADRy.js";/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var ue=R.forwardRef(function(e,n){var l=e.children,s=e.className,a=e.style,r=e.action,i=e.content,m=Y(),u=m.classPrefix,g=r&&f.createElement("ul",{className:"".concat(u,"-list-item__action")},r);return f.createElement("li",{ref:n,className:D("".concat(u,"-list-item"),s),style:a},f.createElement("div",{className:"".concat(u,"-list-item-main")},l||i,g))});ue.displayName="ListItem";/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var xe=R.forwardRef(function(e,n){var l=e.title,s=e.image,a=e.description,r=e.className,i=e.style,m=Y(),u=m.classPrefix,g=function(){return s&&typeof s=="string"?f.createElement("div",{className:"".concat(u,"-list-item__meta-avatar")},f.createElement("img",{src:s,alt:""})):f.createElement("div",{className:"".concat(u,"-list-item__meta-avatar")},s)};return f.createElement("div",{ref:n,className:D("".concat(u,"-list-item__meta"),r),style:i},s&&g(),f.createElement("div",{className:"".concat(u,"-list-item__meta-content")},f.createElement("h3",{className:"".concat(u,"-list-item__meta-title")},l),f.createElement("div",{className:"".concat(u,"-list-item__meta-description")},typeof a=="string"?f.createElement("p",null,a):a)))});xe.displayName="ListItemMeta";/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var Ue={layout:"horizontal",size:"medium",split:!1,stripe:!1};/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var ge=Pe(function(e,n){var l=we(e,Ue),s=l.header,a=l.footer,r=l.asyncLoading,i=l.size,m=l.split,u=l.stripe,g=l.layout,x=l.children,b=l.className,$=l.onLoadMore,I=$===void 0?te:$,S=l.onScroll,F=S===void 0?te:S,y=l.style,Re=Y(),v=Re.classPrefix,ve=Te("list"),W=Ae(ve,2),Q=W[0],Z=W[1],Fe=function(E){r==="load-more"&&I({e:E})},$e=function(E){var U=E.currentTarget,ee=U.scrollTop,_e=U.offsetHeight,Ie=U.scrollHeight,Se=Ie-ee-_e;F({e:E,scrollTop:ee,scrollBottom:Se})},ke=Ce(r)?f.createElement("div",{className:D("".concat(v,"-list__load"),P(P({},"".concat(v,"-list__load--loading"),r==="loading"),"".concat(v,"-list__load--load-more"),r==="load-more")),onClick:Fe},r==="loading"&&f.createElement("div",null,f.createElement(Ee,{loading:!0}),f.createElement("span",null,Z(Q.loadingText))),r==="load-more"&&f.createElement("span",null,Z(Q.loadingMoreText))):r;return f.createElement("div",{ref:n,style:y,onScroll:$e,className:D("".concat(v,"-list"),b,P(P(P(P(P({},"".concat(v,"-list--split"),m),"".concat(v,"-list--stripe"),u),"".concat(v,"-list--vertical-action"),g==="vertical"),"".concat(v,"-size-s"),i==="small"),"".concat(v,"-size-l"),i==="large"))},s&&f.createElement("div",{className:"".concat(v,"-list__header")},s),f.createElement("ul",{className:"".concat(v,"-list__inner")},x),r&&ke,a&&f.createElement("div",{className:"".concat(v,"-list__footer")},a))},{ListItem:ue,ListItemMeta:xe});ge.displayName="List";/**
 * tdesign v1.5.2
 * (c) 2024 tdesign
 * @license MIT
 */var se=ge;const X=({onChange:e,value:n,defaultValue:l,type:s="json",className:a,...r})=>{const i=De(m=>m.dark);return t.jsx("div",{className:Le(["border border-component w-full rounded-sm",a]),children:t.jsx(ze,{defaultValue:l,value:n||"",width:"100%",fontSize:"14px",theme:i?"tomorrow_night":"tomorrow",mode:s,onChange:m=>e==null?void 0:e(m),className:"rounded-sm",setOptions:{useWorker:!1},...r})})},J=({url:e,query:n,pagination:l,optionValue:s="id",optionLabel:a="title",optionRender:r,format:i,...m})=>{var S;const[u,g]=R.useState(1),{queryResult:x,onSearch:b}=Be({resource:e,optionLabel:a,optionValue:s,defaultValue:m.value||m.defaultValue,meta:{params:n},pagination:{mode:l?"server":"off",current:u,pageSize:20}}),$=R.useMemo(()=>{var F,y;return Math.ceil(((y=(F=x==null?void 0:x.data)==null?void 0:F.meta)==null?void 0:y.total)/20)},[x]),I=R.useMemo(()=>{var F;return Array.from(new Set(((F=x==null?void 0:x.data)==null?void 0:F.data)||[])).map(y=>({content:r==null?void 0:r(y),label:y[a],value:y[s],row:y}))},[a,r,s,(S=x==null?void 0:x.data)==null?void 0:S.data]);return t.jsx(A,{options:I,onSearch:b,loading:x.isLoading,defaultValue:(i==null?void 0:i(m.defaultValue))||m.defaultValue,value:(i==null?void 0:i(m.value))||m.value,panelBottomContent:l?t.jsx("div",{className:"flex justify-center pb-2",children:t.jsx(pe,{size:"small",onChange:({trigger:F})=>{F=="next"&&u<$&&g(y=>y+1),F=="prev"&&u>1&&g(y=>y-1),F=="current"&&g(y=>y)}})}):void 0,...m})},j=()=>{const e=d();return t.jsx(t.Fragment,{children:t.jsx(c.FormItem,{label:e("magic.rule.name",{ns:"extend"}),name:"rules",help:t.jsxs("div",{children:[e("magic.rule.help",{ns:"extend"}),t.jsxs(k,{className:"mx-2",href:"https://tdesign.tencent.com/react/components/form?tab=api#formrule",target:"_blank",children:["[",e("magic.rule.docs",{ns:"extend"}),"]"]})]}),children:t.jsx(X,{})})})},o=e=>(Array.isArray(e)?e[0]:e)+"",Ye=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(h,{})}),t.jsx(j,{})]})},Ge=e=>{var n,l,s;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(h,{maxlength:(s=e.setting)==null?void 0:s.maxlength})})},qe=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"input",showConfirmAndReset:!0},cell:({row:n})=>n[o(e.name)]||"-"}),Xe=({data:e})=>e||"-",We=()=>({name:"text",label:d()("magic.text",{ns:"extend"}),ParamsRender:Ye,FormRender:Ge,TableRender:qe,ShowRender:Xe}),Qe=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.size.min",{ns:"extend"}),name:"min",initialData:0,children:t.jsx(w,{theme:"column"})}),t.jsx(c.FormItem,{label:e("magic.size.max",{ns:"extend"}),name:"max",initialData:0,children:t.jsx(w,{theme:"column"})}),t.jsx(c.FormItem,{label:e("magic.size.decimal",{ns:"extend"}),name:"decimal",initialData:0,children:t.jsx(w,{theme:"column"})}),t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(w,{})}),t.jsx(j,{})]})},Ze=e=>{var n,l,s,a,r;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(w,{max:(s=e.setting)==null?void 0:s.max,min:(a=e.setting)==null?void 0:a.mix,decimalPlaces:(r=e.setting)==null?void 0:r.decimal})})},et=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>n[o(e.name)]||"-"}),tt=e=>{const n=d();return t.jsx(N,{name:e.name,children:t.jsx(Me,{className:"w-full",placeholder:`${n("magic.placeholder.input",{ns:"extend"})}${e.label}`})})},nt=({data:e})=>e===void 0?"-":e,lt=()=>({name:"number",label:d()("magic.number",{ns:"extend"}),ParamsRender:Qe,TableRender:et,FormRender:Ze,FilterRender:tt,ShowRender:nt}),st=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.options.name",{ns:"extend"}),children:t.jsx("div",{className:"w-full flex flex-col gap-4",children:t.jsx(c.FormList,{name:"options",children:(n,{add:l,remove:s})=>t.jsxs(t.Fragment,{children:[n.map(({key:a,name:r,...i})=>t.jsxs("div",{className:"flex",children:[t.jsx(c.FormItem,{...i,name:[r,"label"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.label",{ns:"extend"})})}),t.jsx(c.FormItem,{...i,name:[r,"value"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.value",{ns:"extend"})})}),t.jsx(c.FormItem,{className:"flex-none",children:t.jsx(L,{name:"minus-rectangle",size:"20px",style:{cursor:"pointer"},onClick:()=>s(r)})})]},a)),t.jsx(c.FormItem,{children:t.jsx(_,{theme:"default",variant:"dashed",onClick:()=>l({province:"bj",area:"tzmax"}),children:e("magic.options.add",{ns:"extend"})})})]})})})}),t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(h,{})}),t.jsx(j,{})]})},at=e=>{var l,s,a;const n=(l=e.setting)==null?void 0:l.options;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(s=e.setting)==null?void 0:s.default,rules:((a=e.setting)==null?void 0:a.rules)||[],children:t.jsx(C.Group,{children:n==null?void 0:n.map((r,i)=>t.jsx(C,{value:r.value,children:r.label},i))})})},rt=e=>{var n,l;return{colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:((l=(n=e.setting)==null?void 0:n.options)==null?void 0:l.map(s=>({label:s.label,value:s.value})))||[],showConfirmAndReset:!0},cell:({row:s})=>{var i;const a=((i=e.setting)==null?void 0:i.keys_label)||"label",r=s[o(e.name)];return r?t.jsx(T,{theme:"primary",variant:"outline",children:r[a]}):"-"}}},it=({field:e,data:n})=>{var s;const l=((s=e.setting)==null?void 0:s.keys_label)||"label";return n[l]||"-"},ct=()=>({name:"radio",label:d()("magic.radio",{ns:"extend"}),ParamsRender:st,TableRender:rt,FormRender:at,ShowRender:it}),ot=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.options.name",{ns:"extend"}),children:t.jsx("div",{className:"w-full flex flex-col gap-4",children:t.jsx(c.FormList,{name:"options",children:(n,{add:l,remove:s})=>t.jsxs(t.Fragment,{children:[n.map(({key:a,name:r,...i})=>t.jsxs("div",{className:"flex",children:[t.jsx(c.FormItem,{...i,name:[r,"label"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.label",{ns:"extend"})})}),t.jsx(c.FormItem,{...i,name:[r,"value"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.value",{ns:"extend"})})}),t.jsx(c.FormItem,{className:"flex-none",children:t.jsx(L,{name:"minus-rectangle",size:"20px",style:{cursor:"pointer"},onClick:()=>s(r)})})]},a)),t.jsx(c.FormItem,{children:t.jsx(_,{theme:"default",variant:"dashed",onClick:()=>l({province:"bj",area:"tzmax"}),children:e("magic.options.add",{ns:"extend"})})})]})})})}),t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(G,{})}),t.jsx(j,{})]})},dt=e=>{var l,s,a;const n=(l=e.setting)==null?void 0:l.options;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(s=e.setting)==null?void 0:s.default,rules:((a=e.setting)==null?void 0:a.rules)||[],children:t.jsx(ne.Group,{children:n==null?void 0:n.map((r,i)=>t.jsx(ne,{value:r.value,children:r.label},i))})})},mt=e=>{var n,l;return{colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:((l=(n=e.setting)==null?void 0:n.options)==null?void 0:l.map(s=>({label:s.label,value:s.value})))||[],showConfirmAndReset:!0},cell:({row:s})=>{var i,m;const a=((i=e.setting)==null?void 0:i.keys_label)||"label",r=s[o(e.name)];return((m=r==null?void 0:r.map)==null?void 0:m.call(r,(u,g)=>t.jsx(T,{theme:"primary",variant:"outline",children:u[a]},g)))||"-"}}},ut=({field:e,data:n})=>{var s;const l=((s=e.setting)==null?void 0:s.keys_label)||"label";return(n==null?void 0:n.map(a=>a[l]).join(","))||"-"},xt=()=>({name:"checkbox",label:d()("magic.checkbox",{ns:"extend"}),ParamsRender:ot,TableRender:mt,FormRender:dt,ShowRender:ut}),B=()=>{const{request:e,isLoading:n}=Oe(),[l,s]=R.useState([]),a=d();return R.useEffect(()=>{e("tools/magic/source").then(r=>{s((r==null?void 0:r.data)||[])})},[]),t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:a("magic.source.name",{ns:"extend"}),name:"source",children:t.jsx(A,{clearable:!0,filterable:!0,options:l,loading:n,loadingText:a("loading")})}),t.jsx(c.FormItem,{label:a("magic.source.keyLabel",{ns:"extend"}),name:"keys_label",children:t.jsx(h,{})}),t.jsx(c.FormItem,{label:a("magic.source.keyValue",{ns:"extend"}),name:"keys_value",children:t.jsx(h,{})})]})},gt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.options.name",{ns:"extend"}),children:t.jsx("div",{className:"w-full flex flex-col gap-4",children:t.jsx(c.FormList,{name:"options",children:(n,{add:l,remove:s})=>t.jsxs(t.Fragment,{children:[n.map(({key:a,name:r,...i})=>t.jsxs("div",{className:"flex",children:[t.jsx(c.FormItem,{...i,name:[r,"label"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.label",{ns:"extend"})})}),t.jsx(c.FormItem,{...i,name:[r,"value"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.value",{ns:"extend"})})}),t.jsx(c.FormItem,{className:"flex-none",children:t.jsx(L,{name:"minus-rectangle",size:"20px",style:{cursor:"pointer"},onClick:()=>s(r)})})]},a)),t.jsx(c.FormItem,{children:t.jsx(_,{theme:"default",variant:"dashed",onClick:()=>l({province:"bj",area:"tzmax"}),children:e("magic.options.add",{ns:"extend"})})})]})})})}),t.jsx(B,{}),t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(h,{})}),t.jsx(j,{})]})},bt=e=>{var n,l,s,a,r,i,m,u,g,x,b;return console.log("params.setting",e.setting),t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:(s=e.setting)!=null&&s.source?t.jsx(J,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,optionLabel:((x=e.setting)==null?void 0:x.keys_label)||"label",optionValue:((b=e.setting)==null?void 0:b.keys_value)||"value"}):t.jsx(A,{options:Array.isArray((a=e.setting)==null?void 0:a.options)?(r=e.setting)==null?void 0:r.options:typeof((i=e.setting)==null?void 0:i.options)=="string"?JSON.parse((m=e.setting)==null?void 0:m.options):void 0,clearable:!0,filterable:!0,keys:{label:((u=e.setting)==null?void 0:u.keys_label)||"label",value:((g=e.setting)==null?void 0:g.keys_value)||"value"}})})},ht=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>{var a;const l=((a=e.setting)==null?void 0:a.keys_label)||"label",s=n[o(e.name)];return s?t.jsx(T,{theme:"primary",variant:"outline",children:s[l]}):"-"}}),jt=({field:e,data:n})=>{var s;const l=((s=e.setting)==null?void 0:s.keys_label)||"label";return n[l]||"-"},ft=e=>{var l,s,a,r,i,m,u,g,x;const n=d();return t.jsx(N,{name:e.name,children:(l=e.setting)!=null&&l.source?t.jsx(J,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,optionLabel:((g=e.setting)==null?void 0:g.keys_label)||"label",optionValue:((x=e.setting)==null?void 0:x.keys_value)||"value",placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`}):t.jsx(A,{options:Array.isArray((s=e.setting)==null?void 0:s.options)?(a=e.setting)==null?void 0:a.options:typeof((r=e.setting)==null?void 0:r.options)=="string"?JSON.parse((i=e.setting)==null?void 0:i.options):void 0,clearable:!0,filterable:!0,keys:{label:((m=e.setting)==null?void 0:m.keys_label)||"label",value:((u=e.setting)==null?void 0:u.keys_value)||"value"},placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},yt=()=>({name:"select",label:d()("magic.select",{ns:"extend"}),ParamsRender:gt,TableRender:ht,FormRender:bt,FilterRender:ft,ShowRender:jt}),Rt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(ce,{})}),t.jsx(j,{})]})},vt=e=>{var n,l;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(ce,{})})},Ft=(e,n)=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:[{label:n("magic.status.open",{ns:"extend"}),value:1},{label:n("magic.status.close",{ns:"extend"}),value:0}],showConfirmAndReset:!0},cell:({row:l})=>l[o(e.name)]?t.jsx(T,{theme:"success",variant:"outline",children:n("magic.status.open",{ns:"extend"})}):t.jsx(T,{theme:"danger",variant:"outline",children:n("magic.status.close",{ns:"extend"})})}),$t=({data:e,t:n})=>e?n("magic.status.open",{ns:"extend"}):n("magic.status.close",{ns:"extend"}),kt=()=>({name:"switch",label:d()("magic.switch",{ns:"extend"}),ParamsRender:Rt,TableRender:Ft,FormRender:vt,ShowRender:$t}),Nt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(h,{})}),t.jsx(j,{})]})},_t=e=>{var n,l;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(h,{})})},It=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"input",showConfirmAndReset:!0},cell:({row:n})=>n[o(e.name)]||"-"}),St=({data:e})=>e||"-",Pt=()=>({name:"textarea",label:d()("magic.textarea",{ns:"extend"}),ParamsRender:Nt,FormRender:_t,TableRender:It,ShowRender:St}),wt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.date.format",{ns:"extend"}),name:"format",initialData:"HH:mm:ss",children:t.jsx(h,{})}),t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(ae,{className:"w-full"})}),t.jsx(j,{})]})},Tt=e=>{var n,l,s;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(ae,{format:(s=e.setting)==null?void 0:s.format})})},At=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>(n==null?void 0:n[o(e.name)])||"-"}),Ct=e=>{const n=d();return t.jsx(N,{name:e.name,children:t.jsx(z,{className:"w-full",placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},Et=({data:e})=>e||"-",Dt=()=>({name:"time",label:d()("magic.time",{ns:"extend"}),ParamsRender:wt,TableRender:At,FormRender:Tt,FilterRender:Ct,ShowRender:Et}),Lt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.date.format",{ns:"extend"}),name:"format",initialData:"HH:mm:ss",children:t.jsx(h,{})}),t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(z,{className:"w-full"})}),t.jsx(j,{})]})},zt=e=>{var n,l,s;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(z,{format:(s=e.setting)==null?void 0:s.format})})},pt=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>{var l;return((l=n==null?void 0:n[o(e.name)])==null?void 0:l.join(" ~ "))||"-"}}),Mt=e=>{const n=d();return t.jsx(N,{name:e.name,children:t.jsx(z,{className:"w-full",placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},Ot=({data:e})=>(e==null?void 0:e.join(" ~ "))||"-",Kt=()=>({name:"timeRange",label:d()("magic.timeRange",{ns:"extend"}),ParamsRender:Lt,TableRender:pt,FormRender:zt,FilterRender:Mt,ShowRender:Ot}),Ht=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.date.format",{ns:"extend"}),name:"format",initialData:"YYYY-MM-DD",children:t.jsx(h,{})}),t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(oe,{className:"w-full"})}),t.jsx(j,{})]})},Jt=e=>{var n,l,s;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(oe,{format:(s=e.setting)==null?void 0:s.format})})},Bt=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>(n==null?void 0:n[o(e.name)])||"-"}),Vt=e=>{const n=d();return t.jsx(N,{name:e.name,children:t.jsx(O,{className:"w-full",placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},Ut=({data:e})=>e||"-",Yt=()=>({name:"date",label:d()("magic.date.name",{ns:"extend"}),ParamsRender:Ht,TableRender:Bt,FormRender:Jt,FilterRender:Vt,ShowRender:Ut}),Gt=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.date.format",{ns:"extend"}),name:"format",initialData:"YYYY-MM-DD",children:t.jsx(h,{})}),t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(O,{className:"w-full"})}),t.jsx(j,{})]})},qt=e=>{var n,l,s;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(O,{format:(s=e.setting)==null?void 0:s.format})})},Xt=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>{var l;return((l=n==null?void 0:n[o(e.name)])==null?void 0:l.join(" ~ "))||"-"}}),Wt=e=>{const n=d();return t.jsx(N,{name:e.name,children:t.jsx(O,{className:"w-full",placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},Qt=({data:e})=>(e==null?void 0:e.join(" ~ "))||"-",Zt=()=>({name:"dateRange",label:d()("magic.dateRange",{ns:"extend"}),ParamsRender:Gt,TableRender:Xt,FormRender:qt,FilterRender:Wt,ShowRender:Qt}),en=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(q,{className:"w-full",format:"HEX"})}),t.jsx(j,{})]})},tn=e=>{var n,l;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(q,{})})},nn=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{component:q,props:{format:"HEX"},showConfirmAndReset:!0},cell:({row:n})=>t.jsx(t.Fragment,{children:n!=null&&n[o(e.name)]?t.jsx(Ke,{content:n[o(e.name)],children:t.jsx("div",{className:"h-5 w-5 flex-none rounded-full",style:{backgroundColor:n[o(e.name)]}})}):"-"})}),ln=({data:e})=>e||"-",sn=()=>({name:"color",label:d()("magic.color",{ns:"extend"}),ParamsRender:en,TableRender:nn,FormRender:tn,ShowRender:ln}),an=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.options.name",{ns:"extend"}),name:"options",help:t.jsxs("div",{children:[e("magic.rule.help",{ns:"extend"}),t.jsxs(k,{className:"mx-2",href:"https://tdesign.tencent.com/react/components/cascader",target:"_blank",children:["[",e("magic.rule.docs",{ns:"extend"}),"]"]})]}),children:t.jsx(X,{})}),t.jsx(B,{}),t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(h,{})}),t.jsx(j,{})]})},rn=e=>{var n,l,s,a,r,i,m,u,g,x,b;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:(s=e.setting)!=null&&s.source?t.jsx(K,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,checkStrictly:!0,keys:{label:((x=e.setting)==null?void 0:x.keys_label)||"label",value:((b=e.setting)==null?void 0:b.keys_value)||"value"}}):t.jsx(H,{options:Array.isArray((a=e.setting)==null?void 0:a.options)?(r=e.setting)==null?void 0:r.options:typeof((i=e.setting)==null?void 0:i.options)=="string"?JSON.parse((m=e.setting)==null?void 0:m.options):void 0,clearable:!0,filterable:!0,checkStrictly:!0,keys:{label:((u=e.setting)==null?void 0:u.keys_label)||"label",value:((g=e.setting)==null?void 0:g.keys_value)||"value"}})})},cn=e=>{var l,s,a,r,i,m,u,g,x;const n=d();return t.jsx(N,{name:e.name,children:(l=e.setting)!=null&&l.source?t.jsx(K,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,checkStrictly:!0,keys:{label:((g=e.setting)==null?void 0:g.keys_label)||"label",value:((x=e.setting)==null?void 0:x.keys_value)||"value"},placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`}):t.jsx(H,{options:Array.isArray((s=e.setting)==null?void 0:s.options)?(a=e.setting)==null?void 0:a.options:typeof((r=e.setting)==null?void 0:r.options)=="string"?JSON.parse((i=e.setting)==null?void 0:i.options):void 0,clearable:!0,filterable:!0,checkStrictly:!0,keys:{label:((m=e.setting)==null?void 0:m.keys_label)||"label",value:((u=e.setting)==null?void 0:u.keys_value)||"value"},placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},on=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>{var a;const l=((a=e.setting)==null?void 0:a.keys_label)||"label",s=n[o(e.name)];return s==null?void 0:s.map(r=>r[l]).join(" > ")}}),dn=({field:e,data:n})=>{var s;const l=((s=e.setting)==null?void 0:s.keys_label)||"label";return t.jsx("div",{className:"w-full border border-rounded border-component divide-y divide-gray-9 px-4 py-2",children:n==null?void 0:n.map(a=>a[l]).join(" > ")})},mn=()=>({name:"cascader",label:d()("magic.cascader",{ns:"extend"}),ParamsRender:an,FormRender:rn,TableRender:on,FilterRender:cn,ShowRender:dn}),un=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.options.name",{ns:"extend"}),name:"options",help:t.jsxs("div",{children:[e("magic.rule.help",{ns:"extend"}),t.jsxs(k,{className:"mx-2",href:"https://tdesign.tencent.com/react/components/cascader",target:"_blank",children:["[",e("magic.rule.docs",{ns:"extend"}),"]"]})]}),children:t.jsx(X,{})}),t.jsx(B,{}),t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(G,{})}),t.jsx(j,{})]})},xn=e=>{var n,l,s,a,r,i,m,u,g,x,b;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:(s=e.setting)!=null&&s.source?t.jsx(K,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,multiple:!0,keys:{label:((x=e.setting)==null?void 0:x.keys_label)||"label",value:((b=e.setting)==null?void 0:b.keys_value)||"value"}}):t.jsx(H,{options:Array.isArray((a=e.setting)==null?void 0:a.options)?(r=e.setting)==null?void 0:r.options:typeof((i=e.setting)==null?void 0:i.options)=="string"?JSON.parse((m=e.setting)==null?void 0:m.options):void 0,clearable:!0,filterable:!0,multiple:!0,keys:{label:((u=e.setting)==null?void 0:u.keys_label)||"label",value:((g=e.setting)==null?void 0:g.keys_value)||"value"}})})},gn=e=>{var l,s,a,r,i;const n=d();return t.jsx(N,{name:e.name,children:(l=e.setting)!=null&&l.source?t.jsx(K,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,multiple:!0,checkStrictly:!0,keys:{label:((r=e.setting)==null?void 0:r.keys_label)||"label",value:((i=e.setting)==null?void 0:i.keys_value)||"value"},placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`}):t.jsx(H,{clearable:!0,filterable:!0,multiple:!0,checkStrictly:!0,keys:{label:((s=e.setting)==null?void 0:s.keys_label)||"label",value:((a=e.setting)==null?void 0:a.keys_value)||"value"},placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},bn=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>{var a;const l=((a=e.setting)==null?void 0:a.keys_label)||"label",s=n[o(e.name)];return s==null?void 0:s.map((r,i)=>t.jsx("div",{children:r.map(m=>m[l]).join(" > ")},i))}}),hn=({field:e,data:n})=>{var s;const l=((s=e.setting)==null?void 0:s.keys_label)||"label";return t.jsx("div",{className:"w-full border border-rounded border-component divide-y divide-gray-9",children:n==null?void 0:n.map((a,r)=>t.jsx("div",{className:"px-4 py-2",children:a==null?void 0:a.map(i=>i[l]).join(" > ")},r))})},jn=()=>({name:"cascader-multi",label:d()("magic.cascaderMulti",{ns:"extend"}),ParamsRender:un,FormRender:xn,TableRender:bn,FilterRender:gn,ShowRender:hn}),fn=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.options.name",{ns:"extend"}),children:t.jsx("div",{className:"w-full flex flex-col gap-4",children:t.jsx(c.FormList,{name:"options",children:(n,{add:l,remove:s})=>t.jsxs(t.Fragment,{children:[n.map(({key:a,name:r,...i})=>t.jsxs("div",{className:"flex",children:[t.jsx(c.FormItem,{...i,name:[r,"label"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.label",{ns:"extend"})})}),t.jsx(c.FormItem,{...i,name:[r,"value"],className:"w-0 flex-1",children:t.jsx(h,{placeholder:e("magic.options.value",{ns:"extend"})})}),t.jsx(c.FormItem,{className:"flex-none",children:t.jsx(L,{name:"minus-rectangle",size:"20px",style:{cursor:"pointer"},onClick:()=>s(r)})})]},a)),t.jsx(c.FormItem,{children:t.jsx(_,{theme:"default",variant:"dashed",onClick:()=>l({province:"bj",area:"tzmax"}),children:e("magic.options.add",{ns:"extend"})})})]})})})}),t.jsx(B,{}),t.jsx(c.FormItem,{label:e("magic.default",{ns:"extend"}),name:"default",children:t.jsx(G,{})}),t.jsx(j,{})]})},yn=e=>{var n,l,s,a,r,i,m,u,g,x,b;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:(s=e.setting)!=null&&s.source?t.jsx(J,{url:"tools/magic/sourceData",query:{name:e.setting.source},clearable:!0,filterable:!0,multiple:!0,keys:{label:((x=e.setting)==null?void 0:x.keys_label)||"label",value:((b=e.setting)==null?void 0:b.keys_value)||"value"}}):t.jsx(A,{options:Array.isArray((a=e.setting)==null?void 0:a.options)?(r=e.setting)==null?void 0:r.options:typeof((i=e.setting)==null?void 0:i.options)=="string"?JSON.parse((m=e.setting)==null?void 0:m.options):void 0,clearable:!0,filterable:!0,multiple:!0,keys:{label:((u=e.setting)==null?void 0:u.keys_label)||"label",value:((g=e.setting)==null?void 0:g.keys_value)||"value"}})})},Rn=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>{var a,r;const l=((a=e.setting)==null?void 0:a.keys_label)||"label",s=n[o(e.name)];return((r=s==null?void 0:s.map)==null?void 0:r.call(s,(i,m)=>t.jsx(T,{theme:"primary",variant:"outline",children:i[l]},m)))||"-"}}),vn=({field:e,data:n})=>{var s;const l=((s=e.setting)==null?void 0:s.keys_label)||"label";return(n==null?void 0:n.map(a=>a[l]).join(","))||"-"},Fn=e=>{var l,s,a,r,i,m,u,g,x;const n=d();return t.jsx(N,{name:e.name,children:(l=e.setting)!=null&&l.source?t.jsx(J,{url:"tools/magic/sourceData",clearable:!0,filterable:!0,optionLabel:((g=e.setting)==null?void 0:g.keys_label)||"label",optionValue:((x=e.setting)==null?void 0:x.keys_value)||"value",placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`}):t.jsx(A,{options:Array.isArray((s=e.setting)==null?void 0:s.options)?(a=e.setting)==null?void 0:a.options:typeof((r=e.setting)==null?void 0:r.options)=="string"?JSON.parse((i=e.setting)==null?void 0:i.options):void 0,clearable:!0,filterable:!0,keys:{label:((m=e.setting)==null?void 0:m.keys_label)||"label",value:((u=e.setting)==null?void 0:u.keys_value)||"value"},placeholder:`${n("magic.placeholder.select",{ns:"extend"})}${e.label}`})})},$n=()=>({name:"select-multi",label:d()("magic.selectMulti",{ns:"extend"}),ParamsRender:fn,TableRender:Rn,FormRender:yn,FilterRender:Fn,ShowRender:vn}),kn=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.size.list",{ns:"extend"}),name:"size",initialData:100,children:t.jsx(w,{theme:"column"})}),t.jsx(j,{})]})},Nn=e=>{var n,l;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(de,{className:"w-full"})})},_n=(e,n)=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:[{label:n("magic.upload.uploaded",{ns:"extend"}),value:1},{label:n("magic.upload.notUploaded",{ns:"extend"}),value:0}],showConfirmAndReset:!0},cell:({row:l})=>l!=null&&l[o(e.name)]?t.jsx(p,{trigger:({open:s})=>{var a,r;return t.jsx(M,{src:l[o(e.name)],style:{width:((a=e==null?void 0:e.setting)==null?void 0:a.size)||100,height:((r=e==null?void 0:e.setting)==null?void 0:r.size)||100,border:"4px solid var(--td-bg-color-secondarycontainer)",borderRadius:"var(--td-radius-medium)",backgroundColor:"var(--td-bg-color-container)"},fit:"contain",overlayContent:t.jsx("div",{style:{background:"rgba(0,0,0,.6)",color:"#fff",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},onClick:s,children:t.jsx("span",{children:t.jsx(He,{size:"16px"})})}),overlayTrigger:"hover"})},images:[l[o(e.name)]]}):"-"}),In=({data:e,field:n})=>e?t.jsx(p,{trigger:({open:l})=>{var s,a;return t.jsx(M,{src:e,style:{width:((s=n==null?void 0:n.setting)==null?void 0:s.size)||100,height:((a=n==null?void 0:n.setting)==null?void 0:a.size)||100},fit:"contain",onClick:l,className:"cursor-pointer"})},images:[e]}):"-",Sn=()=>({name:"image",label:d()("magic.image",{ns:"extend"}),ParamsRender:kn,TableRender:_n,FormRender:Nn,ShowRender:In}),Pn=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.size.list",{ns:"extend"}),name:"size",initialData:100,children:t.jsx(w,{theme:"column"})}),t.jsx(j,{})]})},wn=e=>{var n,l;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(de,{className:"w-full",multiple:!0})})},Tn=(e,n)=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:[{label:n("magic.upload.uploaded",{ns:"extend"}),value:1},{label:n("magic.upload.notUploaded",{ns:"extend"}),value:0}],showConfirmAndReset:!0},cell:({row:l})=>Array.isArray(l==null?void 0:l[o(e.name)])&&l[o(e.name)].length>0?t.jsx(p,{trigger:({open:s})=>{var a,r;return t.jsx(M,{src:l[o(e.name)][0],style:{width:((a=e==null?void 0:e.setting)==null?void 0:a.size)||100,height:((r=e==null?void 0:e.setting)==null?void 0:r.size)||100},gallery:!0,fit:"contain",onClick:s,className:"cursor-pointer"})},images:l[o(e.name)]}):"-"}),An=({data:e,field:n})=>t.jsx("div",{className:"flex flex-wrap gap-4",children:Array.isArray(e)?e==null?void 0:e.map((l,s)=>t.jsx(p,{trigger:({open:a})=>{var r,i;return t.jsx(M,{src:l,style:{width:((r=n==null?void 0:n.setting)==null?void 0:r.size)||100,height:((i=n==null?void 0:n.setting)==null?void 0:i.size)||100},fit:"contain",onClick:a,className:"cursor-pointer"})},images:e},s)):"-"}),Cn=()=>({name:"images",label:d()("magic.images",{ns:"extend"}),ParamsRender:Pn,TableRender:Tn,FormRender:wn,ShowRender:An}),En=()=>t.jsx(t.Fragment,{children:t.jsx(j,{})}),Dn=e=>{var n,l;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(me,{className:"w-full",draggable:!0})})},Ln=(e,n)=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:[{label:n("magic.upload.uploaded",{ns:"extend"}),value:1},{label:n("magic.upload.notUploaded",{ns:"extend"}),value:0}],showConfirmAndReset:!0},cell:({row:l})=>{var s;return l!=null&&l[o(e.name)]?t.jsx(k,{theme:"primary",href:(s=l[o(e.name)])==null?void 0:s.url,target:"_block",children:n("magic.upload.download",{ns:"extend"})}):"-"}}),zn=({data:e,t:n})=>e?t.jsx("div",{className:"w-full border border-rounded border-component divide-y divide-gray-9 px-4 py-2",children:t.jsx(k,{theme:"primary",href:e==null?void 0:e.url,target:"_block",children:n("magic.upload.download",{ns:"extend"})})}):"-",pn=()=>({name:"file",label:d()("magic.file",{ns:"extend"}),ParamsRender:En,TableRender:Ln,FormRender:Dn,ShowRender:zn}),Mn=()=>t.jsx(t.Fragment,{children:t.jsx(j,{})}),On=e=>{var n,l;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(me,{className:"w-full",draggable:!0,multiple:!0,theme:"file-flow"})})},Kn=(e,n)=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"single",list:[{label:n("magic.upload.uploaded",{ns:"extend"}),value:1},{label:n("magic.upload.notUploaded",{ns:"extend"}),value:0}],showConfirmAndReset:!0},cell:({row:l})=>Array.isArray(l==null?void 0:l[o(e.name)])&&l[o(e.name)].length>0?t.jsx(re,{trigger:t.jsx(k,{theme:"primary",children:n("magic.upload.view",{ns:"extend"})}),width:600,title:n("magic.upload.view",{ns:"extend"}),children:t.jsx("div",{className:"p-4",children:t.jsx(se,{children:l[o(e.name)].map((s,a)=>t.jsx(se.ListItem,{action:t.jsx(k,{theme:"primary",hover:"color",href:s.url,target:"_block",children:n("magic.upload.download",{ns:"extend"})}),children:s.name},a))})})}):"-"}),Hn=({data:e,t:n})=>Array.isArray(e)?t.jsx("div",{className:"w-full border border-rounded border-component divide-y divide-gray-9",children:e==null?void 0:e.map((l,s)=>t.jsxs("div",{className:"px-4 py-2 flex justify-between",children:[l.name,t.jsx(k,{theme:"primary",hover:"color",href:l.url,target:"_block",children:n("magic.upload.download",{ns:"extend"})})]},s))}):"-",Jn=()=>({name:"files",label:d()("magic.files",{ns:"extend"}),ParamsRender:Mn,TableRender:Kn,FormRender:On,ShowRender:Hn}),Bn=()=>t.jsx(t.Fragment,{children:t.jsx(j,{})}),Vn=e=>{var n,l;return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(n=e.setting)==null?void 0:n.default,rules:((l=e.setting)==null?void 0:l.rules)||[],children:t.jsx(Ve,{})})},Un=(e,n)=>({colKey:o(e.name),title:e.label,ellipsis:!0,filter:{type:"input",showConfirmAndReset:!0},cell:({row:l})=>l!=null&&l[o(e.name)]?t.jsx(re,{trigger:t.jsx(k,{theme:"primary",children:n("magic.editor.view",{ns:"extend"})}),width:600,title:n("magic.editor.view",{ns:"extend"}),children:t.jsx("div",{dangerouslySetInnerHTML:{__html:l[o(e.name)]},className:"p-4 text-sm prose"})}):"-"}),Yn=({data:e})=>t.jsx("div",{dangerouslySetInnerHTML:{__html:e},className:"w-full border border-rounded bg-component border-component px-4 py-2 text-sm prose max-h-4xl overflow-auto"}),Gn=()=>({name:"editor",label:d()("magic.editor.name",{ns:"extend"}),ParamsRender:Bn,TableRender:Un,FormRender:Vn,ShowRender:Yn}),V=R.createContext({default:!0,name:void 0,arrayNames:[]}),be=()=>R.useContext(V),qn=()=>null,Xn=({children:e,name:n})=>t.jsx(V.Provider,{value:{name:n},children:e}),Wn=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>null}),Qn=()=>({name:"object",label:d()("magic.object",{ns:"extend"}),ParamsRender:qn,FormRender:Xn,TableRender:Wn,child:!0}),Zn=()=>null,el=({name:e,label:n,setting:l,child:s})=>{const a=be(),r=fe([...a.arrayNames||[],...Array.isArray(e)?e:[e]]),{itemsIndex:i}=ye();return t.jsx(c.FormList,{name:r,children:(m,{add:u,remove:g})=>t.jsx(c.FormItem,{label:t.jsxs("div",{className:"flex gap-1 items-center mb-2",children:[t.jsx("span",{children:n}),t.jsx(_,{variant:"text",shape:"circle",theme:"default",icon:t.jsx("div",{className:"i-tabler:plus t-icon"}),onClick:()=>{var x,b;return u(((b=(x=s==null?void 0:s[0])==null?void 0:x.setting)==null?void 0:b.default)||"")}})]}),initialData:l==null?void 0:l.default,rules:(l==null?void 0:l.rules)||[],children:t.jsx("div",{className:"gap-3 flex flex-wrap",children:m.map((x,b)=>t.jsxs(ie,{children:[typeof s<"u"&&s.map(($,I)=>{const S=i[$.type];return t.jsx(V.Provider,{value:{arrayNames:r},children:t.jsx(S.FormRender,{...$,name:""+b})},I)}),t.jsx(_,{variant:"text",shape:"circle",theme:"default",icon:t.jsx("div",{className:"i-tabler:x t-icon"}),onClick:()=>g(b),className:"absolute right-0.5 top-0.5"})]},b))})})})},tl=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>null}),nl=()=>({name:"array",label:d()("magic.array",{ns:"extend"}),ParamsRender:Zn,FormRender:el,TableRender:tl,child:{max:1}}),ll=()=>null,he=R.createContext({}),sl=({name:e,label:n,setting:l,child:s})=>{const a=be(),r=fe([...a.arrayNames||[],...Array.isArray(e)?e:[e]]);return t.jsx(he.Provider,{value:{label:n,names:r,setting:l,child:s},children:t.jsx(c.FormList,{name:r,children:(i,{add:m,remove:u})=>t.jsx(al,{fields:i,add:m,remove:u})})})},al=({fields:e,add:n,remove:l})=>{const{label:s,names:a,setting:r,child:i}=R.useContext(he),{itemsIndex:m}=ye();return t.jsx(c.FormItem,{label:t.jsxs("div",{className:"flex gap-1 items-center mb-2",children:[t.jsx("span",{children:s}),t.jsx(_,{variant:"text",shape:"circle",theme:"default",icon:t.jsx("div",{className:"i-tabler:plus t-icon"}),onClick:()=>{n(Object.fromEntries((i==null?void 0:i.map(u=>{var g;return[u.name,(g=u.setting)==null?void 0:g.default]}))||[]))}})]}),initialData:r==null?void 0:r.default,rules:(r==null?void 0:r.rules)||[],children:t.jsx("div",{className:"gap-3 flex flex-wrap",children:e.map((u,g)=>t.jsx(ie,{header:t.jsxs("div",{className:"flex justify-between items-center w-full",children:[t.jsxs("span",{children:["项目",g+1]}),t.jsx(_,{variant:"text",shape:"circle",theme:"default",icon:t.jsx("div",{className:"i-tabler:x t-icon"}),onClick:()=>l(g),className:"absolute right-2"})]}),children:t.jsx("div",{className:"gap-3 flex flex-col magic-form",children:typeof i<"u"&&i.map((x,b)=>{const $=m[x.type],I=[""+g,o(x.name)];return t.jsx(V.Provider,{value:{arrayNames:a},children:t.jsx($.FormRender,{...x,name:I})},b)})})},g))})})},rl=e=>({colKey:o(e.name),title:e.label,ellipsis:!0,cell:({row:n})=>null}),il=()=>({name:"arrayObject",label:d()("magic.arrayObject",{ns:"extend"}),ParamsRender:ll,FormRender:sl,TableRender:rl,child:!0}),je=(e,n)=>{if(e===n)return!0;if(e!==null&&n!==null&&(typeof e!="object"||typeof n!="object"))return!1;const l=[Object.keys(e),Object.keys(n)];return l[0].length!==l[1].length?!1:l[0].every(s=>{const a=[e[s],n[s]];return a[0]===a[1]?!0:a[0]&&typeof a[0]=="object"&&a[1]&&typeof a[1]=="object"?je(...a):!1})},fe=e=>{const n=R.useRef(e);return R.useMemo(()=>(je(n.current,e)||(n.current=e),n.current),[e])},cl=()=>{const e=d();return t.jsxs(t.Fragment,{children:[t.jsx(c.FormItem,{label:e("magic.mapAddress.coordomates",{ns:"extend"}),name:"coordomates",children:t.jsxs(C.Group,{children:[t.jsxs(C,{value:"GCJ02",children:["GCJ02(",e("magic.mapAddress.amap",{ns:"extend"}),")"]}),t.jsxs(C,{value:"BD09",children:["BD09(",e("magic.mapAddress.baidu",{ns:"extend"}),")"]})]})}),t.jsx(j,{})]})},ol=e=>{var l,s,a;const n=R.useMemo(()=>{var r;switch((r=e.setting)==null?void 0:r.coordomates){case"BD09":return le.BD09;default:return le.GCJ02}},[(l=e.setting)==null?void 0:l.coordomates]);return t.jsx(c.FormItem,{label:e.label,name:e.name,initialData:(s=e.setting)==null?void 0:s.default,rules:((a=e.setting)==null?void 0:a.rules)||[],children:t.jsx(Je,{type:n})})},dl=e=>({colKey:o(e.name),title:e.label}),ml=()=>({name:"map-address",label:d()("magic.mapAddress.name",{ns:"extend"}),ParamsRender:cl,TableRender:dl,FormRender:ol}),ye=()=>{const e=[We(),Pt(),lt(),ct(),xt(),yt(),$n(),kt(),Dt(),Kt(),Yt(),Zt(),sn(),mn(),jn(),Sn(),Cn(),pn(),Jn(),Gn(),nl(),il(),Qn(),ml()],n=Object.fromEntries(e.map(l=>[l.name,l]));return{items:e,itemsIndex:n}};export{se as L,We as a,Pt as b,lt as c,ct as d,xt as e,yt as f,$n as g,kt as h,Dt as i,Kt as j,Yt as k,Zt as l,sn as m,mn as n,jn as o,Sn as p,Cn as q,pn as r,Jn as s,Gn as t,ye as u,ml as v,be as w,o as x};
