import{X as d,au as f}from"./vendor-refine-N0YDYeEW.js";import{S as h}from"./modulepreload-polyfill-qjA-9dc5.js";import"./vendor-react-BlTfyhut.js";import"./vendor-map-DEYI1At9.js";import"./vendor-echarts-YtT1A1hM.js";import"./vendor-tdesign-6RiSygsd.js";import"./vendor-tinymce-DkQhX6vO.js";import"./vendor-lib-DKIH9BQe.js";const M=l=>{const{name:r,config:s}=h(),{data:a}=d();return{action:`${f()}/${r}/${s.apiPath.upload}`,headers:{Accept:"application/json",Authorization:(a==null?void 0:a.token)||""},formatResponse:t=>{var i,n,m,u,c,e;const p=t.XMLHttpRequest;if(p.status!=200){let o={};try{o=JSON.parse(p.response)}catch{}t.error=(o==null?void 0:o.message)||t.statusText}else t.url=(n=(i=t==null?void 0:t.data)==null?void 0:i[0])==null?void 0:n.url,t.name=(u=(m=t==null?void 0:t.data)==null?void 0:m[0])==null?void 0:u.name,t.size=(e=(c=t==null?void 0:t.data)==null?void 0:c[0])==null?void 0:e.size;return t},...l}};export{M as u};
