import{j as s}from"./vendor-map-DEYI1At9.js";import{r as h}from"./vendor-react-BlTfyhut.js";import{I as L,_ as B,W as M}from"./vendor-refine-N0YDYeEW.js";import{S as P,M as z,$ as E,a as g,m as S}from"./modulepreload-polyfill-qjA-9dc5.js";import"./vendor-echarts-YtT1A1hM.js";import{F as v,B as m,aj as $,ak as A,al as H,am as O,O as V,an as W}from"./vendor-tdesign-6RiSygsd.js";import"./vendor-tinymce-DkQhX6vO.js";import"./vendor-lib-DKIH9BQe.js";const X=({className:t,title:c,children:l,onSubmit:n,onResult:d,back:b,rest:u,headerRender:k,actionRender:F,settingRender:x,formProps:N,form:C,...I})=>{var f;const[e,w]=h.useState(),y=L(),o=B(),{resource:a}=M(),{name:p}=P(),[D,j]=h.useState(!1),[i]=v.useForm(C);return s.jsx(z,{title:c,header:k,icon:(f=a==null?void 0:a.meta)==null?void 0:f.icon,actions:s.jsxs(s.Fragment,{children:[b&&s.jsx(m,{onClick:()=>{y()},variant:"outline",icon:s.jsx($,{}),children:o("buttons.back")}),u&&s.jsx(m,{onClick:()=>{i.reset()},variant:"outline",icon:s.jsx(A,{}),loading:!!(e!=null&&e.formLoading),children:o("buttons.rest")}),F,x&&s.jsx(m,{variant:"outline",theme:"primary",icon:s.jsx(H,{}),onClick:()=>j(!0),children:o("buttons.setting")}),s.jsx(m,{onClick:()=>{i.submit()},loading:!!(e!=null&&e.formLoading),icon:s.jsx(O,{}),children:o("buttons.save")})]}),children:s.jsx(V,{className:t,children:s.jsxs(E,{form:i,onResult:r=>{d==null||d(r),w(r)},onSubmit:async r=>{await(n==null?void 0:n(r))},formProps:{labelAlign:"left",className:"divide-y divide-gray-2 dark:divide-gray-10",...N},...I,children:[l,s.jsx(g.Render,{mark:[p,a==null?void 0:a.name,"form"]}),x&&s.jsxs(W,{sizeDraggable:!0,size:"450px",confirmBtn:o("buttons.save"),onConfirm:()=>{j(!1),i.submit()},header:o("buttons.setting"),visible:D,onClose:()=>j(!1),children:[x,s.jsx(g.Render,{mark:[p,a==null?void 0:a.name,"form","setting"]})]})]})})})},Y=({label:t,help:c,requiredMark:l,...n})=>s.jsxs("div",{className:"grid grid-cols-1 mb-4 gap-4 pt-4 md:grid-cols-5",children:[t&&s.jsxs("div",{className:"col-span-2 xl:col-span-1",children:[s.jsxs("div",{className:"relative",children:[l&&s.jsx("span",{className:"absolute text-error -left-3",children:"*"}),t]}),s.jsx("div",{className:"mt-1 text-sm text-placeholder",children:c})]}),s.jsx("div",{className:S([t?"flex items-center col-span-3 xl:col-span-4":"col-span-5"]),children:s.jsx(v.FormItem,{...n,className:"w-full"})})]});export{X as F,Y as a};
