function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/show-I7QbwfGx.js","assets/vendor-map-10JxgbXS.js","assets/vendor-react-CEAiij2-.js","assets/vendor-tdesign-DmncltsQ.js","assets/vendor-refine-D6iU_90Y.js","assets/modulepreload-polyfill-4Dy0yiAt.js","assets/vendor-echarts-BA2V57Gb.js","assets/vendor-tinymce-DBANSpiv.js","assets/vendor-lib-dAQ50EbT.js","assets/index-Bu3kaiJ0.js","assets/useSelect-DBptVLAx.js","assets/cascader-D7PdQROh.js","assets/uploadImage-D-jFrBuT.js","assets/useUpload-MmLUXpAf.js","assets/uploadFile-DUt72bP7.js","assets/tinymce-BCzqwYBv.js","assets/manage-Bjs4uI-D.js","assets/modal-DJLK2wJS.js","assets/form-D9sVU8yU.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as j}from"./index-DpDNW0De.js";import{j as o}from"./vendor-map-10JxgbXS.js";import{A as P,r as R}from"./vendor-react-CEAiij2-.js";import{_ as v,P as M,j as T,g as E,A,$ as F}from"./vendor-refine-D6iU_90Y.js";import{o as _,P as C}from"./modulepreload-polyfill-4Dy0yiAt.js";import"./vendor-echarts-BA2V57Gb.js";import{x,a4 as k,B as y}from"./vendor-tdesign-DmncltsQ.js";import{F as I}from"./page-HpArfIGq.js";import"./vendor-tinymce-DBANSpiv.js";import"./vendor-lib-dAQ50EbT.js";import{a as L,b as w,c as D,d as O,e as N,f as q,g as S,h as K,i as V,j as B,k as H,l as $,m as z,n as G,o as J,p as Q,q as U,r as W,s as X,t as Y,v as Z}from"./index-Bu3kaiJ0.js";import{M as ee}from"./form-D9sVU8yU.js";import"./useSelect-DBptVLAx.js";import"./cascader-D7PdQROh.js";import"./uploadImage-D-jFrBuT.js";import"./useUpload-MmLUXpAf.js";import"./uploadFile-DUt72bP7.js";import"./tinymce-BCzqwYBv.js";import"./manage-Bjs4uI-D.js";const te=({magic:e,editResource:t,fields:r,componentEdit:l,componentShow:c})=>{const a=[L(),w(),D(),O(),N(),q(),S(),K(),V(),B(),H(),$(),z(),G(),J(),Q(),U(),W(),X(),Y(),Z()],n=v(),{mutate:f}=M(),{edit:g}=T(),h=P.useMemo(()=>{const m=[];r==null||r.map(s=>{a.map(d=>{!d||!s.list||d.name!=s.type||m.push(d.TableRender(s,n))})});const u=[{colKey:"link",title:n("table.actions"),fixed:"right",align:"center",width:160,cell:({row:s})=>o.jsxs("div",{className:"flex justify-center gap-4",children:[o.jsx(_,{title:n("buttons.show"),trigger:o.jsx(x,{theme:"primary",children:n("buttons.show")}),component:c,componentProps:{id:s.id,magic:e}}),t?o.jsx(x,{theme:"primary",onClick:()=>g(t,s.id),children:n("buttons.edit")}):o.jsx(_,{title:n("buttons.edit"),trigger:o.jsx(x,{theme:"primary",children:n("buttons.edit")}),component:l,componentProps:{id:s.id,magic:e}}),o.jsx(k,{content:n("buttons.confirm"),destroyOnClose:!0,placement:"top",showArrow:!0,theme:"default",onConfirm:()=>{f({resource:"tools.data",id:s.id,meta:{params:{magic:e}}})},children:o.jsx(x,{theme:"danger",children:n("buttons.delete")})})]})}];return[...m,...u]},[r]),i=P.useMemo(()=>{var u;const m=(u=r==null?void 0:r.map((s,d)=>{if(!(s!=null&&s.search))return;const b=a.find(p=>p&&p.name==s.type&&(p==null?void 0:p.FilterRender));if(!(!b||!b.FilterRender))return o.jsx(b.FilterRender,{...s},d)}))==null?void 0:u.filter(s=>s!=null);return m&&m.length>0?o.jsx(o.Fragment,{children:m}):void 0},[r]);return{columns:h,filters:i}},oe=({data:e})=>{var g,h;const{params:t}=E(),r=v(),{create:l}=T(),{resource:c}=F(),{columns:a,filters:n}=te({fields:(g=e==null?void 0:e.data)==null?void 0:g.fields,magic:t==null?void 0:t.name,editResource:(h=e==null?void 0:e.data)!=null&&h.page?"tools.data":void 0,componentShow:()=>j(()=>import("./show-I7QbwfGx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16])),componentEdit:()=>j(()=>import("./modal-DJLK2wJS.js"),__vite__mapDeps([17,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18]))});R.useEffect(()=>{var i;c!=null&&c.meta&&(c.meta.label=(i=e==null?void 0:e.data)==null?void 0:i.label)},[e]);const f=R.useMemo(()=>{var m,u;const i={rowKey:"id"};return((m=e==null?void 0:e.data)==null?void 0:m.type)=="common"&&(i.pagination=void 0),((u=e==null?void 0:e.data)==null?void 0:u.type)=="tree"&&(i.tree={childrenKey:"children",treeNodeColumnIndex:0,defaultExpandAll:!0},i.pagination=void 0),i},[e]);return o.jsx(C,{columns:a,tableHook:{meta:{params:{magic:t==null?void 0:t.name,action:"show"}}},table:f,actionRender:()=>{var i;return(i=e==null?void 0:e.data)!=null&&i.page?o.jsx(y,{icon:o.jsx("div",{className:"t-icon i-tabler:plus"}),onClick:()=>{l("tools.data")},children:r("buttons.create")}):o.jsx(_,{title:r("buttons.create"),trigger:o.jsx(y,{icon:o.jsx("div",{className:"t-icon i-tabler:plus"}),children:r("buttons.create")}),component:()=>j(()=>import("./modal-DJLK2wJS.js"),__vite__mapDeps([17,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18])),componentProps:{magic:t==null?void 0:t.name}})},filterRender:n?()=>n:void 0})},re=()=>{var l,c,a;const{params:e}=E(),{resource:t}=F(),{data:r}=A({url:"tools/magic/config",method:"get",meta:{params:{magic:e==null?void 0:e.name}},queryOptions:{cacheTime:0}});return t!=null&&t.meta&&(t.meta.label=(l=r==null?void 0:r.data)==null?void 0:l.label),o.jsx(I,{formProps:{labelAlign:"top"},resource:"tools.dataPage",back:!0,id:0,action:"edit",useFormProps:{meta:{mode:"page"},queryOptions:{cacheTime:0}},queryParams:{magic:e==null?void 0:e.name},children:o.jsx("div",{children:((c=r==null?void 0:r.data)==null?void 0:c.fields)&&o.jsx(ee,{fields:(a=r==null?void 0:r.data)==null?void 0:a.fields})})})},se=()=>{const{params:e}=E(),{data:t}=A({url:"tools/magic/config",method:"get",meta:{params:{magic:e==null?void 0:e.name}}});return(t==null?void 0:t.code)!==200?null:t.data.type==="page"?o.jsx(re,{}):o.jsx(oe,{data:t})},ye=()=>{const{params:e}=E();return o.jsx(se,{},e==null?void 0:e.name)};export{ye as default};
